<!-- <div class="row" style="margin-top: 10px;">
    <div class="row ">
        <div class="col-lg-8 col-md-8 col-sm-8">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-4" routerLink="/crm/CrmTrnMyvisit">
                    <div class="cardHead radius-10 border-start border-0 border-3 border-violet">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Today Visits</h5>
                                    <h4 class="badge-violet  badge-outline-violet fs-4 mt-2">{{todayvisit}}</h4>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto"><i
                                        class="fa-solid fa-calendar-days"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-4" routerLink="/crm/CrmTrnMyvisitupcoming">
                    <div class="cardHead radius-10 border-start border-0 border-3 border-skyblue"
                    style="background-color: #d3d7fc;">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Upcoming Visits</h5>
                                    <h4 class="badge-bluess  badge-outline-bluess fs-4 mt-2">{{upcoming}}</h4>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-skyblue text-white ms-auto"><i
                                        class="fas fa-calendar-check"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="col-lg-12 col-md-12 col-sm-12" routerLink="/crm/CrmTrnMyvisitexpired">
                <div class="cardHeadtime radius-10 border-start border-0 border-3 border-pink"
                    style="background-color:#F5F5F5; position: relative; overflow: hidden;">
                    <div class="card-body12" style="position: relative; z-index: 1;">
                        <div class="d-flex align-items-center">
                            <div>
                                <h5 class="mb-0 text-secondary">Expired Visits</h5>
                                <h4 class="badge-coffee  badge-outline-coffee fs-4 mt-2">{{expired}}</h4>
                            </div>
                            <div class="widgets-icons-2 rounded-circle bg-gradient-purples text-white ms-auto"><i
                                    class="fa-solid fa-calendar"></i></div>
                        </div>
                    </div>
                    
                    <div class="card-background"></div>
                </div>
            </div>
        </div>
    </div>
</div> -->

<div class="row" style="margin-top: 10px;">


    <div class="col-lg-3 col-md-3 col-sm-" routerLink="/crm/CrmTrnMyvisit">
        <div class="cardHead radius-10 border-start border-0 border-3 border-violet">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Today</h5>
                        <!-- <div *ngFor=""> -->
                            <h4 class="badge-violet  badge-outline-violet fs-4 mt-2">
                                {{todayvisit}} </h4>
                        <!-- </div> -->
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto"><i
                            class="fa-solid fa-calendar-days"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-3" routerLink="/crm/CrmTrnMyvisitupcoming">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue"  
        style="background-color: rgb(183, 243, 225);">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Upcoming</h5>
                        <!-- <div *ngFor=""> -->
                            <h4 class="badge-blue badge-outline-blue fs-4 mt-2">
                            {{upcoming}}</h4>
                        <!-- </div> -->
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-arrow-up-from-bracket"></i>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-md-3 col-sm-3" routerLink="/crm/CrmTrnMyvisitexpired">
        <div class="cardHead radius-10 border-start border-0 border-3 border-pinkish">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Expired</h5>
                        <!-- <div *ngFor=""> -->
                        <h4 class="badge1 badge-outline1 fs-4 mt-2">{{expired}}</h4>
                        <!-- </div> -->
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-purple text-white ms-auto"><i
                            class="fa-solid fa-users"></i>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-3" routerLink="/crm/CrmTrnVisitcomplete">
        <div class="cardHead radius-10 border-start border-0 border-3 border-orange">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Completed Visit</h5>
                        <!-- <div *ngFor=""> -->
                            <h4 class="badge-brown  badge-outline-brown fs-4 mt-2">
                                {{completed}} </h4>
                        <!-- </div> -->
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkgreen text-white ms-auto"><i
                            class="fa fa-file"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- <div class="col-lg-3 col-md-3 col-sm-3" routerLink="/crm/CrmTrnCustomermarketing">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkgreen">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Customer</h5>
                        <div *ngFor="">
                            <h4 class="badge-green badge-outline-green fs-4 mt-2">
                            </h4>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkgreens text-white ms-auto"><i
                            class="fa-solid fa-users"></i>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!-- <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/crm/CrmTrnDropmarketing">
        <div class="cardHead radius-10 border-start border-0 border-3 border-purple">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Drop</h5>
                        <div *ngFor="">
                            <h4 class="badge-orange badge-outline-orange fs-4 mt-2">
                            </h4>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkoranges text-white ms-auto"><i
                            class="fa-solid fa-circle-down"></i>
                    </div>
                </div>
            </div>
        </div>
    </div> -->

</div>
<div class="card">
    <!-- <div class="card-header">
        <h3 class="card-title">My Visit</h3>
    </div>
    <br> -->
    <div class="row ms-3 mt-3 d-flex align-items-center">
        <div class="col">
            <h3 class="card-title">My Visit-Upcoming Task</h3>
        </div>


        <div class="table-responsive">
            <div class="card card-body m-3 shadow-xl p-3 mb-5 bg-white rounded">
                <table id="upcoming_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                    <thead>
                        <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                            <th>S.No</th>
                            <th>Customer Name </th>
                            <th>Contact Details</th>
                            <th>Customer Address</th>
                            <th>Region/Source</th>
                            <th>Schedule Type</th>
                            <th>Schedule Date Time</th>
                            <th>Schedule Remarks</th>
                            <th>Status</th>
                            <th class="text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of upcoming_list; let i=index;">
                            <td>{{i+1}}</td>
                            <td>{{data.leadbank_name}}</td>
                            <td>{{data.contact_details}}</td>
                            <td>{{data.customer_address}}</td>
                            <td>{{data.region_source}}</td>
                            <td>{{data.schedule_type}}</td>
                            <td>{{data.schedule}}</td>
                            <td>{{data.scheduleRemarks}}</td>
                            <td>{{data.schedule_status}}</td>
                            <td class="text-center text-nowrap">
                                <button (click)="openModal1(data.leadbank_gid,data.log_gid,data.schedulelog_gid)"
                                    title="Close/Postpone" data-bs-toggle="modal" type="button" data-bs-target="#mylog3"
                                    class="btn btn-icon btn-sm bg-dark  me-2" *ngIf="data.schedule_status != 'Closed'"><span
                                        class="fa fa-calendar text-white  fs-6"></span>
                                </button>
                                <button (click)="openModal1(data.leadbank_gid,data.log_gid,data.schedulelog_gid)"
                                    title="Online/Offline" data-bs-toggle="modal" type="button" *ngIf="data.schedule_status != 'Closed'"
                                    data-bs-target="#onilne3" class="btn btn-icon btn-sm bg-success me-2"><span
                                        class="fa fa-phone text-white  fs-6"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal" id="mylog3" data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                    <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                        <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                                class="fas fa-calendar-alt text-primary fw-bolder fs-3"></i>
                            &nbsp;&nbsp;Close/Postpone</h2>
                    </div>
                    <div class="modal-body">
                        <tabset>
                            <tab heading="Close">
                                <form [formGroup]="reactiveForm" #form="ngForm">
                                    <div class="modal-body">

                                        <div class="row"><span class="font-bold"><b>Date Of Demo</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="date_of_demo" type="date" class="
                                                                    form-control form-control-lg form-control-solid
                                                                    custom-input
                                                                    mb-3 mb-lg-0
                                                                    bg-white
                                                                    custom-input
                                                                " [ngStyle]="{
                                                                    'border-color':
                                                                    date_of_demo.invalid && date_of_demo.touched
                                                                        ? 'red'
                                                                        : 'rgb(209, 209, 209)'
                                                                }" pattern="^(?!\s*$).+" name="date_of_demo"
                                                    required />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="date_of_demo.invalid && (date_of_demo.dirty || date_of_demo.touched)">
                                            <div *ngIf="date_of_demo.errors?.['required']">
                                                <span style="color:red;">Date Of Demo is required.</span>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="row"><span class="font-bold"><b>Meeting Time</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="meeting_time" type="time" class="
                                                            form-control form-control-lg form-control-solid
                                                            custom-input
                                                            mb-3 mb-lg-0
                                                            bg-white
                                                            custom-input
                                                        " [ngStyle]="{
                                                            'border-color':
                                                            meeting_time.invalid && meeting_time.touched
                                                                ? 'red'
                                                                : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="meeting_time" required />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="meeting_time.invalid && (meeting_time.dirty || meeting_time.touched)">
                                            <div *ngIf="meeting_time.errors?.['required']">
                                                <span style="color:red;">Meeting Time is required.</span>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="row"><span class="font-bold"><b>Contact Person</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="contact_person" type="text" class="
                                                            form-control form-control-lg form-control-solid
                                                            custom-input
                                                            mb-3 mb-lg-0
                                                            bg-white
                                                            custom-input
                                                        " [ngStyle]="{
                                                            'border-color':
                                                            contact_person.invalid && contact_person.touched
                                                                ? 'red'
                                                                : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="contact_person" required
                                                    maxlength="30" />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="contact_person.invalid && (contact_person.dirty || contact_person.touched)">
                                            <div *ngIf="contact_person.errors?.['required']">
                                                <span style="color:red;">Contact Person is required.</span>
                                            </div>
                                        </div>
                                        <br>


                                        <div class="row"><span class="font-bold"><b>Alternate Person</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="alternate_person" type="text" class="
                                                    form-control form-control-lg form-control-solid
                                                    custom-input
                                                    mb-3 mb-lg-0
                                                    bg-white
                                                    custom-input
                                                " [ngStyle]="{
                                                    'border-color':
                                                    alternate_person.invalid && alternate_person.touched
                                                        ? 'red'
                                                        : 'rgb(209, 209, 209)'
                                                }" pattern="^(?!\s*$).+" name="alternate_person" required
                                                    maxlength="30" />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="alternate_person.invalid && (alternate_person.dirty || alternate_person.touched)">
                                            <div *ngIf="alternate_person.errors?.['required']">
                                                <span style="color:red;">Alternate Person is required.</span>
                                            </div>
                                        </div>
                                        <br>


                                        <div class="row"><span class="font-bold"><b>Location</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="location" type="text" class="
                                            form-control form-control-lg form-control-solid
                                            custom-input
                                            mb-3 mb-lg-0
                                            bg-white
                                            custom-input
                                            " [ngStyle]="{
                                            'border-color':
                                            location.invalid && location.touched
                                                ? 'red'
                                                : 'rgb(209, 209, 209)'
                                            }" pattern="^(?!\s*$).+" name="location" required maxlength="30" />
                                            </div>
                                        </div>
                                        <div *ngIf="location.invalid && (location.dirty || location.touched)">
                                            <div *ngIf="location.errors?.['required']">
                                                <span style="color:red;">Location is required.</span>
                                            </div>
                                        </div>
                                        <br>

                                        <div>
                                            <span class="font-bold"><b>Prospective Percentage(%)</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <ng-select style=" width: 410px;" formControlName="prosperctive_percentage"
                                                [class.is-invalid]="
                                                        prosperctive_percentage.invalid && (prosperctive_percentage.dirty || prosperctive_percentage.touched)"
                                                [ngClass]="{'invalid-border': prosperctive_percentage.invalid && prosperctive_percentage.touched}"
                                                required
                                                class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                                                <!-- <ng-option value="" disabled selected></ng-option> -->
                                                <ng-option value="Select Percentage">--Select
                                                    Percentage--</ng-option>
                                                <ng-option value="25">25</ng-option>
                                                <ng-option value="50">50</ng-option>
                                                <ng-option value="60">60</ng-option>
                                                <ng-option value="75">75</ng-option>
                                                <ng-option value="80">80</ng-option>
                                                <ng-option value="100">100</ng-option>
                                            </ng-select>
                                            <div *ngIf="
                                                    prosperctive_percentage.invalid && (prosperctive_percentage.dirty || prosperctive_percentage.touched)
                                                        " class="invalid-feedback">
                                                <div *ngIf="prosperctive_percentage.errors?.['required']">
                                                    Prospective Percentage is required.
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="mb-3">
                                            <label for="exampleFormControlTextarea1" class="form-label"><b>Schedule
                                                    Remarks</b></label>
                                            <textarea style="resize: none;" class="form-control"
                                                formControlName="schedule_remarks" pattern="^(?![\s\n]*$)[\s\S]+$"
                                                id="exampleFormControlTextarea1" rows="3"></textarea>
                                        </div>
                                        <br>

                                        <div class="text-center my-4">
                                            <button (click)="onsubmitClose()" [disabled]="reactiveForm.invalid"
                                                [ngClass]="{
                                                                                'primary-button': !reactiveForm.invalid,
                                                                                'secondary-button': reactiveForm.invalid
                                                                                }" data-bs-dismiss="modal">
                                                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                                            </button> &nbsp;&nbsp;
                                            <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                                data-bs-dismiss="modal">
                                                <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                            </button>
                                        </div>
                                    </div>

                                </form>
                            </tab>

                            <tab heading="Postponed">
                                <form [formGroup]="reactiveFormPostponed" #form="ngForm">
                                    <div class="modal-body">

                                        <div class="row">
                                            <span class="font-bold"><b>Postponed Date</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="postponed_date" type="date" class="
                                                             form-control form-control-lg form-control-solid
                                                             custom-input
                                                             mb-3 mb-lg-0
                                                             bg-white
                                                             custom-input
                                                           " [ngStyle]="{
                                                             'border-color':
                                                             postponed_date.invalid && postponed_date.touched
                                                                 ? 'red'
                                                                 : 'rgb(209, 209, 209)'
                                                           }" pattern="^(?!\s*$).+" name="postponed_date" required />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="postponed_date.invalid && (postponed_date.dirty || postponed_date.touched)">
                                            <div *ngIf="postponed_date.errors?.['required']">
                                                <span style="color:red;">Postponed Date is required.</span>
                                            </div>
                                        </div>
                                        <br>


                                        <div class="row"><span class="font-bold"><b>Meeting Time</b><span
                                                    class="ms-1 text-red">*</span></span>
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                <input formControlName="meeting_time_postponed" type="time" class="
                                             form-control form-control-lg form-control-solid
                                             custom-input
                                             mb-3 mb-lg-0
                                             bg-white
                                             custom-input
                                           " [ngStyle]="{
                                             'border-color':
                                             meeting_time_postponed.invalid && meeting_time_postponed.touched
                                                 ? 'red'
                                                 : 'rgb(209, 209, 209)'
                                           }" pattern="^(?!\s*$).+" name="meeting_time_postponed" required />
                                            </div>
                                        </div>
                                        <div
                                            *ngIf="meeting_time_postponed.invalid && (meeting_time_postponed.dirty || meeting_time_postponed.touched)">
                                            <div *ngIf="meeting_time_postponed.errors?.['required']">
                                                <span style="color:red;">Meeting Time is required.</span>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="text-center my-4">
                                            <button (click)="onsubmitPostponed()"
                                                [disabled]="reactiveFormPostponed.invalid" [ngClass]="{
                                                                        'primary-button': !reactiveFormPostponed.invalid,
                                                                        'secondary-button': reactiveFormPostponed.invalid
                                                                         }" data-bs-dismiss="modal">
                                                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                                            </button> &nbsp;&nbsp;
                                            <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                                data-bs-dismiss="modal">
                                                <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </tab>


                            <tab heading="Drop">
                                <form [formGroup]="reactiveFormDrop" #form="ngForm">
                                    <div class="modal-body">
                                        <div class="mb-3">
                                            <label for="exampleFormControlTextarea1" class="form-label"><b>Drop
                                                    Reason
                                                </b></label>
                                            <textarea style="resize: none;" class="form-control"
                                                formControlName="drop_reason" pattern="^(?![\s\n]*$)[\s\S]+$"
                                                id="exampleFormControlTextarea1" rows="3"></textarea>
                                        </div>
                                        <br>

                                        <div class="text-center my-4">
                                            <button (click)="onsubmitDrop()" [disabled]="reactiveFormDrop.invalid"
                                                [ngClass]="{
                                                                        'primary-button': !reactiveFormDrop.invalid,
                                                                        'secondary-button': reactiveFormDrop.invalid
                                                                         }" data-bs-dismiss="modal">
                                                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                                            </button> &nbsp;&nbsp;
                                            <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                                data-bs-dismiss="modal">
                                                <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </tab>
                        </tabset>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="onilne3" data-bs-backdrop="static" data-bs-keyboard="false">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                    <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                        <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                                class="fas fa-circle fw-bolder fs-3"></i> &nbsp;&nbsp;Online/Offline</h2>
                    </div>
                    <div class="modal-body">
                        <tabset>
                            <tab heading="Online">
                                <form [formGroup]="reactiveFormonline" #form="ngForm">
                                    <div class="row"><span class="font-bold"><b>Date Of Demo</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="date_of_demo_online" type="date" class="
                                                             form-control form-control-lg form-control-solid
                                                             custom-input
                                                             mb-3 mb-lg-0
                                                             bg-white
                                                             custom-input
                                                           " [ngStyle]="{
                                                             'border-color':
                                                             date_of_demo_online.invalid && date_of_demo_online.touched
                                                                 ? 'red'
                                                                 : 'rgb(209, 209, 209)'
                                                           }" pattern="^(?!\s*$).+" name="date_of_demo_online"
                                                required />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="date_of_demo_online.invalid && (date_of_demo_online.dirty || date_of_demo_online.touched)">
                                        <div *ngIf="date_of_demo_online.errors?.['required']">
                                            <span style="color:red;">Date Of Demo is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Meeting Time</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="meeting_time_online" type="time" class="
                                                     form-control form-control-lg form-control-solid
                                                     custom-input
                                                     mb-3 mb-lg-0
                                                     bg-white
                                                     custom-input
                                                     " [ngStyle]="{
                                                     'border-color':
                                                     meeting_time_online.invalid && meeting_time_online.touched
                                                         ? 'red'
                                                         : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="meeting_time_online" required />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="meeting_time_online.invalid && (meeting_time_online.dirty || meeting_time_online.touched)">
                                        <div *ngIf="meeting_time_online.errors?.['required']">
                                            <span style="color:red;">Meeting Time is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Contact Person</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="contact_person_online" type="text" class="
                                                     form-control form-control-lg form-control-solid
                                                     custom-input
                                                     mb-3 mb-lg-0
                                                     bg-white
                                                     custom-input
                                                     " [ngStyle]="{
                                                     'border-color':
                                                     contact_person_online.invalid && contact_person_online.touched
                                                         ? 'red'
                                                         : 'rgb(209, 209, 209)'
                                                     }" pattern="^(?!\s*$).+" name="contact_person_online" required
                                                maxlength="30" />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="contact_person_online.invalid && (contact_person_online.dirty || contact_person_online.touched)">
                                        <div *ngIf="contact_person_online.errors?.['required']">
                                            <span style="color:red;">Contact Person is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Technical Assist</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="technical_assist" type="text" class="
                                                            form-control form-control-lg form-control-solid
                                                            custom-input
                                                            mb-3 mb-lg-0
                                                            bg-white
                                                            custom-input
                                                        " [ngStyle]="{
                                                            'border-color':
                                                            technical_assist.invalid && technical_assist.touched
                                                                ? 'red'
                                                                : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="technical_assist" required
                                                maxlength="30" />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="technical_assist.invalid && (technical_assist.dirty || technical_assist.touched)">
                                        <div *ngIf="technical_assist.errors?.['required']">
                                            <span style="color:red;">Technical Assist is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Schedule Type</b></span>
                                        <div class="d-flex justify-content-start mt-4 ms-2">
                                            <!--begin::Check-->
                                            <div class="
                                                                form-check
                                                                form-check-custom
                                                                form-check-primary
                                                                form-check-solid
                                                                form-check-sm
                                                                ">
                                                <input class="form-check-input" type="radio" name="schedule_type"
                                                    checked="checked" formControlName="schedule_type" value="Meeting" />
                                                <!--begin::Label-->
                                                <label class="form-check-label text-gray-700 text-nowrap"
                                                    for="kt_builder_header_content_menu">Meeting</label>
                                                <!--end::Label-->
                                            </div>
                                            <!--end::Check-->
                                            <!--begin::Check-->
                                            <div class="
                                                                form-check
                                                                form-check-custom
                                                                form-check-primary
                                                                form-check-solid
                                                                form-check-sm
                                                                ms-10
                                                                ">
                                                <input class="form-check-input" type="radio" name="schedule_type"
                                                    formControlName="schedule_type" value="Demo" />
                                                <!--begin::Label-->
                                                <label class="form-check-label text-gray-700 text-nowrap"
                                                    for="kt_builder_header_content_page-title">Demo</label>
                                                <!--end::Label-->
                                            </div>
                                            <!--end::Check-->
                                        </div>
                                    </div>
                                    <br>

                                    <div>
                                        <span class="font-bold"><b>Prospective Percentage(%)</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <ng-select style=" width: 455px;"
                                            formControlName="prosperctive_percentage_online"
                                            [class.is-invalid]="
                                                prosperctive_percentage_online.invalid && (prosperctive_percentage_online.dirty || prosperctive_percentage_online.touched)"
                                            [ngClass]="{'invalid-border': prosperctive_percentage_online.invalid && prosperctive_percentage_online.touched}"
                                            required class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                                            <!-- <ng-option value="" disabled selected></ng-option> -->
                                            <ng-option value="Select Percentage">--Select
                                                Percentage--</ng-option>
                                            <ng-option value="25">25</ng-option>
                                            <ng-option value="50">50</ng-option>
                                            <ng-option value="60">60</ng-option>
                                            <ng-option value="75">75</ng-option>
                                            <ng-option value="80">80</ng-option>
                                            <ng-option value="100">100</ng-option>
                                        </ng-select>
                                        <div *ngIf="
                                            prosperctive_percentage_online.invalid && (prosperctive_percentage_online.dirty || prosperctive_percentage_online.touched)
                                                      " class="invalid-feedback">
                                            <div *ngIf="prosperctive_percentage_online.errors?.['required']">
                                                Prospective Percentage is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Product Name</b><span
                                                class="ms-1 text-red">*</span></span>

                                        <ng-select style=" width: 455px;" formControlName="product_name"
                                            [class.is-invalid]="
                                                   product_name.invalid && (product_name.dirty || product_name.touched)"
                                            [ngClass]="{'invalid-border': product_name.invalid && product_name.touched}"
                                            [items]="product_list" required
                                            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                                            bindLabel="product_name" bindValue="product_gid">
                                        </ng-select>
                                        <div *ngIf="
                                                   product_name.invalid && (product_name.dirty || product_name.touched)
                                                  " class="invalid-feedback">
                                            <div *ngIf="product_name.errors?.['required']">
                                                ProductName is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Product Group</b><span
                                                class="ms-1 text-red">*</span></span>

                                        <ng-select style=" width: 455px;" formControlName="productgroup_name"
                                            [class.is-invalid]="
                                            productgroup_name.invalid && (productgroup_name.dirty || productgroup_name.touched)"
                                            [ngClass]="{'invalid-border': productgroup_name.invalid && productgroup_name.touched}"
                                            [items]="product_group_list" required
                                            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                                            bindLabel="productgroup_name" bindValue="productgroup_gid"></ng-select>
                                        <div *ngIf="
                                            productgroup_name.invalid && (productgroup_name.dirty || productgroup_name.touched)
                                              " class="invalid-feedback">
                                            <div *ngIf="productgroup_name.errors?.['required']">
                                                ProductGroup is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="mb-3">
                                        <label for="exampleFormControlTextarea1" class="form-label"><b>Demo
                                                Remarks</b></label>
                                        <textarea style="resize: none;" class="form-control"
                                            formControlName="demo_remarks" pattern="^(?![\s\n]*$)[\s\S]+$"
                                            id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>

                                    <div class="text-center my-4">
                                        <button (click)="onsubmitonline()" [disabled]="reactiveFormonline.invalid"
                                            [ngClass]="{
                                                                    'primary-button': !reactiveFormonline.invalid,
                                                                    'secondary-button': reactiveFormonline.invalid
                                                                     }" data-bs-dismiss="modal">
                                            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                                        </button> &nbsp;&nbsp;
                                        <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                            data-bs-dismiss="modal">
                                            <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                        </button>
                                    </div>
                                </form>
                            </tab>
                            <tab heading="Offline">
                                <form [formGroup]="reactiveFormoffline" #form="ngForm">
                                    <div class="row"><span class="font-bold"><b>Date Of Visit</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="date_of_visit_offline" type="date" class="
                                                             form-control form-control-lg form-control-solid
                                                             custom-input
                                                             mb-3 mb-lg-0
                                                             bg-white
                                                             custom-input
                                                           " [ngStyle]="{
                                                             'border-color':
                                                             date_of_visit_offline.invalid && date_of_visit_offline.touched
                                                                 ? 'red'
                                                                 : 'rgb(209, 209, 209)'
                                                           }" pattern="^(?!\s*$).+" name="date_of_visit_offline"
                                                required />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="date_of_visit_offline.invalid && (date_of_visit_offline.dirty || date_of_visit_offline.touched)">
                                        <div *ngIf="date_of_visit_offline.errors?.['required']">
                                            <span style="color:red;">Date Of Visit is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Meeting Time</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="meeting_time_offline" type="time" class="
                                                     form-control form-control-lg form-control-solid
                                                     custom-input
                                                     mb-3 mb-lg-0
                                                     bg-white
                                                     custom-input
                                                     " [ngStyle]="{
                                                     'border-color':
                                                     meeting_time_offline.invalid && meeting_time_offline.touched
                                                         ? 'red'
                                                         : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="meeting_time_offline"
                                                required />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="meeting_time_offline.invalid && (meeting_time_offline.dirty || meeting_time_offline.touched)">
                                        <div *ngIf="meeting_time_offline.errors?.['required']">
                                            <span style="color:red;">Meeting Time is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Contact Person</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="contact_person_offline" type="text" class="
                                                     form-control form-control-lg form-control-solid
                                                     custom-input
                                                     mb-3 mb-lg-0
                                                     bg-white
                                                     custom-input
                                                     " [ngStyle]="{
                                                     'border-color':
                                                     contact_person_offline.invalid && contact_person_offline.touched
                                                         ? 'red'
                                                         : 'rgb(209, 209, 209)'
                                                     }" pattern="^(?!\s*$).+" name="contact_person_offline" required
                                                maxlength="30" />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="contact_person_offline.invalid && (contact_person_offline.dirty || contact_person_offline.touched)">
                                        <div *ngIf="contact_person_offline.errors?.['required']">
                                            <span style="color:red;">Contact Person is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Visited By</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="visited_by" type="text" class="
                                                            form-control form-control-lg form-control-solid
                                                            custom-input
                                                            mb-3 mb-lg-0
                                                            bg-white
                                                            custom-input
                                                        " [ngStyle]="{
                                                            'border-color':
                                                            visited_by.invalid && visited_by.touched
                                                                ? 'red'
                                                                : 'rgb(209, 209, 209)'
                                                        }" pattern="^(?!\s*$).+" name="visited_by" required
                                                maxlength="30" />
                                        </div>
                                    </div>
                                    <div *ngIf="visited_by.invalid && (visited_by.dirty || visited_by.touched)">
                                        <div *ngIf="visited_by.errors?.['required']">
                                            <span style="color:red;">Visited By is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="row"><span class="font-bold"><b>Location</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                            <input formControlName="location_offline" type="text" class="
                                                    form-control form-control-lg form-control-solid
                                                    custom-input
                                                    mb-3 mb-lg-0
                                                    bg-white
                                                    custom-input
                                                " [ngStyle]="{
                                                    'border-color':
                                                    location_offline.invalid && location_offline.touched
                                                        ? 'red'
                                                        : 'rgb(209, 209, 209)'
                                                }" pattern="^(?!\s*$).+" name="location_offline" required
                                                maxlength="30" />
                                        </div>
                                    </div>
                                    <div
                                        *ngIf="location_offline.invalid && (location_offline.dirty || location_offline.touched)">
                                        <div *ngIf="location_offline.errors?.['required']">
                                            <span style="color:red;">Location is required.</span>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Schedule Type</b></span>
                                        <div class="d-flex justify-content-start mt-4 ms-2">

                                            <div class="
                                                                form-check
                                                                form-check-custom
                                                                form-check-primary
                                                                form-check-solid
                                                                form-check-sm
                                                                ">
                                                <input class="form-check-input" type="radio"
                                                    name="schedule_type_offline" checked="checked"
                                                    formControlName="schedule_type_offline" value="Meeting" />

                                                <label class="form-check-label text-gray-700 text-nowrap"
                                                    for="kt_builder_header_content_menu">Meeting</label>

                                            </div>

                                            <div class="
                                                                form-check
                                                                form-check-custom
                                                                form-check-primary
                                                                form-check-solid
                                                                form-check-sm
                                                                ms-10
                                                                ">
                                                <input class="form-check-input" type="radio"
                                                    name="schedule_type_offline" formControlName="schedule_type_offline"
                                                    value="Call" />

                                                <label class="form-check-label text-gray-700 text-nowrap"
                                                    for="kt_builder_header_content_page-title">Call</label>

                                            </div>

                                        </div>
                                    </div>
                                    <br>

                                    <div>
                                        <span class="font-bold"><b>Prospective Percentage(%)</b><span
                                                class="ms-1 text-red">*</span></span>
                                        <ng-select style=" width: 455px;"
                                            formControlName="prosperctive_percentage_offline"
                                            [class.is-invalid]="
                                                prosperctive_percentage_offline.invalid && (prosperctive_percentage_offline.dirty || prosperctive_percentage_offline.touched)"
                                            [ngClass]="{'invalid-border': prosperctive_percentage_offline.invalid && prosperctive_percentage_offline.touched}"
                                            required class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                                            <ng-option value="Select Percentage">--Select
                                                Percentage--</ng-option>
                                            <ng-option value="25">25</ng-option>
                                            <ng-option value="50">50</ng-option>
                                            <ng-option value="60">60</ng-option>
                                            <ng-option value="75">75</ng-option>
                                            <ng-option value="80">80</ng-option>
                                            <ng-option value="100">100</ng-option>
                                        </ng-select>
                                        <div *ngIf="
                                            prosperctive_percentage_offline.invalid && (prosperctive_percentage_offline.dirty || prosperctive_percentage_offline.touched)
                                                      " class="invalid-feedback">
                                            <div *ngIf="prosperctive_percentage_offline.errors?.['required']">
                                                Prospective Percentage is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Product Name</b><span
                                                class="ms-1 text-red">*</span></span>

                                        <ng-select style=" width: 455px;" formControlName="product_name_offline"
                                            [class.is-invalid]="
                                                product_name_offline.invalid && (product_name_offline.dirty || product_name_offline.touched)"
                                            [ngClass]="{'invalid-border': product_name_offline.invalid && product_name_offline.touched}"
                                            [items]="product_list" required
                                            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                                            bindLabel="product_name" bindValue="product_gid">
                                        </ng-select>
                                        <div *ngIf="
                                            product_name_offline.invalid && (product_name_offline.dirty || product_name_offline.touched)
                                                  " class="invalid-feedback">
                                            <div *ngIf="product_name_offline.errors?.['required']">
                                                ProductName is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                        <span class="font-bold"><b>Product Group</b><span
                                                class="ms-1 text-red">*</span></span>

                                        <ng-select style=" width: 455px;" formControlName="productgroup_name_offline"
                                            [class.is-invalid]="
                                                productgroup_name_offline.invalid && (productgroup_name_offline.dirty || productgroup_name_offline.touched)"
                                            [ngClass]="{'invalid-border': productgroup_name_offline.invalid && productgroup_name_offline.touched}"
                                            [items]="product_group_list" required
                                            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                                            bindLabel="productgroup_name" bindValue="productgroup_gid"></ng-select>
                                        <div *ngIf="
                                            productgroup_name_offline.invalid && (productgroup_name_offline.dirty || productgroup_name_offline.touched)
                                              " class="invalid-feedback">
                                            <div *ngIf="productgroup_name_offline.errors?.['required']">
                                                ProductGroup is required.
                                            </div>
                                        </div>
                                    </div>
                                    <br>

                                    <div class="mb-3">
                                        <label for="exampleFormControlTextarea1" class="form-label"><b>Meeting
                                                Remarks</b></label>
                                        <textarea style="resize: none;" class="form-control"
                                            formControlName="meeting_remarks_offline" pattern="^(?![\s\n]*$)[\s\S]+$"
                                            id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>

                                    <div class="text-center my-4">
                                        <button (click)="onsubmitoffline()" [disabled]="reactiveFormoffline.invalid"
                                            [ngClass]="{
                                                                    'primary-button': !reactiveFormoffline.invalid,
                                                                    'secondary-button': reactiveFormoffline.invalid
                                                                     }" data-bs-dismiss="modal">
                                            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                                        </button> &nbsp;&nbsp;
                                        <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                            data-bs-dismiss="modal">
                                            <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                        </button>
                                    </div>
                                </form>
                            </tab>
                            <tab heading="Log Details">
                                <div class="log-details-tab-content">
                                    <div class="col-12 col-lg-3 col-md-6 col-lg-12">
                                        <span class="fw-bold" style="font-size: small;"><b>Schedule Log Details For Online
                                            </b></span>
                                            <div style="margin-bottom: 5px; padding: 5px; overflow-y: auto; max-height: 150px;"
                                            class="panel bg-white">
                                        <ng-container *ngFor="let data of onlineschedulelog_list  let i = index">
                                            
                                               Customer Name: {{data.leadbank_name}}<br>
                                               Schedule Date: {{data.onmeet_date | date:'dd/MM/yyyy'}}
                                               {{data.onmeet_hour}}<br>
                                               Contact Person: {{data.onmeet_contactperson}}<br>
                                               Technical Assist: {{data.technical_aid}}<br>
                                               Schedule Type: {{data.demo_shown}}<br>        
                                               Remarks: {{data.onmeet_remarks}}
                                                <div style="margin-bottom: 3px; margin-top: 2px;">
                                                    <div class="row">
                                                        <div class="panel-body" style="font-size: x-small;"></div>
                                                    </div>
                                                </div>
                                                <!-- Add a horizontal line after each schedule log -->
                                                <hr style="margin-top: 5px; margin-bottom: 5px;">
                                            
                                        </ng-container>
                                    </div>
                                    </div>
                                    <div class="col-12 col-lg-3 col-md-6 col-lg-12">
                                        <span class="fw-bold" style="font-size: small;"><b>Schedule Log Details For Offline
                                            </b></span>
                                            <div style="margin-bottom: 5px; padding: 5px; overflow-y: auto; max-height: 150px;"
                                            class="panel bg-white">
                                        <ng-container *ngFor="let data of offlineschedulelog_list let i = index">
                                           
                                                Customer Name: {{data.leadbank_name}}<br>
                                               Schedule Date: {{data.fieldvisit_date | date:'dd/MM/yyyy'}}
                                               {{data.fieldvisit_hour}}<br>
                                               Contact Person: {{data.fieldvisit_contactperson2}}<br>
                                               Visited By: {{data.fieldvisit_contactperson}}<br>
                                               Schedule Type: {{data.demo_shown}}<br>        
                                               Remarks: {{data.fieldvisit_remarks}}
                                                <div style="margin-bottom: 3px; margin-top: 2px;">
                                                    <div class="row">
                                                        <div class="panel-body" style="font-size: x-small;"></div>
                                                    </div>
                                                </div>
                                                <!-- Add a horizontal line after each schedule log -->
                                                <hr style="margin-top: 5px; margin-bottom: 5px;">
                                           
                                        </ng-container>
                                    </div>
                                    </div>
                                </div>
        
                                <div class="text-center my-4">
                                    <button class="btn-danger btn-sm text-white me-2" data-bs-dismiss="modal"
                                        style="background-color: red;">
                                        <i class="fas fa-close text-white"></i> &nbsp;Close
                                    </button>&nbsp;
                                </div>
                            </tab>
                        </tabset>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>