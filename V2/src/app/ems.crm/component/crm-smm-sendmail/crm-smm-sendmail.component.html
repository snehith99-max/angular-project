<!--begin::Content-->
<div id="kt_app_content" class="app-content  flex-column-fluid ">


	<!--begin::Content container-->
	<div id="kt_app_content_container" class="app-container  container-xxl ">
		<!--begin::Inbox App - View & Reply -->
		<div class="d-flex flex-column flex-lg-row">


			<!--begin::Content-->
			<div class="flex-lg-row-fluid ms-lg-7 ms-xl-10">

				<!--begin::Card-->
				<div class="card">
					<div class="card-header align-items-center py-5 gap-5">




						<div class="card-body">

							<!--begin::Title-->
							<div class="d-flex flex-wrap gap-2 justify-content-between mb-8">
								<div class="d-flex align-items-center flex-wrap gap-2">
									<!--begin::Heading-->
									<h2 class="fw-semibold me-3 my-1">{{sub}}</h2>
									<!--begin::Heading-->


								</div>


							</div>


							<!--end::Title-->

							<!--begin::Message accordion-->
							<div data-kt-inbox-message="message_wrapper">
								<!--begin::Message header-->
								<div class="d-flex flex-wrap gap-2 flex-stack cursor-pointer"
									data-kt-inbox-message="header">
									<!--begin::Author-->
									<div class="d-flex align-items-center">


										<div class="pe-5">
											<!--begin::Author details-->
											<div class="d-flex align-items-center flex-wrap gap-1">
												<span class="fw-bold text-gray-900 text-hover-primary">To:</span>
												<a href="#" class="fw-bold text-gray-900 text-hover-primary">
													{{to_mail}}</a>

											</div>
											<!--end::Author details-->

											<!--begin::Message details-->
											<div data-kt-inbox-message="details">




												<!--begin::Menu-->
												<div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-300px p-4"
													data-kt-menu="true">
													<!--begin::Table-->
													<table class="table mb-0">
														<tbody>
															<tr>
																<td class="w-75px text-muted">From</td>
																<td>{{mail_froms}}</td>
															</tr>
															<tr>
																<td class="text-muted">Date</td>
																<td>{{created_date}}</td>
															</tr>

														</tbody>
													</table>
												</div>
												<!--end::Menu-->
											</div>
											<!--end::Message details-->
										</div>
									</div>
									<!--end::Author-->

									<!--begin::Actions-->
									<div class="d-flex align-items-center flex-wrap gap-2">
										<!--begin::Date-->
										<span class="fw-semibold text-muted text-end me-3">{{created_date}}</span>
										<!--end::Date-->



									</div>
									<!--end::Actions-->
								</div>
								<!--end::Message header-->

								<!--begin::Message content-->
								<div class="collapse fade show" data-kt-inbox-message="message">
									<div class="py-5">
										<div [innerHTML]="body"></div>
										<div *ngFor="let data of mailview_list; let i=index;">
											<ng-container *ngIf="mailview_list[i] &&  mailview_list[i].document_path.endsWith('.jpg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.jpeg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.png?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.gif?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.svg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.tiff?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.tif?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
															mailview_list[i].document_path.endsWith('.bmp?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
												<img src="{{data.document_path }}" alt=""
													style="width:300px; height:150px;">&nbsp;
											</ng-container>
											<ng-container
												*ngIf="mailview_list[i] && mailview_list[i].document_path.endsWith('.mp4?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
												<video controls style="width:300px; height:150px;">
													<source [src]="mailview_list[i].document_path" type="video/mp4">
												</video>
											</ng-container>
											<br>
											<ng-container *ngIf="mailview_list[i].document_path.endsWith('.doc?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
														mailview_list[i].document_path.endsWith('.docx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
														mailview_list[i].document_path.endsWith('.txt?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
														mailview_list[i].document_path.endsWith('.xlsx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
														mailview_list[i].document_path.endsWith('.xls?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')||
														mailview_list[i].document_path.endsWith('.pdf?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
												<a [href]="mailview_list[i]?.document_path"
													target="_blank">{{mailview_list[i]?.document_name}}</a>
											</ng-container>
										</div>
									</div>
								</div>
								<!--end::Message content-->
							</div>
							<!--end::Message accordion-->





						</div>


					</div>
					<!--end::Card-->
					<div class="row justify-content-center mt-3">
						<div class="col-4 text-center">
							<ng-container *ngIf="direction ==='incoming'">
								<button type="button" class="btn-success btn-sm text-white" data-bs-toggle="modal"
									data-bs-target="#myModaladd" title="Reply To">Reply
									To
								</button>
							</ng-container>&nbsp;
							<button type="button" class="btn back-button text-white" (click)="onback()"><i
								class="fas fa-arrow-left"></i>Back</button>
						</div>
					</div><br>



				</div>
				<!--end::Content-->

			</div>
			<!--end::Inbox App - View & Reply -->




		</div>
		<!--end::Content container-->
	</div>
</div>

<!-- mail compose begins -->
<form  #form="ngForm">
	<div class="modal modal-xl" id="myModaladd" data-bs-backdrop="static" data-bs-keyboard="false">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
					<h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
							class="fas fa-plus fw-bolder fs-3"></i> &nbsp;&nbsp;Compose Mail</h2>
				</div>
				<div class="modal-body">
					<div id="kt_app_content" class="app-content  flex-column-fluid ">
						<div id="kt_app_content_container" class="app-container  container-xxl ">
							<div>
								<div>
									<div class="">
										<div class="card-body p-0">
											<form [formGroup]="reactiveForm" #form="ngForm" id="kt_inbox_compose_form">
												<div class="d-block">
													<div
														class="d-flex align-items-center border-bottom px-8 min-h-50px">

														<div class="text-gray-900 fw-bold w-75px">
															From:
														</div>
														<input type="text"
															class="form-control form-control-transparent border-0"
															formControlName="mail_from" [value]="sending_domain" />
													</div>
													<!-- <div
                                                        class="d-flex align-items-center border-bottom px-8 min-h-50px">
                                                        <div class="text-gray-900 fw-bold w-75px">
                                                            Reply To:
                                                        </div>
                                                        <input type="text"
                                                            class="form-control form-control-transparent border-0"
                                                            formControlName="reply_to" value="company@receive.vcidex.com"
                                                            data-kt-inbox-form="tagify" />
                                                        <div
                                                            *ngIf="reply_to.invalid && (reply_to.dirty || reply_to.touched)">
                                                            <div *ngIf="reply_to.errors?.['required']">
                                                                <span style="color:red;">&nbsp;Reply Is
                                                                    required.</span>
                                                            </div>
                                                        </div>
                                                    </div> -->
													<div
														class="d-flex align-items-center border-bottom px-8 min-h-50px">
														<div class="text-gray-900 fw-bold w-75px">
															To:
														</div>
														<input type="text"
															class="form-control form-control-transparent border-0"
															formControlName="to" [value]="to_mail"
															 />
													</div>
													<div class="border-bottom">
														<input
															class="form-control form-control-transparent border-0 px-8 min-h-45px"
															formControlName="sub" placeholder="Subject" />
														<div *ngIf="sub.invalid && (sub.dirty || sub.touched)">
															<div *ngIf="sub.errors?.['required']">
																<span style="color:red;">&nbsp;Subject Is
																	required.</span>
															</div>
														</div>
													</div><br>
													<div class="d-flex flex-row m-6 mt-0">
														<div class="col">
															<span class="font-bold">Upload </span>
															<div class="col-lg-12 fv-row mt-2">
																<input (change)="onChange2($event)"
																	accept="image/*,.pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4"
																	type="file" #fileInput class="
                                                                    form-control form-control-lg form-control-solid bg-white
                                                                    mb-3 mb-lg-0  borderc-secondary custom-input
                                                                    " name="fName" multiple />
															</div>
														</div>
													</div>
													<div class="col-12 col-lg-12 col-sm-12">
														<div class="d-flex flex-row m-6 mt-0 ">
															<div class="col">
																<div class="fv-row mt-2">
																	<angular-editor [config]="config_compose_mail"
																		formControlName="body">
																	</angular-editor>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div
													class="d-flex flex-stack flex-wrap justify-content-center gap-2 py-5 ps-8 pe-5 border-top">
													<div class="d-flex align-items-center me-3">
														<div class="btn-group align-items-center  me-4 ">
															<div class="btn-group">
																<button type="button"
																	class="btn-success btn-sm bi bi-send text-white fs-5 text-white me-2"
																	data-bs-dismiss="modal" (click)="onadd()">
																	Send</button>
																<button class="btn-danger btn-sm text-white me-4"
																	data-bs-dismiss="modal">
																	<i class="fas fa-close text-white"></i>
																	&nbsp;Close
																</button>
															</div>
														</div>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>
<!-- mail compose ends -->