<div class="card shadow-sm">
    <div class="card-header bg-whatsapp" style="color: white;">
        <h3 class="card-title"> <i class="fa fa-paper-plane fs-1"></i> &nbsp;&nbsp;
            Customize Bulk Message</h3>
        <div style="margin: 13px">
            <div class="col me-5">
                <button title="Back" routerLink="/crm/CrmSmmWhatsappcampaign"
                    class="btn-secondary btn-sm text-black me-4 "><i class="ki-duotone ki-entrance-right fs-5">
                        <i class="path1"></i>
                        <i class="path2"></i>
                    </i>&nbsp;Back</button>
            </div>
        </div>
    </div>
    <br>
    <form [formGroup]="reactiveMessageForm" #form="ngForm">

    <div class="row">
        <div class="col-8">

            <textarea type="text" placeholder="Text a Message" style="width: 60%;" formControlName="sendtext"
                class="form-control float-end" rows="3">
</textarea>

        </div>
        <div class="col-4">
            <button title="Send" type="button" class="btn btn-icon btn-sm me-2 ms-10 mt-6"
                data-bs-toggle="modal" data-bs-target="#myModaladd" (click)="onsend()"
                style="width: 90px;text-align: center;height: 33px;background-color: #075e54;">
                <i class="fa fa-paper-plane text-white fs-5"></i>&nbsp; Send
            </button>
        </div>
    </div>
</form>
    <div class="card card-body m-3 shadow-xl p-3 mb-5 rounded  table-responsive">
        <p-table #dt [value]="contacts_list" [(selection)]="selectedCustomer" dataKey="id" [selectionMode]=""
            [rowHover]="true" [rows]="200" [showCurrentPageReport]="true" [rowsPerPageOptions]="[200, 500,1000, 1500]"
            [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [filterDelay]="0" paginatorDropdownAppendTo="body" compareSelectionBy="equals" [resizableColumns]="true"
            [globalFilterFields]="['displayName', 'value', 'source_name', 'customer_type']">
            <ng-template pTemplate="caption">
                <div class="row">
                    <div class="col-6 table-header">
                        <h3>Contact Summary</h3><i class="fas fa-exclamation-circle fs-3" style="color: rgb(76, 146, 244);"></i>&nbsp;&nbsp; <span style="background-color:rgb(189, 237, 246);"><b>Note :</b> Only Active contacts only shown here</span>
                    </div>
                    <div class="col-6">
                        <span class="p-input-icon-left float-end">
                            <i class="pi pi-search"></i>
                            <input pInputText class="form-control" type="text" (input)="onGlobalFilterChange($event,dt)"
                                placeholder="Search..." />
                        </span>
                    </div>
                </div>
            </ng-template>
            <ng-template pTemplate="header" let-rowIndex="rowIndex">
                <tr class="fs-5">
                    <th style="width: 2px">
                        <div class="field-checkbox">
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                        </div>

                    </th>
                    <th pSortableColumn="displayName">
                        <div class="flex justify-content-between align-items-center">
                            Name
                            <p-sortIcon field="displayName"></p-sortIcon>

                        </div>
                    </th>
                    <th pSortableColumn="value">
                        <div class="flex justify-content-between align-items-center limited-line">Contact<p-sortIcon
                                field="value"></p-sortIcon></div>
                    </th>

                    <th pSortableColumn="source_name">
                        <div class="flex justify-content-between align-items-center">Source <p-sortIcon
                                field="source_name"></p-sortIcon></div>
                    </th>
                    <th pSortableColumn="customer_type">
                        <div class="flex justify-content-between align-items-center">
                            Customer Type
                            <p-sortIcon field="customer_type"></p-sortIcon>
                        </div>
                    </th>
                    <!-- <th pSortableColumn="customer_type">
            <div class="flex justify-content-between align-items-center">Lead Status
                <p-sortIcon field="customer_type"></p-sortIcon>
            </div>
        </th> -->
                    <!--                             
        <th pSortableColumn="default_phone">
            <div class="flex justify-content-between align-items-center">Phone <p-sortIcon
                    field="default_phone"></p-sortIcon></div>
        </th> -->


                </tr>

            </ng-template>
            <ng-template pTemplate="body" let-customer>
                <tr>
                    <ng-container>
                        <td>
                            <p-tableCheckbox [value]="customer"></p-tableCheckbox>

                        </td>

                        <td>
                            <span class="p-column-title">Contact Name</span>
                            {{ customer.displayName || '-' }}
                        </td>
                        <td>
                            <span class="p-column-title">Mobile Number</span>
                            {{customer.value || '-'}}

                        </td>

                        <td>
                            <span class="p-column-title">Source </span>
                            {{customer.source_name|| '-'}}
                        </td>
                        <td>
                            <span class="p-column-title">Customer Type</span>
                            {{ customer.customer_type || '-' }}
                        </td>

                        <!-- <td>
                <span class="p-column-title">Phone Number</span>{{customer.default_phone || '-'}}

            </td> -->
                        <!-- <td style="text-align: center">
                                <span class="p-column-title">Assigned To</span>{{customer.lead_assignedto || '-'}}
                            </td> -->
                    </ng-container>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="8">No customers found.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>