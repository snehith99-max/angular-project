<div class="card">
    <!-- <div class="card-header" style="background-color: #4384F5;">
        <h3 class="card-title"><i class="fas fa-comments" style="font-size: 20px;color: whitesmoke;"></i>&nbsp;&nbsp;<b
                style="color: whitesmoke;">Chat Analytics
            </b>
        </h3>
        <button title="Chats" routerLink="/crm/CrmSmmWebsiteChat" class="btn-secondary btn-sm text-black me-4 "><span
                class="fas fa-comment fs-3"></span>&nbsp;
            Chats</button>
    </div> -->

    <div class="card-header bg-skyblue" style="background-color: #4384F5;">
        <h3 class="card-title " ><i class="fas fa-comments"
                style="color: #f5f5f5; font-size: 20px;"></i>
            &nbsp; Chat Analytics </h3>
        <div style="margin: 13px; ">
            <button title="Chats" routerLink="/crm/CrmSmmWebsiteChat"
                class="btn-secondary btn-sm text-black me-4 "><i class="ki-duotone ki-entrance-right fs-5">
                    <i class="path1"></i>
                    <i class="path2"></i>
                </i>&nbsp;Chats</button>
        </div>
    </div>
    <br>
    <div class=" me-5 ms-5 mb-2">
        <div class="card-header" style="background-color: #4384F5;">
            <div class="card-title" style="color: whitesmoke;">
                Analytics Summary
            </div>
        </div>
    </div>
    <div class="table-responsive">
        <div class="card card-body m-3 shadow-xl p-3 mb-5 bg-white rounded radius-10">
            <div id="kt_chat_contacts_body1">
                <table id="chat_analytics1" class="table table-striped table-row-bordered border-bottom gs-7">
                    <thead>
                        <tr class="fw-bolder fs-5 text-nowrap bg-mail text-black align-middle radius-10"
                            style="background-color:rgb(224, 224, 224);">
                            <th>S.No</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Page Title</th>
                            <th>Country</th>
                            <th>City</th>
                            <th>Date</th>
                            <th>Views </th>
                            <th>Visit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of chat_analytics1; let i=index;" class="align-middle">

                            <td>{{i+1}}</td>
                            <td>{{data.user_name}}</td>
                            <td>{{data.user_mail}}</td>
                            <td>{{data.page_title}}</td>
                            <td>{{ data.country }}</td>
                            <td>{{ data.city }}</td>
                            <td>{{data.created_date}}</td>
                            <td>{{data.page_views_count}}</td>
                            <td>{{data.visits_count}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row ms-2 me-2">
        <div class=" col-12 col-lg-6 col-md-12 col-sm-12 ">
            <div class="card-header " style="background-color: #4384F5;">
                <div class="card-title" style="color: whitesmoke;">
                    Users
                </div>
            </div>
            <br>
            <div class="row ">
                <div class="col-8">
                    <b>Town/Cities</b>
                </div>
                <div class="col-4 text-end pe-12">
                    <b>User</b>
                </div>
                <div id="kt_chat_contacts_body">
                    <div *ngFor="let progress of chat_analytics">
                        <div>
                            <ng-container>
                                <span>
                                    <ng-template [ngIf]="progress.city !== '(not set)'">
                                        <div class="row ">
                                            <div class="col-8"> {{ progress.city }}</div>
                                            <div class=" col-4 d-flex justify-content-end pe-12">
                                                {{progress.total_users}}
                                            </div>
                                        </div>

                                        <div class="progress"
                                            style="width: 90%; height: 5px; background-color: '#ad8ad4' ">
                                            <div class="progress-bar"
                                                [ngStyle]="{ 'width.%': progress.total_users,'background-color': '#ad8ad4'}">
                                            </div>
                                        </div>
                                    </ng-template>
                                </span>
                                <br>
                            </ng-container>
                        </div>
                    </div>
                </div>

            </div>
            <br>

        </div>
        <div class="col-12 col-lg-6 col-md-12 col-sm-12 pe-0">
            <div class="card-header " style="background-color: #4384F5;">
                <div class="card-title" style="color: whitesmoke;">
                    Weekwise Chart
                </div>
            </div>
            <apx-chart [series]="weekchart.series" [chart]="weekchart.chart" [xaxis]="weekchart.xaxis"
                [dataLabels]="weekchart.dataLabels" [title]="weekchart.title">
            </apx-chart>
        </div>
    </div>
    <br>

</div>