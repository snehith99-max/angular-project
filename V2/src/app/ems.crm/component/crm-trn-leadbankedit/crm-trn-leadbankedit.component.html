<div class="m-12">
  <form [formGroup]="reactiveForm" #form="ngForm">
    <div class="card shadow-lg rounded-top" style="top:-35px;">
      <div class="card-title p-5 pb-6 pt-6 rounded-top bg-primary">
        <h3 class="fw-bolder text-white">
          <i class="fas fa-pencil fw-bolder fs-3"></i> &nbsp;&nbsp;&nbsp;Edit
          Lead Details
        </h3>
        <div class=" float-end me-4 ">
          <button title="Back" type="button"
              class="btn btn-sm btn-icon  btn-outline-primary position-absolute top-0 end-0 bg-white mt-4 p-2 me-4"
              (click)="back()">
              <i class="fa-solid fa-arrow-left text-blue mb-1"></i>
          </button>
      </div>
      </div>
      <div class="m-3 mt-5 border card">
        <div class="card-header bg-lightblue card-height55">
          <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">Industry / Referred By</h5>
          </div>
        </div>
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold z-n1">Region</span>
            <ng-select formControlName="region_name" [class.is-invalid]="
              region_name.invalid && (region_name.dirty || region_name.touched) "
              [ngClass]="{'invalid-border': region_name.invalid && region_name.touched}" [items]="regionnamelist"
              class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="region_name"
              bindValue="region_gid"placeholder="--Select Region--"></ng-select>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Source</span>
            <ng-select formControlName="source_name"
               [items]="source_list" 
              class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="source_name"
              bindValue="source_gid"placeholder="--Select Source--"></ng-select>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Referred By</span>
            <ng-select formControlName="referred_by" [items]="GetLeaddropdown_list"
            bindLabel="leadbank_name" bindValue="leadbank_gid" placeholder="--Select Lead--"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
        </ng-select>
          </div>
        </div>
         </div>
      <div class="m-3 mt-5 border card">
        <div class="card-header bg-lightblue card-height55">
          <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">Company</h5>
          </div>
        </div>
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Company Name/Individual Name<span class="ms-1 text-red">*</span></span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" formControlName="leadbank_name" class="
                form-control form-control-lg form-control-solid
                custom-input
                mb-3 mb-lg-0
                bg-white
                custom-input
              " [ngStyle]="{
                'border-color':
                leadbank_name.invalid && leadbank_name.touched
                    ? 'red'
                    : 'rgb(209, 209, 209)'
              }" name="leadbank_name" required />
              <div *ngIf="
            leadbank_name.invalid &&
                (leadbank_name.dirty || leadbank_name.touched)
              " class="text-red">
                <div *ngIf="leadbank_name.errors?.['required']">
                  Contact Person Name is required.
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Lead Type</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <ng-select formControlName="lead_type" [items]="leadtype_list" [class.is-invalid]="
              lead_type.invalid && (lead_type.dirty || lead_type.touched)" bindValue="leadtype_gid"
                     bindLabel="leadtype_name" placeholder="--Select Lead Type--" [ngClass]="{'invalid-border': lead_type.invalid && lead_type.touched}">
                   </ng-select>
              <div *ngIf="
              lead_type.invalid &&
              (lead_type.dirty || lead_type.touched)
            " class="text-red">
                <div *ngIf="lead_type.errors?.['required']">
                  Lead Type Is Required.
                </div>
              </div>
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Customer Type<span class="ms-1 text-red">*</span></span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <div [class.is-invalid]="customer_type.invalid && (customer_type.dirty || customer_type.touched)"
              [ngClass]="{'invalid-border': customer_type.invalid && customer_type.touched}">
              <label class="me-2">
                <input type="radio" class="form-check-input" formControlName="customer_type" value="Individual"
                  checked>
                Individual
              </label>
              <label>
                <input type="radio" class="form-check-input" formControlName="customer_type" value="Corporate">
                Corporate
              </label>
            </div>
              <div *ngIf="
              customer_type.invalid &&
              (customer_type.dirty || customer_type.touched)
            " class="text-red">
                <div *ngIf="customer_type.errors?.['required']">
                  Customer Type Is Required.
                </div>
              </div>
            </div>
          </div>
          
          <!-- <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Customer Type</span><span class="ms-1 text-red">*</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <ng-select formControlName="customer_type"  [(ngModel)]="selectedCustomerType" [class.is-invalid]="
              customer_type.invalid && (customer_type.dirty || customer_type.touched)" [items]="customertype_list"
                class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="customer_type1"
                bindValue="customertype_gid1" placeholder="--Select Customer Type--"></ng-select>
          
              <div *ngIf="customer_type.invalid && (customer_type.dirty || customer_type.touched)" class="text-red">
                <div *ngIf="customer_type.errors?.['required']">
                  Customer Type is required.
                </div>
              </div>
            </div>
          </div> -->

        </div>
      </div>
      <div class="m-3 mt-5 border card">
        <div class="card-header bg-lightblue card-height55">
          <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">Contact Person </h5>
          </div>
        </div>
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Contact Person Name</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" formControlName="leadbankcontact_name" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      leadbankcontact_name.invalid && leadbankcontact_name.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" name="leadbankcontact_name" required />
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Designation</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">

              <input formControlName="designation" type="text" class="
                                      form-control form-control-lg form-control-solid
                                      borderc-secondary
                                      bg-white
                                      custom-input
                                      mb-3 mb-lg-0
                                  " name="designation" />
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Mobile Number</span>
            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
              <ngx-intl-tel-input [cssClass]="'form-control custom-width'"
                  [preferredCountries]="[CountryISO.UnitedKingdom]" [enableAutoCountrySelect]="true"
                  [enablePlaceholder]="true" [searchCountryFlag]="true"
                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                  [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true"
                  name="phone" [maxLength]="15" formControlName="phone">
              </ngx-intl-tel-input>
          </div>
          </div>
        </div>
        <div class="d-flex flex-row m-6 mt-0 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold"> Email Address</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" formControlName="email" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                        email.invalid && email.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }"
                    maxlength="320"
                name="email" />
              <div *ngIf="
                    email.invalid &&
                        (email.dirty || email.touched)
                      " class="text-red">
                <div *ngIf="email.errors?.['pattern']" class="error-text">
                  Enter Valid email.   
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Telephone Number 1</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" id="phone1" name="phone1" formControlName="phone1" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      phone1.invalid && phone1.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" pattern="^([+x()])?[0-9]+(?:[+()]?[0-9]+)*$" maxlength="15"  autocomplete="off">
              <div *ngIf="
                    phone1.invalid &&
                        (phone1.dirty || phone1.touched)
                      " class="text-red">
                <div *ngIf="phone1.errors?.['pattern']" class="error-text">
                  Enter Valid Telephone no.
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Telephone Number 2</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" id="phone2" name="phone2" formControlName="phone2" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      phone2.invalid && phone2.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }"pattern="^([+x()])?[0-9]+(?:[+()]?[0-9]+)*$" maxlength="15" autocomplete="off">
              <div *ngIf="
                    phone2.invalid &&
                        (mobile.dirty || phone2.touched)
                      " class="text-red">
                <div *ngIf="phone2.errors?.['pattern']" class="error-text">
                  Enter Valid Telephone no.              </div>
              </div>
            </div>
          </div>
        </div>
        <div class="d-flex flex-row m-6 mt-0 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold"> Company Website</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" formControlName="company_website" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      company_website.invalid && company_website.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" pattern="^(http(s)?:\/\/)?(www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)" name="company_website"
                required />
              <div *ngIf="
                    company_website.invalid &&
                        (company_website.dirty || company_website.touched)
                      " class="text-red">
                <div *ngIf="company_website.errors?.['pattern']" class="error-text">
                  Invalid format
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Fax</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input type="text" id="fax" name="fax" formControlName="fax" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      fax.invalid && fax.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }"  pattern="^([+x()])?[0-9]+(?:[+()]?[0-9]+)*$" maxlength="10" autocomplete="off">
              <div *ngIf="
                    fax.invalid &&
                        (fax.dirty || fax.touched)
                      " class="text-red">
                <div *ngIf="fax.errors?.['pattern']" class="error-text">
                  Enter Valid Fax.
                </div>
              </div>
            </div>
          </div> -->
        </div>
      </div>
      <!-- <div class="m-3 mt-5 border card">
        <div class="card-header bg-lightblue card-height55">
          <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">More Details</h5>
          </div>
        </div>
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Wedding Day</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input formControlName="wedding_day" type="text"
                    class="form-control form-control-lg form-control-solid borderc-secondary date-picker mb-3 mb-lg-0 bg-white custom-input"
                    placeholder="YYYY-MM-DD" name="appointment_date" />
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Birthday</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <input formControlName="birth_day" type="text"
                    class="form-control form-control-lg form-control-solid borderc-secondary date-picker mb-3 mb-lg-0 bg-white custom-input"
                    placeholder="YYYY-MM-DD" name="appointment_date" />
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Interests</span>
            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
              <input type="text" formControlName="interests" class="
              form-control form-control-lg form-control-solid
              custom-input
              mb-3 mb-lg-0
              bg-white
              custom-input
            " [ngStyle]="{
              'border-color':
              leadbank_name.invalid && leadbank_name.touched
                  ? 'red'
                  : 'rgb(209, 209, 209)'
            }" pattern="^(?!\s*$).+" name="leadbank_name" pattern="^(?!\s*$).+" />
            </div>
          </div>
        </div>
        </div> -->
      <div class="m-3 mt-5 border card">
        <div class="card-header bg-lightblue card-height55">
          <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">Address</h5>
          </div>
        </div>
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Address Line 1</span>
            <div class="col-lg-11 fv-row mt-2">
              <input formControlName="leadbank_address1" type="text" class="
                  form-control form-control-lg form-control-solid
                  bg-white
                  custom-input
                  mb-3 mb-lg-0
                  borderc-secondary
                " name="leadbank_address1" />
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Address Line 2</span>
            <div class="col-lg-11 fv-row mt-2">
              <input formControlName="leadbank_address2" type="text" class="
                  form-control form-control-lg form-control-solid
                  bg-white
                  custom-input
                  mb-3 mb-lg-0
                  borderc-secondary
                " name="leadbank_address2" />
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Country</span>
            <ng-select formControlName="country_name" [items]="country_list" class="
          custom
          col-lg-11 col-12 col-md-11 col-sm-11
          fv-row
          mt-2
        " bindLabel="country_name" bindValue="country_gid"placeholder="--Select Country--">
            </ng-select>
          </div>
        </div>
        <div class="d-flex flex-row m-6 mt-0 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">State</span>
            <div class="col-lg-11 fv-row mt-2">
              <input formControlName="leadbank_state" type="text" class="
                  form-control form-control-lg form-control-solid
                  borderc-secondary
                  bg-white
                  custom-input
                  mb-3 mb-lg-0
                " name="leadbank_state" />
            </div>
          </div>
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">City</span>
            <div class="col-lg-11 fv-row mt-2">
              <input formControlName="leadbank_city" type="text" class="
                  form-control form-control-lg form-control-solid
                  borderc-secondary
                  bg-white
                  custom-input
                  mb-3 mb-lg-0
                " name="leadbank_city" />
            </div>
          </div>

          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Postal Code</span>
            <div class="col-lg-11 fv-row  mt-2">
              <input type="text" id="leadbank_pin" name="leadbank_pin" formControlName="leadbank_pin" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      leadbank_pin.invalid && leadbank_pin.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" minlength="5"maxlength="12">
              <div *ngIf="
                    leadbank_pin.invalid &&
                        (mobile.dirty || leadbank_pin.touched)
                      " class="text-red">
                <div *ngIf="leadbank_pin.errors?.['pattern']" class="error-text">
                  Enter Valid Postal Code.
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="d-flex flex-row m-6 mt-0 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Remarks</span>
            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
              <textarea class="form-control" formControlName="remarks" pattern="^(?!\s*$).+"
                id="exampleFormControlTextarea1" rows="1" style="overflow-y: scroll;"></textarea>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center my-4">
        <button class="btn-sm text-white me-2"[disabled]="isSubmitting" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" (click)="validate()">
          <i class="fas fa-check text-white fs-5"></i> &nbsp; Update
        </button>
        <button class="btn-primary btn-sm text-white me-4" (click)="back()">
          <i class="fas fa-arrow-left"></i> &nbsp; Back
        </button>
      </div>
    </div>
  </form>
</div>