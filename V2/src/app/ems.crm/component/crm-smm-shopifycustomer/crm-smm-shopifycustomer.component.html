<div>
    <div>
        <div class="card-title p-5 pb-6 pt-6 rounded-top bg-primary">
            <h3 class="fw-bolder text-white"><i class="fab fa-shopify fs-1"></i>&nbsp;&nbsp;Shopify Store</h3>
        </div>

        <div>
            <div style="background-color: white;">
                <div class="row">
                    &nbsp;
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <ul class="nav nav-tabs nav-line-tabs nav-line-tabs-20x mb-8 fs-6">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="tab" href="#kt_tab_pane_5"
                                    style="color: #009EF7" (click)="Getbacksync_crm_customer()">&nbsp;&nbsp; Shopify Product</a>
                            </li>
                            <li class="nav-item ms-9">
                                <a class="nav-link" data-bs-toggle="tab" href="#kt_tab_pane_4"
                                    (click)="Getbacksync_shopify()" (click)="Getbacksync_crm()"
                                    style="color: #009EF7">Shopify Customer </a>
                            </li>
                            <li class="nav-item ms-9">
                                <a class="nav-link" data-bs-toggle="tab" href="#kt_tab_pane_7"
                                    (click)="Getbacksync_shopify()" (click)="Getbacksync_crm()"
                                    style="color: #009EF7" (click)="Getbacksync_crm_customer()">Shopify Inventory</a>
                            </li>
                            <li class="nav-item ms-9">
                                <a class="nav-link" data-bs-toggle="tab" href="#kt_tab_pane_6"
                                    (click)="Getbacksync_shopify()" (click)="Getbacksync_crm()" (click)="Getbacksync_crm_customer()"
                                    style="color: #009EF7">Shopify Order</a>
                            </li>

                            <li class="nav-item ms-9">
                                <a class="nav-link" data-bs-toggle="tab" href="#kt_tab_pane_10"
                                    (click)="Getbacksync_shopify()" (click)="Getbacksync_crm()" (click)="Getbacksync_crm_customer()"
                                    style="color: #009EF7">Shopify Payment</a>
                            </li>
                        </ul>


                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active ms-5" id="kt_tab_pane_5" role="tabpanel">
                                <div class="row">
                                    <div class="col-12 ">
                                        <div class="modal-body">
                                            <ng-container *ngIf="!sync_shopify && !sync_crm">
                                                <div class="card ">
                                                    <div class="d-flex flex-row m-6 flex-wrap">
                                                        
                                                            <h3 class="card-title"><b>Product Summary</b></h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            
                                                                <div
                                                                class="cardHeads radius-10 border-start border-0 border-3 border-violet ms-10">
                                                                <div class="card-body12">
                                                                    <div class="d-flex align-items-center">
                                                                        <div>
                                                                            <h5 class="mb-0 text-secondary"><b
                                                                                    style="color: #4604fc;">Shopify
                                                                                    Product</b></h5>
                                                                            <div>
                                                                                <h4
                                                                                    class="badge badge-outline badge-info fs-4 mt-2">
                                                                                    {{product_count}}
                                                                                </h4>
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto">
                                                                            <i class="fa fa-cubes fs-3"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="mt-6">
                                                           
                                                                <button type="button"
                                                                    class="primary-button btn-sm text-white me-4 float-end"
                                                                    (click)="onsubmitproduct()">
                                                                    <i class="fas fa-check text-white fs-5"></i>
                                                                    &nbsp;&nbsp;&nbsp; Move To CRM
                                                                </button>&nbsp;&nbsp;
                                                                <button type="button"
                                                                    class="btn-primary btn-sm text-white me-4 float-end"
                                                                    data-bs-toggle="modal" data-bs-target="#myModaladd"
                                                                    (click)="onadd()">
                                                                    <i class="fas fa-plus"></i> &nbsp;&nbsp;&nbsp; Add
                                                                    Product
                                                                </button>
                                                                <button type="button"
                                                                class="btn-warning btn-sm text-white me-4 float-end"
                                                                (click)="Getsync_shopify()">
                                                                <i
                                                                    class=" fas fa-duotone fa-arrows-rotate fs-5"></i>
                                                                &nbsp;&nbsp;&nbsp; Sync Shopify
                                                            </button>&nbsp;&nbsp;
                                                            <button type="button"
                                                                class="btn-info btn-sm text-white me-4 float-end"
                                                                (click)="Getsync_crm()">
                                                                <i
                                                                    class=" fas fa-duotone fa-arrows-rotate fs-5"></i>
                                                                &nbsp;&nbsp;&nbsp; Sync CRM
                                                            </button>&nbsp;&nbsp;
                                                            </div>
                                                        </div>

                                                        
                                                     <div class="table-responsive">
                                                        <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                                            <table id="product"
                                                                class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                                                <thead>
                                                                    <tr
                                                                        class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                                                        <th>

                                                                            <input type="checkbox" id="checkAll"
                                                                                (change)="$event ? masterToggle1() : null"
                                                                                [checked]="selection1.hasValue() && isAllSelected1()"
                                                                                [indeterminate]="selection1.hasValue() && !isAllSelected1()" />
                                                                            All
                                                                        </th>
                                                                        <!-- <th style="width:2%">S.No</th> -->
                                                                        <th>Product Type </th>
                                                                        <!-- <th>Product Code</th>
                                                                  <th>Product Type </th>
                                                                  <th>Product Group</th> -->
                                                                        <th>Product</th>
                                                                        <!-- <th>Unit</th> -->
                                                                        <th>Product Image</th>
                                                                        <th>Product Status</th>
                                                                        <th>Vendor</th>
                                                                        <th>SKU</th>
                                                                        <th>Moved Status</th>
                                                                        <!-- <th>Created Date</th>
                                                                  <th>Created By</th> -->
                                                                        <th class="text-center">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let data of products; let i=index;">
                                                                        <td> <input
                                                                                *ngIf="data.status_flag  === 'Assigned'"
                                                                                disabled type="checkbox"
                                                                                (click)="$event.stopPropagation()"
                                                                                (change)="$event ? selection1.toggle(data) : null"
                                                                                [checked]="selection1.isSelected(data)"
                                                                                hidden />
                                                                            <input
                                                                                *ngIf="data.status_flag  != 'Assigned'"
                                                                                type="checkbox"
                                                                                (click)="$event.stopPropagation()"
                                                                                (change)="$event ? selection1.toggle(data) : null"
                                                                                [checked]="selection1.isSelected(data)" />
                                                                        </td>

                                                                        <!-- <td >{{i+1}}</td> -->
                                                                        <td>{{data.product_type}}</td>
                                                                        <!-- <td>{{data.product_code}}</td>
                                                                  <td>{{data.producttype_name}}</td>
                                                                  <td>{{data.productgroup_name}}</td> -->
                                                                        <td>{{data.product_name}}</td>
                                                                        <!-- <td><span *ngIf="data.productuom_name === data.productuomclass_name" >{{data.productuom_name}}</span><span *ngIf="data.productuom_name != data.productuomclass_name" >{{data.productuom_name}} {{data.productuomclass_name}}</span></td> -->
                                                                        <td><span
                                                                                *ngIf="data.product_image === 'no'"></span>
                                                                            <img *ngIf="data.product_image !='no'"
                                                                                src={{data.product_image}} alt=""
                                                                                style="width:69%;height:55px;"><span
                                                                                *ngIf="!data.product_image"></span>
                                                                        </td>
                                                                        <td style="font-weight: bolder;"><span
                                                                                *ngIf="data.Status  === 'archived'"
                                                                                style="color: rgb(150, 40, 194);font-weight:bolder;"
                                                                                class="badge bg-info text-white ">&nbsp;&nbsp;
                                                                                Archived &nbsp;&nbsp;&nbsp;</span><span
                                                                                *ngIf="data.Status  === 'draft'"
                                                                                style="color: orange;font-weight:bolder;"
                                                                                class="badge bg-warning text-white ">&nbsp;&nbsp;
                                                                                Draft &nbsp;&nbsp;&nbsp;</span><span
                                                                                *ngIf="data.Status  === 'active'"
                                                                                style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                                                class="badge bg-success text-white ">&nbsp;&nbsp;
                                                                                Active &nbsp;&nbsp; </span><span
                                                                                *ngIf="data.Status  === 'inactive'"
                                                                                style="color: red;font-weight:bolder;"
                                                                                class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                                                Inactive &nbsp;&nbsp; </span></td>

                                                                        <!-- <td>{{data.Status}}</td> -->
                                                                        <td>{{data.vendor_name}}</td>
                                                                        <td>{{data.sku}}</td>
                                                                        <td style="font-weight: bolder;"><span
                                                                                *ngIf="data.status_flag  === 'Not Assign'"
                                                                                style="color: orange;font-weight:bolder;"
                                                                                class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                                                Not Assign
                                                                                &nbsp;&nbsp;&nbsp;</span><span
                                                                                *ngIf="data.status_flag  === 'Assigned'"
                                                                                style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                                                class="badge bg-success text-white ">&nbsp;&nbsp;
                                                                                Assigned &nbsp;&nbsp; </span></td>

                                                                        <!-- <td>{{data.created_date}}</td>
                                                                  <td>{{data.created_by}}</td> -->
                                                                        <td class="text-center text-nowrap">
                                                                            <!-- <button title="View" type="button" class="btn btn-icon btn-sm bg-view me-2" (click)="onview(data.product_gid)" ><span class="fa-solid fa-eye text-white  fs-6"></span></button> -->
                                                                            <button title="Edit" type="button"
                                                                                class="btn btn-icon btn-sm bg-edit me-2"
                                                                                (click)="onedit(data.shopify_productid)"><span
                                                                                    class="fa-solid fa-pencil text-white  fs-6"></span></button>
                                                                            <!-- <button title="Delete" type="button" (click)="openModaldelete(data.product_gid)"   data-bs-toggle="modal" data-bs-target="#myModaldelete" class="btn btn-icon btn-sm bg-danger me-2"><span class="fa-solid fa-trash text-white  fs-6"></span></button>    -->
                                                                            <button title="Upload image" type="button"
                                                                                (click)="myModaladddetails(data.shopify_productid)"
                                                                                data-bs-toggle="modal"
                                                                                data-bs-target="#myModalUpdateimage"
                                                                                class="btn btn-icon btn-sm bg-warning me-2"><span
                                                                                    class="fa-solid fa-camera text-white  fs-6"></span></button>
                                                                            <button title="Download image" type="button"
                                                                                (click)="downloadImage(data)"
                                                                                class="btn btn-icon btn-sm bg-info me-2"><span
                                                                                    class="fa-solid fa-download text-white  fs-6"></span></button>
                                                                            <button title="Price" type="button"
                                                                                data-bs-toggle="modal"
                                                                                data-bs-target="#myModalUpdateprice"
                                                                                (click)="updateprice(data)"
                                                                                class="btn btn-icon btn-sm  me-2"
                                                                                style="background-color:rgb(192, 24, 243) ;"><i
                                                                                    class="fas fa-sort-amount-up-alt"></i></button>


                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <form [formGroup]="reactiveForm" #form="ngForm"> -->
                                                <div class="modal" id="myModalexcelimport" data-bs-backdrop="static"
                                                    data-bs-keyboard="false">
                                                    <div class="modal-dialog modal-dialog-centered">
                                                        <div class="modal-content">

                                                            <!-- Modal Header -->

                                                            <div
                                                                class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                                                <h2
                                                                    style="margin-top:10px;color:white;font-weight: bold;">
                                                                    &nbsp;&nbsp;<i
                                                                        class="fas fa-file fw-bolder fs-3"></i>
                                                                    &nbsp;&nbsp;Import Excel</h2>

                                                            </div>

                                                            <!-- Modal body -->
                                                            <div class="modal-body">

                                                                <button type="submit" style="margin-left: 290px;"
                                                                    class="btn-danger btn-sm text-white me-2"
                                                                    (click)="downloadfileformat()">
                                                                    <i
                                                                        class="fa-solid fa-download fs-5"></i>&nbsp;&nbsp;Download</button>
                                                                <br>
                                                                <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                                                    <span class="font-bold"><b>Select an Excel File
                                                                            to
                                                                            Import</b><span
                                                                            class="ms-1 text-red">*</span></span>
                                                                    <div
                                                                        class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                                                                        <!-- <input (change)="onChange2($event)" accept="image/*" type="file" #fileInput class="
                                                                    form-control form-control-lg form-control-solid
                                                                    custom-input
                                                                    mb-3 mb-lg-0
                                                                    bg-white
                                                                    custom-input
                                                                  "  name="file" /> -->
                                                                        <input style="width: 300%;"
                                                                            (change)="onChange1($event)"
                                                                            accept=".xlsx, .xls" type="file" #fileInput
                                                                            class="
                                                                    form-control form-control-lg form-control-solid bg-white
                                                                    mb-3 mb-lg-0  borderc-secondary custom-input
                                                                  " name="fName" />


                                                                    </div>
                                                                </div>
                                                                <br>
                                                                <!-- Modal footer -->
                                                                <div class="text-center my-4">
                                                                    <button type="submit"
                                                                        class="btn-success btn-sm text-white me-2"
                                                                        (click)="importexcel()">
                                                                        <i
                                                                            class="fa fa-upload fs-5"></i>&nbsp;Upload</button>

                                                                    <button class="btn-primary btn-sm text-white me-2"
                                                                        data-bs-dismiss="modal">
                                                                        <i class="fas fa-arrow-left"></i> &nbsp;Back
                                                                    </button>&nbsp;
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- </form>
                                                <form [formGroup]="reactiveForm" #form="ngForm"> -->
                                                <div class="modal" id="myModalUpdateimage" data-bs-backdrop="static"
                                                    data-bs-keyboard="false">
                                                    <div class="modal-dialog modal-dialog-centered">
                                                        <div class="modal-content">

                                                            <!-- Modal Header -->

                                                            <div
                                                                class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                                                <h2
                                                                    style="margin-top:10px;color:white;font-weight: bold;">
                                                                    &nbsp;&nbsp;<i
                                                                        class="fa-solid fa-arrow-up fw-bolder fs-3"></i>
                                                                    &nbsp;&nbsp;Upload Image</h2>

                                                            </div>

                                                            <!-- Modal body -->
                                                            <div class="modal-body">
                                                                <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                                                                    <span class="font-bold"><b>Upload Photo</b><span
                                                                            class="ms-1 text-red">*</span></span>
                                                                    <div
                                                                        class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">

                                                                        <input style="width: 300%;"
                                                                            (change)="onChange2($event)"
                                                                            (change)="picked($event,1)" accept="image/*"
                                                                            type="file" #fileInput class="
                                                                    form-control form-control-lg form-control-solid bg-white
                                                                    mb-3 mb-lg-0  borderc-secondary custom-input
                                                                  " name="fName" />


                                                                    </div>
                                                                </div>
                                                                <br>
                                                                <!-- Modal footer -->
                                                                <div class="text-center my-4">
                                                                    <button type="submit"
                                                                        class="btn-success btn-sm text-white me-2"
                                                                        *ngIf="emptyFlag1" data-bs-dismiss="modal"
                                                                        (click)="onuploadimage()">
                                                                        <i
                                                                            class="fa fa-check fs-5 "></i>&nbsp;Submit</button>

                                                                    <button class="btn-primary btn-sm text-white me-2"
                                                                        (click)="oncloseimage()"
                                                                        data-bs-dismiss="modal">
                                                                        <i class="fas fa-arrow-left"></i> &nbsp;Back
                                                                    </button>&nbsp;
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- </form> -->
                                                <form [formGroup]="reactiveFormPrice" #form="ngForm">
                                                    <div class="modal" id="myModalUpdateprice" data-bs-backdrop="static"
                                                        data-bs-keyboard="false">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">


                                                                <div
                                                                    class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                                                    <h2
                                                                        style="margin-top:10px;color:white;font-weight: bold;">
                                                                        &nbsp;&nbsp;<i
                                                                            class="fas fa-pencil fw-bolder fs-3"></i>
                                                                        &nbsp;&nbsp;Update Product Price</h2>

                                                                </div>

                                                                <div class="modal-body">

                                                                    <div class="row">
                                                                        <div
                                                                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                            <input hidden
                                                                                formControlName="shopify_productid"
                                                                                type="" class="
                                                                                         form-control form-control-lg form-control-solid
                                                                                         custom-input
                                                                                         mb-3 mb-lg-0
                                                                                         bg-white
                                                                                         custom-input
                                                                                       " pattern="^(?!\s*$).+"
                                                                                name="shopify_productid" required />
                                                                            <input hidden formControlName="variant_id"
                                                                                type="" class="
                                                                                         form-control form-control-lg form-control-solid
                                                                                         custom-input
                                                                                         mb-3 mb-lg-0
                                                                                         bg-white
                                                                                         custom-input
                                                                                       " pattern="^(?!\s*$).+"
                                                                                name="variant_id" required />
                                                                        </div>
                                                                    </div>
                                                                    <div class="row"><span
                                                                            class="font-bold"><b>Attribute
                                                                            </b><span
                                                                                class="ms-1 text-red">*</span></span>
                                                                        <div
                                                                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                            <input formControlName="attribute"
                                                                                type="text" class="
                                                            form-control form-control-lg form-control-solid custom-input
                                                            mb-3 mb-lg-0  borderc-secondary bg-white custom-input
                                                          " pattern="^(?!\s*$).+" name="attribute" required  maxlength="36"/>
                                                                        </div>

                                                                    </div>

                                                                    <div
                                                                        *ngIf="attribute.invalid && (attribute.dirty || attribute.touched)">
                                                                        <div *ngIf="attribute.errors?.['required']">
                                                                            <span style="color:red;">Attribute is
                                                                                required.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        *ngIf="attribute.invalid && (attribute.dirty || attribute.touched)">
                                                                        <div *ngIf="attribute.errors?.['pattern']">
                                                                            <span style="color:red;">Invalid
                                                                                Format.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row"><span class="font-bold"><b>Product
                                                                                Price</b><span
                                                                                class="ms-1 text-red">*</span></span>
                                                                        <div
                                                                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                            <input formControlName="price" type="text"
                                                                                class="
                                                                form-control form-control-lg form-control-solid custom-input
                                                                mb-3 mb-lg-0  borderc-secondary bg-white custom-input
                                                              " pattern="^(?!\s*$).+" name="price" required maxlength="15"/>
                                                                        </div>

                                                                    </div>

                                                                    <div
                                                                        *ngIf="price.invalid && (price.dirty || price.touched)">
                                                                        <div *ngIf="price.errors?.['required']">
                                                                            <span style="color:red;">Price is
                                                                                required.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        *ngIf="price.invalid && (price.dirty || price.touched)">
                                                                        <div *ngIf="price.errors?.['pattern']">
                                                                            <span style="color:red;">Invalid
                                                                                Format.</span>
                                                                        </div>
                                                                    </div>



                                                                    <br>


                                                                    <div class="text-center my-4">
                                                                        <button (click)="onupdateprice()"
                                                                            [disabled]="reactiveFormPrice.invalid"
                                                                            [ngClass]="{
                                                                                                'primary-button': !reactiveFormPrice.invalid,
                                                                                                'secondary-button': reactiveFormPrice.invalid
                                                                                                 }"
                                                                            data-bs-dismiss="modal">
                                                                            <i
                                                                                class="fas fa-check text-white fs-5 "></i>
                                                                            &nbsp;Update
                                                                        </button> &nbsp;&nbsp;
                                                                        <button (click)="onclose()"
                                                                            class="btn-danger btn-sm text-white me-4"
                                                                            data-bs-dismiss="modal">
                                                                            <i class="fas fa-close text-white"></i>
                                                                            &nbsp;Close
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>

                                                <form [formGroup]="reactiveFormPrice" #form="ngForm">
                                                    <div class="modal" id="myModalUpdatequantity"
                                                        data-bs-backdrop="static" data-bs-keyboard="false">
                                                        <div class="modal-dialog modal-dialog-centered">
                                                            <div class="modal-content">


                                                                <div
                                                                    class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                                                    <h2
                                                                        style="margin-top:10px;color:white;font-weight: bold;">
                                                                        &nbsp;&nbsp;<i
                                                                            class="fas fa-pencil fw-bolder fs-3"></i>
                                                                        &nbsp;&nbsp;Update Product Price</h2>

                                                                </div>

                                                                <div class="modal-body">

                                                                    <div class="row">
                                                                        <div
                                                                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                            <input hidden
                                                                                formControlName="shopify_productid"
                                                                                type="" class="
                                                                                         form-control form-control-lg form-control-solid
                                                                                         custom-input
                                                                                         mb-3 mb-lg-0
                                                                                         bg-white
                                                                                         custom-input
                                                                                       " pattern="^(?!\s*$).+"
                                                                                name="shopify_productid" required />
                                                                            <input hidden formControlName="variant_id"
                                                                                type="" class="
                                                                                         form-control form-control-lg form-control-solid
                                                                                         custom-input
                                                                                         mb-3 mb-lg-0
                                                                                         bg-white
                                                                                         custom-input
                                                                                       " pattern="^(?!\s*$).+"
                                                                                name="variant_id" required />
                                                                        </div>
                                                                    </div>

                                                                    <div class="row"><span class="font-bold"><b>Product
                                                                                Price</b><span
                                                                                class="ms-1 text-red">*</span></span>
                                                                        <div
                                                                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                            <input formControlName="price" type="text"
                                                                                class="
                                                                form-control form-control-lg form-control-solid custom-input
                                                                mb-3 mb-lg-0  borderc-secondary bg-white custom-input
                                                              " pattern="^(?!\s*$).+" name="price" required />
                                                                        </div>

                                                                    </div>

                                                                    <div
                                                                        *ngIf="price.invalid && (price.dirty || price.touched)">
                                                                        <div *ngIf="price.errors?.['required']">
                                                                            <span style="color:red;">Price is
                                                                                required.</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        *ngIf="price.invalid && (price.dirty || price.touched)">
                                                                        <div *ngIf="price.errors?.['pattern']">
                                                                            <span style="color:red;">Invalid
                                                                                Format.</span>
                                                                        </div>
                                                                    </div>



                                                                    <br>


                                                                    <div class="text-center my-4">
                                                                        <button (click)="onupdateprice()"
                                                                            [disabled]="reactiveFormPrice.invalid"
                                                                            [ngClass]="{
                                                                                                'primary-button': !reactiveFormPrice.invalid,
                                                                                                'secondary-button': reactiveFormPrice.invalid
                                                                                                 }"
                                                                            data-bs-dismiss="modal">
                                                                            <i
                                                                                class="fas fa-check text-white fs-5 "></i>
                                                                            &nbsp;Update
                                                                        </button> &nbsp;&nbsp;
                                                                        <button (click)="onclose()"
                                                                            class="btn-danger btn-sm text-white me-4"
                                                                            data-bs-dismiss="modal">
                                                                            <i class="fas fa-close text-white"></i>
                                                                            &nbsp;Close
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                                <div class="modal" id="myModaldelete" data-bs-backdrop="static"
                                                    data-bs-keyboard="false">
                                                    <div class="modal-dialog modal-dialog-centered">
                                                        <div class="modal-content">
                                                            <div class="text-center my-4">
                                                                <h2><b>Are you sure?</b></h2>
                                                                <br>
                                                                <p style="display: block;">Do You Want To Delete the
                                                                    Record
                                                                    ?</p>
                                                                <div class="text-center my-4">
                                                                    <button class="btn-primary btn-sm text-white me-2"
                                                                        data-bs-dismiss="modal">
                                                                        <i class="fas fa-close text-white"></i>
                                                                        &nbsp;Close
                                                                    </button>&nbsp;
                                                                    <button class="btn-danger btn-sm text-white me-4"
                                                                        (click)="ondelete()" data-bs-dismiss="modal">
                                                                        <i class="fas fa-trash text-white fs-5 "></i>
                                                                        &nbsp;Delete
                                                                    </button>


                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <br>
                                            </ng-container>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="row tab-pane fade ms-5" id="kt_tab_pane_4" role="tabpanel">
                                <ng-container *ngIf="!sync_crm_customer">
                                <div style="margin-left: -10px;margin-top:-17px;" class="card shadow-sm">
                                    <br>
                                    <div class="row ms-3 mt-3 d-flex align-items-center">
                                        <div class="col">

                                            <h3 class="card-title"><b>Customer Summary</b></h3>
                                        </div>
                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div class="cardHeads radius-10 border-start border-0 border-3 border-darkgreen">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b>
                                                               Total Customers</b></h5>
                                                        <div>
                                                            <h4 class="badge-green badge-outline-green fs-4 mt-2">
                                                                {{customer_count}}
                                                            </h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-darkgreens text-white ms-auto">
                                                        <i class="fa fa-users fs-3"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col me-5">
                                        <button title="Sync with Shopify" type="button"
                                            class="btn-warning btn-sm text-white me-4 float-end"
                                            (click)="Getsync_shopifycustomer()">
                                            <i
                                                class=" fas fa-duotone fa-arrows-rotate fs-5"></i>
                                            &nbsp;&nbsp;&nbsp; Sync Shopify
                                        </button>&nbsp;&nbsp;
                                    </div>
                                    </div>
                                    <div class="table-responsive">
                                        <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                            <table id="shopify_customerlist"
                                                class="table table-striped table-row-bordered gy-5 gs-7">
                                                <thead>
                                                    <tr
                                                        class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                                                        <th>
                                                            <input type="checkbox" id="checkAll"
                                                                (change)="$event ? masterToggle() : null"
                                                                [checked]="selection.hasValue() && isAllSelected()"
                                                                [indeterminate]="selection.hasValue() && !isAllSelected()" />
                                                            All
                                                        </th>
                                                        <th>Customer ID</th>
                                                        <th>Customer Name</th>
                                                        <th>Email</th>
                                                        <th>Phone</th>
                                                        <th>Address</th>
                                                        <th>Email subscription</th>
                                                        <th>Orders</th>
                                                        <th>Order Status</th>
                                                        <th>Amount Spent</th>
                                                        <th>Lead Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let data of shopify_customerlist; let i=index;">
                                                        <td> <input *ngIf="data.status_flag  === 'Assigned'" disabled
                                                                type="checkbox" (click)="$event.stopPropagation()"
                                                                (change)="$event ? selection.toggle(data) : null"
                                                                [checked]="selection.isSelected(data)" hidden />
                                                            <input *ngIf="data.status_flag  != 'Assigned'"
                                                                type="checkbox" (click)="$event.stopPropagation()"
                                                                (change)="$event ? selection.toggle(data) : null"
                                                                [checked]="selection.isSelected(data)" />
                                                        </td>
                                                        <td>{{data.shopify_id}}</td>
                                                        <td><span>{{data.first_name}} {{data.last_name}}<span
                                                                    *ngIf="!data.first_name">{{data.email}}</span></span>
                                                        </td>
                                                        <!-- <td ><span [hidden]="data.email_marketing_consent.state != 'not_subscribed'">&nbsp;&nbsp;&nbsp;Not Subscribed &nbsp;&nbsp;&nbsp;<span [hidden]="data.email_marketing_consent.state != 'subscribed'" >&nbsp;&nbsp; Subscribed &nbsp;&nbsp;</span></span></td> -->
                                                        <td><span>{{data.email}}</span></td>
                                                        <td><span class="text-nowrap">{{data.default_phone}}</span></td>
                                                        <td><span *ngIf="!data.default_city"></span><span
                                                                *ngIf="data.default_city">{{data.default_address1}},{{data.default_address2}},{{data.default_city}},{{data.default_country}}</span>
                                                        </td>
                                                        <td><span *ngIf="data.email_state  === 'not_subscribed'"
                                                                style="color: rgb(120, 124, 121);font-weight:bolder;"
                                                                class="badge bg-secondary text-black ">&nbsp;&nbsp;
                                                                Not Subscribed &nbsp;&nbsp;&nbsp;</span><span
                                                                *ngIf="data.email_state  === 'unsubscribed'"
                                                                style="color: orange;font-weight:bolder;"
                                                                class="badge bg-warning text-white ">&nbsp;&nbsp;
                                                                Unsubscribed &nbsp;&nbsp;&nbsp;</span><span
                                                                *ngIf="data.email_state  === 'subscribed'"
                                                                style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                                class="badge bg-seccuss text-white ">&nbsp;&nbsp;
                                                                Subscribed &nbsp;&nbsp; </span></td>

                                                        <td>{{data.orders_count}}</td>
                                                        <td><span *ngIf="data.order_status  === 'Order Raised'"
                                                                style="color: rgb(25, 219, 74);font-weight:bolder;"
                                                                class="badge bg-success text-white "><b>{{data.order_status}}</b></span>
                                                            <span *ngIf="data.order_status  === 'Not Raised'"
                                                                style="color: orange;font-weight:bolder;"
                                                                class="badge bg-warning text-white "><b>{{data.order_status}}</b></span>
                                                        </td>
                                                        <td>£{{data.total_spent}}</td>
                                                        <td><span *ngIf="data.status_flag  === 'Assigned'"
                                                                style="color: rgb(25, 219, 74);font-weight:bolder;"
                                                                class="badge bg-success text-white "><b>{{data.status_flag}}</b></span><span
                                                                *ngIf="data.status_flag  === 'Not Assign'"
                                                                style="color: orange;font-weight:bolder;"
                                                                class="badge bg-danger text-white "><b>{{data.status_flag}}</b></span>
                                                        </td>


                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center mb-3">

                                        <form [formGroup]="reactiveFormSubmit" #form="ngForm">
                                            <div class="row">
                                                <div class="col-8">
                                                    <div class="col-12 col-lg-12 col-md-6 col-sm-12">
                                                    <b>Customer Type</b><span class="ms-1 text-red">*</span>
                                                    <div class="col-12 col-lg-12 col-md-6 col-sm-12">

                                                    <ng-select formControlName="customer_type"
                                                        [class.is-invalid]="
                                                customer_type.invalid && (customer_type.dirty || customer_type.touched)" [items]="customertype_list"
                                                        
                                                        bindLabel="customer_type1" bindValue="customertype_gid1"
                                                        placeholder="--Select Customer Type--"></ng-select>
                                                        </div>
                                                    <div *ngIf="
                                              customer_type.invalid && (customer_type.dirty || customer_type.touched)
                                                " class="invalid-feedback">
                                                        <div *ngIf="customer_type.errors?.['required']">
                                                            Customer Type is required.
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <div class="col-4">
                                                    <button type="button" [disabled]="reactiveFormSubmit.invalid"
                                                        [ngClass]="{
                                            'primary-button': !reactiveFormSubmit.invalid,
                                            'secondary-button': reactiveFormSubmit.invalid
                                          }" style="height:40px;margin-top:16px;width: 150px;" (click)="OnSubmit()">
                                                        <i class="fas fa-check text-white fs-5"></i> &nbsp;&nbsp;&nbsp;
                                                        Move
                                                        To
                                                        CRM Lead
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </ng-container>
                            </div>
                            <div class="row tab-pane fade ms-5" id="kt_tab_pane_7" role="tabpanel">
                                <div class="row">
                                    <div class="col-12 ">
                                        <div class="modal-body">
                                            <div class="card ">
                                                <div class="row ms-3 mt-3 d-flex align-items-center">
                                                    <div class="col">
                                                        <h3 class="card-title"><b style="margin-top: 60px;">Inventory
                                                                Stock
                                                                Summary</b></h3>
                                                    </div>

                                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                                        <div
                                                            class="cardHeads radius-10 border-start border-0 border-3 border-darkorange">
                                                            <div class="card-body12">
                                                                <div class="d-flex align-items-center">
                                                                    <div>
                                                                        <h5 class="mb-0 text-secondary"><b
                                                                                style="color: rgb(226, 77, 201);">Shopify
                                                                                Inventory</b></h5>
                                                                        <div>
                                                                            <h4
                                                                                class="badge1 badge-outline1 badge-info fs-4 mt-2">
                                                                                {{product_count}}
                                                                            </h4>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        class="widgets-icons-2 rounded-circle bg-gradient-purple text-white ms-auto">
                                                                        <i class="fas fa-box fs-3"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class=" col h-60px d-flex justify-content-center align-items-center hover-elevate-up ms-3 rounded "
                                                        style="margin-top: -12px;width: 170px;">

                                                        <div>
                                                            <button type="button" (click)="onsubmitinventory()"
                                                                class="primary-button">
                                                                <i class="fas fa-check text-white fs-5"></i>
                                                                &nbsp;&nbsp;&nbsp; Move To CRM Stock
                                                            </button>&nbsp;&nbsp;

                                                        </div>

                                                    </div>
                                                    <!-- <div class="col me-5">
                                                        <button type="button"
                                                            class="primary-button btn-sm text-white me-4 float-end"
                                                            (click)="onsubmitinventory()">
                                                            <i class="fas fa-check text-white fs-5"></i>
                                                            &nbsp;&nbsp;&nbsp; Move To Stock
                                                        </button>
                                                       
                                                    </div> -->
                                                </div>
                                                <br>
                                                <div class="table-responsive">
                                                    <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                                        <table id="productinventorylist"
                                                            class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                                            <thead>
                                                                <tr
                                                                    class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                                                    <th>
                                                                        <input type="checkbox" id="checkAll"
                                                                            (change)="$event ? masterToggle4() : null"
                                                                            [checked]="selection4.hasValue() && isAllSelected4()"
                                                                            [indeterminate]="selection4.hasValue() && !isAllSelected4()" />
                                                                        All
                                                                    </th>
                                                                    <th>Product Type </th>
                                                                    <th>Product</th>
                                                                    <th>Available</th>
                                                                    <!-- <th>On Hand</th> -->
                                                                    <!-- <th>Product Image</th> -->
                                                                    <!-- <th>Product Status</th> -->
                                                                    <th>Vendor</th>
                                                                    <th>Moved Status</th>
                                                                    <th class="text-center">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr
                                                                    *ngFor="let data of productinventorylist; let i=index;">
                                                                    <td><input *ngIf="data.status_flag  === 'Assigned'"
                                                                            disabled type="checkbox"
                                                                            (click)="$event.stopPropagation()"
                                                                            (change)="$event ? selection4.toggle(data) : null"
                                                                            [checked]="selection4.isSelected(data)"
                                                                            hidden />
                                                                        <input *ngIf="data.status_flag  != 'Assigned'"
                                                                            type="checkbox"
                                                                            (click)="$event.stopPropagation()"
                                                                            (change)="$event ? selection4.toggle(data) : null"
                                                                            [checked]="selection4.isSelected(data)" />
                                                                    </td>

                                                                    <td>{{data.product_type}}</td>
                                                                    <td>{{data.product_name}}</td>
                                                                    <!-- <td><span *ngIf="data.productuom_name === data.productuomclass_name" >{{data.productuom_name}}</span><span *ngIf="data.productuom_name != data.productuomclass_name" >{{data.productuom_name}} {{data.productuomclass_name}}</span></td> -->
                                                                    <!-- <td><span
                                                                            *ngIf="data.product_image === 'no'"></span>
                                                                        <img *ngIf="data.product_image !='no'"
                                                                            src={{data.product_image}} alt=""
                                                                            style="width:69%;height:55px;"><span
                                                                            *ngIf="!data.product_image"></span>
                                                                    </td> -->
                                                                    <!-- <td style="font-weight: bolder;"><span
                                                                            *ngIf="data.Status  === 'archived'"
                                                                            style="color: rgb(150, 40, 194);font-weight:bolder;">&nbsp;&nbsp;
                                                                            Archived &nbsp;&nbsp;&nbsp;</span><span
                                                                            *ngIf="data.Status  === 'draft'"
                                                                            style="color: orange;font-weight:bolder;">&nbsp;&nbsp;
                                                                            Draft &nbsp;&nbsp;&nbsp;</span><span
                                                                            *ngIf="data.Status  === 'active'"
                                                                            style="color: rgb(13, 224, 83);font-weight:bolder;">&nbsp;&nbsp;
                                                                            Active &nbsp;&nbsp; </span><span
                                                                            *ngIf="data.Status  === 'inactive'"
                                                                            style="color: red;font-weight:bolder;">&nbsp;&nbsp;
                                                                            Inactive &nbsp;&nbsp; </span></td> -->

                                                                    <!-- <td>{{data.Status}}</td> -->
                                                                    <td>{{data.inventory_quantity}}</td>
                                                                    <!-- <td>{{data.old_inventory_quantity}}</td> -->
                                                                    <td>{{data.vendor_name}}</td>
                                                                    <td style="font-weight: bolder;"><span
                                                                            *ngIf="data.status_flag  === 'Not Assign'"
                                                                            style="color: orange;font-weight:bolder;"
                                                                            class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                                            Not Assign &nbsp;&nbsp;&nbsp;</span><span
                                                                            *ngIf="data.status_flag  === 'Assigned'"
                                                                            style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                                            class="badge bg-success text-white ">&nbsp;&nbsp;
                                                                            Assigned &nbsp;&nbsp; </span></td>

                                                                    <td class="text-center text-nowrap">



                                                                        <button title="Quantity"
                                                                            (click)="updatequantity(data)" type="button"
                                                                            class="btn btn-icon btn-sm  me-2"
                                                                            style="background-color:rgb(24, 144, 243) ;"
                                                                            data-bs-toggle="modal"
                                                                            data-bs-target="#myModalquantity">
                                                                            <i class="fa-solid fa-table fs-3"></i>
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <form [formGroup]="reactiveFormQuantity" #form="ngForm">
                                                            <div class="modal" id="myModalquantity"
                                                                data-bs-backdrop="static" data-bs-keyboard="false">
                                                                <div class="modal-dialog modal-dialog-centered">
                                                                    <div class="modal-content">


                                                                        <div
                                                                            class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                                                            <h2
                                                                                style="margin-top:10px;color:white;font-weight: bold;">
                                                                                &nbsp;&nbsp;<i
                                                                                    class="fas fa-pencil fw-bolder fs-3"></i>
                                                                                &nbsp;&nbsp;Update Product Quantity</h2>

                                                                        </div>

                                                                        <div class="modal-body">

                                                                            <div class="row">
                                                                                <div
                                                                                    class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                                    <input hidden
                                                                                        formControlName="shopify_productid"
                                                                                        type="" class="
                                                                                                     form-control form-control-lg form-control-solid
                                                                                                     custom-input
                                                                                                     mb-3 mb-lg-0
                                                                                                     bg-white
                                                                                                     custom-input
                                                                                                   "
                                                                                        pattern="^(?!\s*$).+"
                                                                                        name="shopify_productid"
                                                                                        required />
                                                                                    <input hidden
                                                                                        formControlName="inventory_item_id"
                                                                                        type="" class="
                                                                                                     form-control form-control-lg form-control-solid
                                                                                                     custom-input
                                                                                                     mb-3 mb-lg-0
                                                                                                     bg-white
                                                                                                     custom-input
                                                                                                   "
                                                                                        pattern="^(?!\s*$).+"
                                                                                        name="inventory_item_id"
                                                                                        required />
                                                                                </div>
                                                                            </div>

                                                                            <br>
                                                                            <div class="row"><span
                                                                                    class="font-bold"><b>Available
                                                                                        Quantity</b><span
                                                                                        class="ms-1 text-red">*</span></span>
                                                                                <div
                                                                                    class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                                                    <input
                                                                                        formControlName="inventory_quantity"
                                                                                        type="text" class="
                                                                            form-control form-control-lg form-control-solid custom-input
                                                                            mb-3 mb-lg-0  borderc-secondary bg-white custom-input
                                                                          " pattern="^(?!\s*$).+"
                                                                                        name="inventory_quantity"
                                                                                        required maxlength="15" />
                                                                                </div>

                                                                            </div>

                                                                            <div
                                                                                *ngIf="inventory_quantity.invalid && (inventory_quantity.dirty || inventory_quantity.touched)">
                                                                                <div
                                                                                    *ngIf="inventory_quantity.errors?.['required']">
                                                                                    <span style="color:red;">Price is
                                                                                        required.</span>
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                *ngIf="inventory_quantity.invalid && (inventory_quantity.dirty || inventory_quantity.touched)">
                                                                                <div
                                                                                    *ngIf="inventory_quantity.errors?.['pattern']">
                                                                                    <span style="color:red;">Invalid
                                                                                        Format.</span>
                                                                                </div>
                                                                            </div>



                                                                            <br>


                                                                            <div class="text-center my-4">
                                                                                <button (click)="onupdatequantity()"
                                                                                    [disabled]="reactiveFormQuantity.invalid"
                                                                                    [ngClass]="{
                                                                                                            'primary-button': !reactiveFormQuantity.invalid,
                                                                                                            'secondary-button': reactiveFormQuantity.invalid
                                                                                                             }"
                                                                                    data-bs-dismiss="modal">
                                                                                    <i
                                                                                        class="fas fa-check text-white fs-5 "></i>
                                                                                    &nbsp;Update
                                                                                </button> &nbsp;&nbsp;
                                                                                <button (click)="onclose()"
                                                                                    class="btn-danger btn-sm text-white me-4"
                                                                                    data-bs-dismiss="modal">
                                                                                    <i
                                                                                        class="fas fa-close text-white"></i>
                                                                                    &nbsp;Close
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row tab-pane fade ms-5" id="kt_tab_pane_6" role="tabpanel">
                                <div class="row ms-3 mt-3 d-flex align-items-center">
                                    <div class="col">
                                        <h3 class="card-title">Order Summary </h3>
                                    </div>
                                    <div class="col me-5">

                                    </div>
                                </div>
                                <br />
                                <div class="row">

                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div class="cardHeads radius-10 border-start border-0 border-3 border-violet">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b
                                                                style="color: #4604fc;">Order</b></h5>
                                                        <div>
                                                            <h4 class="badge badge-outline badge-info fs-4 mt-2">
                                                                {{total_order}}</h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto">
                                                        <i class="fa-solid fa-cart-plus fs-3"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div class="cardHeads radius-10 border-start border-0 border-3 border-brown">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b
                                                                style="color: rgb(25, 219, 74);"> Paid </b></h5>
                                                        <div>
                                                            <h4 class="badge badge-outline badge-success fs-4 mt-2">
                                                                {{order_paidcount}}</h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-brown text-white ms-auto">
                                                        <i class="fas fa-thumbs-up fs-3"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div class="cardHeads radius-10 border-start border-0 border-3 border-darkblue">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b style="color: orange;">
                                                                Pending</b></h5>
                                                        <div>
                                                            <h4 class="badge badge-outline badge-warning fs-4 mt-2">
                                                                {{order_penidngcount}}</h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto">
                                                        <i class="fas fa-tasks fs-3"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div
                                            class="cardHeads radius-10 border-start border-0 border-3 border-darkorange">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b
                                                                style="color: rgb(226, 77, 201);"> Refunded </b>
                                                        </h5>
                                                        <div>
                                                            <h4 class="badge1 badge-outline1 badge-info fs-4 mt-2">
                                                                {{order_refundedcount}}</h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-purple text-white ms-auto">
                                                        <i class="fa-solid fa-landmark fs-3"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <div class="cardHeads radius-10 border-start border-0 border-3 border-orange">
                                            <div class="card-body12">
                                                <div class="d-flex align-items-center">
                                                    <div>
                                                        <h5 class="mb-0 text-secondary"><b
                                                                style="color: rgb(223, 53, 124);"> Partially Refunded
                                                            </b></h5>
                                                        <div>
                                                            <h4 class="badge2 badge-outline2 badge-info fs-4 mt-2">
                                                                {{order_partiallycount}}</h4>
                                                        </div>
                                                    </div>
                                                    <div
                                                        class="widgets-icons-2 rounded-circle bg-gradient-darkgreen text-white ms-auto">
                                                        <i class="fa fa-file-text"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-2 col-md-3 col-sm-3">
                                        <br> <br>
                                        <button type="button" class="primary-button" style="margin-top:-20px;"
                                            (click)="onsubmitorder()">
                                            <i class="fas fa-check text-white fs-3"></i> &nbsp;&nbsp;&nbsp; Send
                                            Order
                                        </button>
                                    </div>
                                </div>

                                <div class="table-responsive">
                                    <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                        <table id="shopifyordersummarylist"
                                            class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                            <thead>
                                                <tr
                                                    class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                                    <th>
                                                        <input type="checkbox" id="checkAll"
                                                            (change)="$event ? masterToggle2() : null"
                                                            [checked]="selection2.hasValue() && isAllSelected2()"
                                                            [indeterminate]="selection2.hasValue() && !isAllSelected2()" />
                                                        All
                                                    </th>
                                                    <th>Order</th>
                                                    <th>Created Date</th>
                                                    <th>Customer</th>
                                                    <th>Address</th>
                                                    <th>Total</th>
                                                    <th>Payment Status</th>
                                                    <th>Items</th>
                                                    <th>Sent Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let data of shopifyordersummarylist; let i=index;">
                                                    <td> <input *ngIf="data.status_flag  === 'Assigned'" disabled
                                                            type="checkbox" (click)="$event.stopPropagation()"
                                                            (change)="$event ? selection2.toggle(data) : null"
                                                            [checked]="selection2.isSelected(data)" hidden />
                                                        <input *ngIf="data.status_flag  != 'Assigned'" type="checkbox"
                                                            (click)="$event.stopPropagation()"
                                                            (change)="$event ? selection2.toggle(data) : null"
                                                            [checked]="selection2.isSelected(data)" />
                                                    </td>

                                                    <td>{{data.shopifyorder_number}}</td>
                                                    <td>{{data.salesorder_date}}</td>
                                                    <td><span> {{data.customer_contact_person}}</span>
                                                    </td>
                                                    <td>{{data.customer_address}}</td>
                                                    <!-- <td ><span [hidden]="data.email_marketing_consent.state != 'not_subscribed'">&nbsp;&nbsp;&nbsp;Not Subscribed &nbsp;&nbsp;&nbsp;<span [hidden]="data.email_marketing_consent.state != 'subscribed'" >&nbsp;&nbsp; Subscribed &nbsp;&nbsp;</span></span></td> -->
                                                    <td><span>£ {{data.Grandtotal}}</span></td>
                                                    <td><span *ngIf="data.salesorder_status  === 'paid'"
                                                            style="color: rgb(25, 219, 74);font-weight:bolder;"
                                                            class="badge bg-success text-white "><b>Paid</b></span><span
                                                            *ngIf="data.salesorder_status  === 'pending'"
                                                            style="color: orange;font-weight:bolder;"
                                                            class="badge bg-warning text-white "><b>Pending</b></span><span
                                                            *ngIf="data.salesorder_status  === 'refunded'"
                                                            style="color: rgb(226, 77, 201);font-weight:bolder;"
                                                            class="badge bg-danger text-white "><b>Refunded</b></span>
                                                        <span *ngIf="data.salesorder_status  === 'partially_refunded'"
                                                            style="color: rgb(223, 53, 124);font-weight:bolder;"
                                                            class="badge bg-info text-white "><b>Partially
                                                                Refunded</b></span>


                                                    </td>
                                                    <td><span> {{data.item_count}}</span>
                                                    </td>
                                                    <td style="font-weight: bolder;"><span
                                                            *ngIf="data.status_flag  === 'Not Assign'"
                                                            style="color: orange;font-weight:bolder;"
                                                            class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                            Not Assign &nbsp;&nbsp;&nbsp;</span><span
                                                            *ngIf="data.status_flag  === 'Assigned'"
                                                            style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                            class="badge bg-success text-white ">&nbsp;&nbsp;
                                                            Assigned &nbsp;&nbsp; </span></td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                            <div class="row tab-pane fade ms-5" id="kt_tab_pane_10" role="tabpanel">
                                <div class="row">
                                    <div class="col-12 ">
                                        <div>
                                            <div>
                                                <div>

                                                    <div class="row ms-3 mt-3 d-flex align-items-center">
                                                        <div class="col">
                                                            <h3 class="card-title"><b>Payment Summary</b></h3>
                                                        </div>
                                                        <div class="col-lg-2 col-md-3 col-sm-3">
                                                            <div
                                                                class="cardHeads radius-10 border-start border-0 border-3 border-brown">
                                                                <div class="card-body12">
                                                                    <div class="d-flex align-items-center">
                                                                        <div>
                                                                            <h5 class="mb-0 text-secondary"><b
                                                                                    style="color: rgb(25, 219, 74);">Total
                                                                                    Paid </b></h5>
                                                                            <div>
                                                                                <h4
                                                                                    class="badge badge-outline badge-success fs-4 mt-2">
                                                                                    {{order_paidcount}}
                                                                                </h4>
                                                                            </div>
                                                                        </div>
                                                                        <div
                                                                            class="widgets-icons-2 rounded-circle bg-gradient-brown text-white ms-auto">
                                                                            <i class="fas fa-thumbs-up fs-3"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class=" col h-60px d-flex justify-content-center align-items-center hover-elevate-up ms-3 rounded "
                                                            style="margin-top: -10px;width: 170px;">

                                                            <div>
                                                                <button type="button" (click)="onsubmitpayment()"
                                                                    class="primary-button">
                                                                    <i class="fas fa-check text-white fs-5"></i>
                                                                    &nbsp;&nbsp;&nbsp; Payment Approved
                                                                </button>&nbsp;&nbsp;

                                                            </div>

                                                        </div>
                                                    </div>

                                                </div>




                                                <div class="table-responsive">
                                                    <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                                        <table id="shopifypaymentsummarylist"
                                                            class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                                            <thead>
                                                                <tr
                                                                    class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                                                    <th>
                                                                        <input type="checkbox" id="checkAll"
                                                                            (change)="$event ? masterToggle3() : null"
                                                                            [checked]="selection3.hasValue() && isAllSelected3()"
                                                                            [indeterminate]="selection3.hasValue() && !isAllSelected3()" />
                                                                        All
                                                                    </th>
                                                                    <th>Order</th>
                                                                    <th>Created Date</th>
                                                                    <th>Customer</th>
                                                                    <th>Address</th>
                                                                    <th>Total</th>
                                                                    <th>Payment Status</th>
                                                                    <th>Items</th>
                                                                    <th>Sent Status</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr
                                                                    *ngFor="let data of shopifypaymentsummarylist; let i=index;">
                                                                    <td> <input *ngIf="data.status_flag  === 'Assigned'"
                                                                            disabled type="checkbox"
                                                                            (click)="$event.stopPropagation()"
                                                                            (change)="$event ? selection3.toggle(data) : null"
                                                                            [checked]="selection3.isSelected(data)"
                                                                            hidden />
                                                                        <input *ngIf="data.status_flag  != 'Assigned'"
                                                                            type="checkbox"
                                                                            (click)="$event.stopPropagation()"
                                                                            (change)="$event ? selection3.toggle(data) : null"
                                                                            [checked]="selection3.isSelected(data)" />
                                                                    </td>

                                                                    <td>{{data.shopifyorder_number}}</td>
                                                                    <td>{{data.salesorder_date}}</td>
                                                                    <td><span> {{data.customer_contact_person}}</span>
                                                                    </td>
                                                                    <td>{{data.customer_address}}</td>
                                                                    <!-- <td ><span [hidden]="data.email_marketing_consent.state != 'not_subscribed'">&nbsp;&nbsp;&nbsp;Not Subscribed &nbsp;&nbsp;&nbsp;<span [hidden]="data.email_marketing_consent.state != 'subscribed'" >&nbsp;&nbsp; Subscribed &nbsp;&nbsp;</span></span></td> -->
                                                                    <td><span>£ {{data.Grandtotal}}</span></td>
                                                                    <td><span *ngIf="data.salesorder_status  === 'paid'"
                                                                            style="color: rgb(25, 219, 74);font-weight:bolder;"
                                                                            class="badge bg-success text-white "><b>Paid</b></span><span
                                                                            *ngIf="data.salesorder_status  === 'pending'"
                                                                            style="color: orange;font-weight:bolder;"
                                                                            class="badge bg-warning text-white "><b>Pending</b></span><span
                                                                            *ngIf="data.salesorder_status  === 'refunded'"
                                                                            style="color: rgb(226, 77, 201);font-weight:bolder;"
                                                                            class="badge bg-info text-white "><b>Refunded</b></span>
                                                                    </td>
                                                                    <td><span> {{data.item_count}}</span></td>
                                                                    <td style="font-weight: bolder;"><span
                                                                            *ngIf="data.status_flag  === 'Not Assign'"
                                                                            style="color: orange;font-weight:bolder;"
                                                                            class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                                            Not Assign &nbsp;&nbsp;&nbsp;</span><span
                                                                            *ngIf="data.status_flag  === 'Assigned'"
                                                                            style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                                            class="badge bg-success text-white ">&nbsp;&nbsp;
                                                                            Assigned &nbsp;&nbsp; </span></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-container *ngIf="sync_shopify ">
    <div class="tab-pane fade show active " id="kt_tab_pane_5" role="tabpanel">
        <div class="row">
            <div class="col-12 ">
                <div class="modal-body">
                    <div class="card ">
                        <div class="row ms-3 mt-3 d-flex align-items-center">
                            <div class="col">
                                <h3 class="card-title"><b>Sync with Shopfiy</b></h3>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3">
                                <div class="cardHeads radius-10 border-start border-0 border-3 border-violet">
                                    <div class="card-body12">
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <h5 class="mb-0 text-secondary"><b style="color: #4604fc;">
                                                        Product in Shopify</b></h5>
                                                <div>
                                                    <h4 class="badge badge-outline badge-info fs-4 mt-2">
                                                        {{syncshopify_listcount}}
                                                    </h4>
                                                </div>
                                            </div>
                                            <div
                                                class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto">
                                                <i class="fa fa-cubes fs-3"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col me-5">
                                <button type="button" class="primary-button btn-sm text-white me-4 float-end"
                                    (click)="Postsyncshopify()">
                                    <i class="fas fa-check text-white fs-5"></i>
                                    &nbsp;&nbsp;&nbsp; Move To CRM
                                </button>&nbsp;&nbsp;
                                <button type="button" class="btn-primary btn-sm text-white me-4 float-end"
                                    data-bs-toggle="modal" data-bs-target="#myModaladd" (click)="Getbacksync_shopify()">
                                    <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;&nbsp; Back
                                </button>
                            </div>

                        </div>
                        <br>
                        <div class="table-responsive">
                            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                <table id="syncshopify_list"
                                    class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                    <thead>
                                        <tr class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                            <th>

                                                <input type="checkbox" id="checkAll"
                                                    (change)="$event ? masterToggle5() : null"
                                                    [checked]="selection5.hasValue() && isAllSelected5()"
                                                    [indeterminate]="selection5.hasValue() && !isAllSelected5()" />
                                                All
                                            </th>
                                            <th>Product Type </th>
                                            <th>Product</th>
                                            <th>Product Image</th>
                                            <th>Product Status</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of syncshopify_list; let i=index;" class="text-nowrap">
                                            <td> <input *ngIf="data.status_flag  === 'Assigned'" disabled
                                                    type="checkbox" (click)="$event.stopPropagation()"
                                                    (change)="$event ? selection5.toggle(data) : null"
                                                    [checked]="selection5.isSelected(data)" hidden />
                                                <input *ngIf="data.status_flag  != 'Assigned'" type="checkbox"
                                                    (click)="$event.stopPropagation()"
                                                    (change)="$event ? selection5.toggle(data) : null"
                                                    [checked]="selection5.isSelected(data)" />
                                            </td>

                                            <td>{{data.product_type}}</td>
                                            <td>{{data.product_name}}</td>
                                            <td><span *ngIf="data.product_image === 'no'"></span>
                                                <img *ngIf="data.product_image !='no'" src={{data.product_image}} alt=""
                                                style=" width:69%;height:55px"><span *ngIf="!data.product_image"></span>
                                            </td>
                                            <td style="font-weight: bolder;"><span *ngIf="data.Status  === 'archived'"
                                                    style="color: rgb(150, 40, 194);font-weight:bolder;"
                                                    class="badge bg-info text-white ">&nbsp;&nbsp;
                                                    Archived &nbsp;&nbsp;&nbsp;</span><span
                                                    *ngIf="data.Status  === 'draft'"
                                                    style="color: orange;font-weight:bolder;"
                                                    class="badge bg-warning text-white ">&nbsp;&nbsp;
                                                    Draft &nbsp;&nbsp;&nbsp;</span><span
                                                    *ngIf="data.Status  === 'active'"
                                                    style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                    class="badge bg-success text-white ">&nbsp;&nbsp;
                                                    Active &nbsp;&nbsp; </span><span *ngIf="data.Status  === 'inactive'"
                                                    style="color: red;font-weight:bolder;"
                                                    class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                    Inactive &nbsp;&nbsp; </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="sync_crm ">
    <div class="tab-pane fade show active " id="kt_tab_pane_5" role="tabpanel">
        <div class="row">
            <div class="col-12 ">
                <div class="modal-body">
                    <div class="card ">
                        <div class="row ms-3 mt-3 d-flex align-items-center">
                            <div class="col">
                                <h3 class="card-title"><b>Sync with CRM</b></h3>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3">
                                <div class="cardHeads radius-10 border-start border-0 border-3 border-violet">
                                    <div class="card-body12">
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <h5 class="mb-0 text-secondary"><b style="color: #4604fc;">
                                                        Product in CRM</b></h5>
                                                <div>
                                                    <h4 class="badge badge-outline badge-info fs-4 mt-2">
                                                        {{sync_crmlistcount}}
                                                    </h4>
                                                </div>
                                            </div>
                                            <div
                                                class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto">
                                                <i class="fa fa-cubes fs-3"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col me-5">
                                <button type="button" class="primary-button btn-sm text-white me-4 float-end"
                                    (click)="Postsynccrm()">
                                    <i class="fas fa-check text-white fs-5"></i>
                                    &nbsp;&nbsp;&nbsp; Move To Shopify
                                </button>&nbsp;&nbsp;
                                <button type="button" class="btn-primary btn-sm text-white me-4 float-end"
                                    data-bs-toggle="modal" data-bs-target="#myModaladd" (click)="Getbacksync_crm()">
                                    <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;&nbsp; Back
                                </button>
                            </div>

                        </div>
                        <br>
                        <div class="table-responsive">
                            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                <table id="sync_crmlist"
                                    class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                                    <thead>
                                        <tr class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                            <th>

                                                <input type="checkbox" id="checkAll"
                                                    (change)="$event ? masterToggle6() : null"
                                                    [checked]="selection6.hasValue() && isAllSelected6()"
                                                    [indeterminate]="selection6.hasValue() && !isAllSelected6()" />
                                                All
                                            </th>
                                            <th>Product Type </th>
                                            <th>Product</th>
                                            <th>Product Image</th>
                                            <th>Product Status</th>
                                            <!-- <th class="text-center">Action</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of sync_crmlist; let i=index;" class="text-nowrap">
                                            <td> <input
                                                    *ngIf="data.Status  === 'Inactive' || data.Status  === ' '||data.Status  === 'null'"
                                                    disabled type="checkbox" (click)="$event.stopPropagation()"
                                                    (change)="$event ? selection6.toggle(data) : null"
                                                    [checked]="selection6.isSelected(data)" hidden />
                                                <input *ngIf="data.Status  != 'Inactive'" type="checkbox"
                                                    (click)="$event.stopPropagation()"
                                                    (change)="$event ? selection6.toggle(data) : null"
                                                    [checked]="selection6.isSelected(data)" />
                                            </td>

                                            <td>{{data.productgroup_name}}</td>
                                            <td>{{data.product_name}}</td>
                                            <td><span *ngIf="data.product_image === 'no'"></span>
                                                <img *ngIf="data.product_image !='no'" src={{data.product_image}} alt=""
                                               style=" width:69%;height:55px"><span *ngIf="!data.product_image"></span>
                                            </td>
                                            <td style="font-weight: bolder;"><span *ngIf="data.Status  === 'Active'"
                                                    style="color: rgb(13, 224, 83);font-weight:bolder;"
                                                    class="badge bg-success text-white ">&nbsp;&nbsp;
                                                    Active &nbsp;&nbsp; </span><span
                                                    *ngIf="data.Status  === 'Inactive'||data.Status  === ''"
                                                    style="color: red;font-weight:bolder;"
                                                    class="badge bg-danger text-white ">&nbsp;&nbsp;
                                                    Inactive &nbsp;&nbsp; </span>
                                            </td>
                                            <!-- <td class="text-center text-nowrap">
                                                 <button title="Edit" type="button"
                                                    class="btn btn-icon btn-sm bg-edit me-2"
                                                    (click)="onedit(data.shopify_productid)"><span
                                                        class="fa-solid fa-pencil text-white  fs-6"></span></button>
                                                <button title="Upload image" type="button"
                                                    (click)="myModaladddetails(data.product_gid)"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#myModalUpdateimage"
                                                    class="btn btn-icon btn-sm bg-warning me-2"><span
                                                        class="fa-solid fa-camera text-white  fs-6"></span></button>
                                                <button title="Download image" type="button"
                                                    (click)="downloadImage(data)"
                                                    class="btn btn-icon btn-sm bg-info me-2"><span
                                                        class="fa-solid fa-download text-white  fs-6"></span></button>
                                                <button title="Price" type="button"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#myModalUpdateprice"
                                                    (click)="updateprice(data)"
                                                    class="btn btn-icon btn-sm  me-2"
                                                    style="background-color:rgb(192, 24, 243) ;"><i
                                                        class="fas fa-sort-amount-up-alt"></i></button>


                                            </td> -->
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="sync_crm_customer">
    <div class="tab-pane fade show active " id="kt_tab_pane_5" role="tabpanel">
        <div class="row">
            <div class="col-12 ">
                <div class="modal-body">
                    <div class="card ">
                        <div class="row ms-3 mt-3 d-flex align-items-center">
                            <div class="col">
                                <h3 class="card-title"><b>Sync with Shopify</b></h3>
                            </div>
                            <div class="col-lg-2 col-md-3 col-sm-3">
                                <div class="cardHeads radius-10 border-start border-0 border-3 border-darkgreen">
                                    <div class="card-body12">
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <h5 class="mb-0 text-secondary"><b>
                                                       Total Customers</b></h5>
                                                <div>
                                                    <h4 class="badge-green badge-outline-green fs-4 mt-2">
                                                        {{unassign_count}}
                                                    </h4>
                                                </div>
                                            </div>
                                            <div
                                                class="widgets-icons-2 rounded-circle bg-gradient-darkgreens text-white ms-auto">
                                                <i class="fa fa-users fs-3"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col me-5">
                                <button type="button" title="Back" class="btn-primary btn-sm text-white me-4 float-end"
                                    data-bs-toggle="modal" data-bs-target="#myModaladd" (click)="Getbacksync_crm_customer()">
                                    <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;&nbsp; Back
                                </button>
                            </div>

                        </div>
                        <br>
                        <div class="table-responsive">


                            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                                <table id="shopify_unassignedcustomerlist" class="table table-striped table-row-bordered gy-5 gs-7">
                                    <thead>
                                        <tr class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                                            <th>
                                                <input type="checkbox" id="checkAll" (change)="$event ? masterToggle7() : null"
                                                    [checked]="selection7.hasValue() && isAllSelected7()"
                                                    [indeterminate]="selection7.hasValue() && !isAllSelected7()" />
                                                All
                                            </th>
                                            <th>Customer ID</th>
                                            <th>Customer Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Address</th>
                                            <th>Email subscription</th>
                                            <th>Orders</th>
                                            <th>Order Status</th>
                                             <th>Amount Spent</th>
                                             <th>Lead Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of shopify_unassignedcustomerlist; let i=index;">
                                            <td> <input type="checkbox" (click)="$event.stopPropagation()"
                                                    (change)="$event ? selection7.toggle(data) : null"
                                                    [checked]="selection7.isSelected(data)" /></td>
                                                    <td>{{data.shopify_id}}</td>
                                            <td ><span>{{data.first_name}} {{data.last_name}}<span *ngIf="!data.first_name" >{{data.email}}</span></span></td>
                                            <!-- <td ><span [hidden]="data.email_marketing_consent.state != 'not_subscribed'">&nbsp;&nbsp;&nbsp;Not Subscribed &nbsp;&nbsp;&nbsp;<span [hidden]="data.email_marketing_consent.state != 'subscribed'" >&nbsp;&nbsp; Subscribed &nbsp;&nbsp;</span></span></td> -->
                                            <td ><span  >{{data.email}}</span></td>
                                            <td ><span class="text-nowrap"  >{{data.default_phone}}</span></td>
                                           <td><span *ngIf="!data.default_city"></span><span  *ngIf="data.default_city" >{{data.default_address1}},{{data.default_address2}},{{data.default_city}},{{data.default_country}}</span></td>
                                           <td><span *ngIf="data.email_state  === 'not_subscribed'"
                                            style="color: rgb(120, 124, 121);font-weight:bolder;"
                                            class="badge bg-secondary text-black ">&nbsp;&nbsp;
                                            Not Subscribed &nbsp;&nbsp;&nbsp;</span><span
                                            *ngIf="data.email_state  === 'unsubscribed'"
                                            style="color: orange;font-weight:bolder;"
                                            class="badge bg-warning text-white ">&nbsp;&nbsp;
                                            Unsubscribed &nbsp;&nbsp;&nbsp;</span><span
                                            *ngIf="data.email_state  === 'subscribed'"
                                            style="color: rgb(13, 224, 83);font-weight:bolder;"
                                            class="badge bg-seccuss text-white ">&nbsp;&nbsp;
                                            Subscribed &nbsp;&nbsp; </span></td>  
                                            <td>{{data.orders_count}}</td>
                                            <td><span *ngIf="data.order_status  === 'Order Raised'" style="color: rgb(25, 219, 74);font-weight:bolder;"class="badge bg-success text-white "><b>{{data.order_status}}</b></span><span *ngIf="data.order_status  === 'Not Raised'" style="color: orange;font-weight:bolder;"class="badge bg-warning text-white "><b>{{data.order_status}}</b></span></td>
                                            <td>£{{data.total_spent}}</td>
                                            <td><span *ngIf="data.status_flag  === 'Assigned'" style="color: rgb(25, 219, 74);font-weight:bolder;"class="badge bg-success text-white "><b>{{data.status_flag}}</b></span><span *ngIf="data.status_flag  === 'Not Assign'" style="color: orange;font-weight:bolder;"class="badge bg-danger text-white "><b>{{data.status_flag}}</b></span></td>
                    
                    
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="d-flex justify-content-center mb-3">

                            <form [formGroup]="reactiveFormSubmit" #form="ngForm">
                                <div class="row">
                                    <div class="col-8">
                                        <div class="col-12 col-lg-12 col-md-6 col-sm-12">
                                        <b>Customer Type</b><span class="ms-1 text-red">*</span>
                                        <div class="col-12 col-lg-12 col-md-6 col-sm-12">

                                        <ng-select formControlName="customer_type"
                                            [class.is-invalid]="
                                    customer_type.invalid && (customer_type.dirty || customer_type.touched)" [items]="customertype_list"
                                            
                                            bindLabel="customer_type1" bindValue="customertype_gid1"
                                            placeholder="--Select Customer Type--"></ng-select>
                                            </div>
                                        <div *ngIf="
                                  customer_type.invalid && (customer_type.dirty || customer_type.touched)
                                    " class="invalid-feedback">
                                            <div *ngIf="customer_type.errors?.['required']">
                                                Customer Type is required.
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="col-4">
                                        <button type="button" title="Move to CRM Lead Bank" [disabled]="reactiveFormSubmit.invalid"
                                            [ngClass]="{
                                'primary-button': !reactiveFormSubmit.invalid,
                                'secondary-button': reactiveFormSubmit.invalid
                              }" style="height:40px;margin-top:16px;width: 150px;" (click)="OnSubmit()">
                                            <i class="fas fa-check text-white fs-5"></i> &nbsp;&nbsp;&nbsp;
                                            Move
                                            To
                                            CRM Lead
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </div>
</ng-container>