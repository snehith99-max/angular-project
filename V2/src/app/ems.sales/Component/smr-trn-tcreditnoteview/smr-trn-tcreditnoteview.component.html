<div class="card m-5">
    <div class="card-title p-2 rounded-top bg-primary d-flex justify-content-between align-items-center">
        <h1 class="fw-bolder ms-3 text-white"><i class="fa fa-eye fs-2" aria-hidden="true"></i>&nbsp;&nbsp;Credit Note
            View</h1>
        <button style="color: black !important;" class="btn btn-icon btn-sm bg-secondary cursor-pointer me-3"
            routerLink="/smr/SmrTrnCreditNoteSummary"><i class="fa-solid fa-arrow-left text-blue mb-1"></i><span
                class="tooltips">Back</span></button>
    </div>
    <div class="card mt-1 m-3 mb-0">
        <div class="card-header d-flex align-items-center mb-3 cursor-pointer" style="background-color: #def0ff;">
            <p class="card-title fw-bold fs-3 " style="color: #2599ff;">
                <i class="fa-solid fa-clipboard fs-1"></i> &nbsp;Credit Note Details
            </p>
        </div>


        <div class="card p-4 border ms-5 me-5 mb-4" *ngFor="let data of cnsummary_list;">
            <div class="d-flex flex-row m-2 flex-wrap">
                <!-- --------------Order Ref. No ------------- -->
                <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                    <span class="font-bold">Order Ref. No.</span>
                    <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <p>{{data.invoice_reference}}</p>
                    </div>
                </div>
                <!-- --------------Invoice Ref. No ------------- -->
                <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                    <span class="font-bold">Invoice Ref. No.</span>
                    <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <p>{{data.invoiceref_no}}</p>
                    </div>
                </div>
                <!-- --------------Order Date ------------- -->
                <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                    <span class="font-bold">Invoice Date</span>
                    <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <p>{{data.invoice_date}}</p>
                    </div>
                </div>
            </div>
            <div class="d-flex flex-row m-2 flex-wrap">
                <!-- Customer Name -->
                <div class="col-12 col-lg-4 col-md-3 col-sm-12">
                    <span class="font-bold">Customer Name</span>
                    <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                            <p>{{data.customer_name}}</p>
                        </div>

                    </div>
                    <div class="col-11  fv-row mt-2 ">
                        <span>{{this.customer_address}}</span>
                    </div>
                </div>
                <!-- -------------- bill To ------------- -->
                <div class="col-12 col-lg-4 col-md-3 col-sm-12">
                    <span class="font-bold">Email Address</span>
                    <div class="col-11 fv-row mt-2">
                        <p>{{data.customer_email}}</p>
                    </div>
                </div>
                <!-- -------------- Shipment To ------------- -->
                <div class="d-flex flex-row m-2 flex-wrap mt-1">
                    <div class="col-12 col-lg-12 col-md-6 col-sm-12"><span class="font-bold">Remarks</span>
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-2">
                            <p>{{data.invoice_remarks}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- --------------Second Tab ------------- -->
        <div class="tab-content">

            <table class="table table-striped table-bordered text-blue border-bottom gs-7 align-middle">
                <thead>
                    <tr class="fw-bold fs-6 text-nowrap bg-lightblue text-blue align-middle">
                        <th class="text-blue" style="width: 8%;">Product Group</th>
                        <th class="text-blue" style="width: 6%;">Product Code</th>
                        <th class="text-blue" style="width: 18%;">Product</th>
                        <th class="text-blue" style="width: 15%;">Description</th>
                        <th class="text-blue" style="width: 6%;">Quantity</th>
                        <th class="text-blue" style="width: 1%;">MRP</th>
                        <th class="text-blue" style="width: 6%;" colspan="2">Discount</th>
                        <th class="text-blue" style="width: 1%;" >Price</th>

                        <th class="text-blue" style="text-align:center;width: 5%;">Tax Rate</th>
                        <th class="text-blue" style="text-align:center;width: 1%;">Tax</th>
                        <th class="text-blue" style="width: 1%;">Total Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of directinvoiceproductsummary_list; let i=index;">
                        <td style="width: 6%;">{{data.productgroup_name}}</td>
                        <td style="width: 6%;">{{data.product_code}}</td>
                        <td style="text-align: left;">{{data.product_name}}</td>
                        <td>{{data.product_remarks}}</td>
                        <td style="text-align: right;">{{data.qty}} {{data.productuom_name}}</td>
                        <td style="text-align: right;">{{data.vendor_price}}</td>
                        <td style="text-align: right;">{{data.discount_percentage}} %</td>
                        <td style="text-align: right;"> {{data.discount_amount}}</td>
                        <td style="text-align: right;">{{data.price}}</td>

                        <td class="text-center">{{data.tax_prefix1}}
                            <span *ngIf="data.tax_prefix2 === 0">---</span><span *ngIf="data.tax_prefix2 !== 0"><br>{{
                                data.tax_prefix2 }}</span>
                            <!-- <span *ngIf="data.taxname3 === 0">---</span><span *ngIf="data.taxname3 !== 0">{{
                                data.taxname3 }}</span> -->
                        </td>
                        <td style="text-align: right;">
                            {{data.tax_amount}}
                            <span *ngIf="data.tax_amount2 === 0">---</span><span *ngIf="data.tax_amount2 !== 0"><br>{{
                                data.tax_amount2 }}</span>
                        </td>
                        <td style="text-align: right;">{{data.product_total}}</td>
                    </tr>
                </tbody>
            </table> 


        </div>
    </div>
    <!-- --------------Third Tab ------------- -->
    <div class="card mt-5 ms-0 mb-0" *ngFor="let data of cnsummary_list;">
        <div class="row d-flex justify-content-end">
            <div class="col-12 col-lg-3 col-md-3 col-sm-12">
                <div class="d-flex flex-row  flex-wrap ">
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row">
                            <label class="col-form-label font-bold">Net Amount :</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-4">
                            <p>{{data.price_total}}</p>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-row  flex-wrap">
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row">
                            <label class="col-form-label font-bold">Add On Charges :</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-4">
                            <p>{{data.additionalcharges_amount}}</p>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-row  flex-wrap">
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row">
                            <label class="col-form-label font-bold text-nowrap">Additional Discount :</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-4">
                            <p>{{data.discount_amount}}</p>
                        </div>
                    </div>
                </div>

                <div class="d-flex flex-row  flex-wrap">
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-8 col-12 col-md-11 col-sm-11 fv-row">
                            <label class="col-form-label font-bold text-nowrap">Additional Tax :</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12 mt-4">
                        <Div class="d-flex">
                            <p>{{data.tax_name}}</p>
                            &nbsp;&nbsp;
                            <p>{{data.Tax_amount}}</p>
                        </Div>
                    </div>
                </div>

                <div class="d-flex flex-row  flex-wrap">
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row">
                            <label class="col-form-label font-bold">Grand Total :</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-md-6 col-sm-12">
                        <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-4">
                            <p>{{data.invoice_amount}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-content mt-2">
            <table class="table table-striped table-bordered text-blue border-bottom gs-7 align-middle">
                <thead>
                    <tr class="fw-bold fs-6 text-nowrap bg-lightblue text-blue align-middle">
                        <th class="text-blue text-center" style="width: 1%;">Credit Date</th>
                        <th class="text-blue text-center" style="width: 1%;">Invoice Ref.No.</th>
                        <th class="text-blue text-center" style="width: 1%;">Invoice Amount</th>
                        <th class="text-blue text-center" style="width: 1%;">Paid Amount</th>
                        <th class="text-blue text-center" style="text-align:center;width: 1%;">Outstanding
                            Amount</th>
                        <th class="text-blue text-center" style="text-align:center;width: 1%;">Credit Note
                            Amount</th>


                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="padding_custom ">
                            <p class="text-center">{{data.credit_date}}</p>
                        </td>
                        <td class="padding_custom ">
                            <p class="text-center">{{data.invoiceref_no}}</p>
                        </td>
                        <td class="padding_custom">
                            <p class="text-center">{{data.invoice_amount}}</p>
                        </td>
                        <td class=" padding_custom">
                            <p class="text-center">{{data.payment_amount}}</p>
                        </td>
                        <td class=" padding_custom">
                            <p class="text-center">{{data.outstanding}}</p>
                        </td>

                        <td class=" padding_custom">
                            <p class="text-center">{{data.credit_note}}</p>
                        </td>

                    </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>