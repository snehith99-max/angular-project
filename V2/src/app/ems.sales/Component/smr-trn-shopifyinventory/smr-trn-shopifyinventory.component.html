<div class="row">
    <div class="col-12 ">
        <div class="modal-body">
            <div class="card ">
                <div class="card-header bg-primary card-height55">
                    <div class="card-title m-0 ">
                        <h3 class="fw-bolder text-white"> <i class="fab fa-shopify fs-1"></i> &nbsp;&nbsp;&nbsp;Shopify Inventory
                            Summary</h3>
                    </div>
                </div>
                <br>
                <div class="row ms-3 mt-3 d-flex align-items-center">
                    <div class="col">
                        <h3 class="card-title"><b style="margin-top: 60px;">Shopify Inventory
                                Stocks:<span class="ms-3 p-1 fs-4 badge bg-success text-white">{{product_count}}</span></b></h3>
                    </div>

                    <!-- <div class="col-lg-2 col-md-3 col-sm-3">
                        <div class="cardHeads radius-10 border-start border-0 border-3 border-darkorange">
                            <div class="card-body12">
                                <div class="d-flex align-items-center">
                                    <div>
                                        <h5 class="mb-0 text-secondary"><b style="color: rgb(226, 77, 201);">Shopify
                                                Inventory</b></h5>
                                        <div>
                                            <h4 class="badge1 badge-outline1 badge-info fs-4 mt-2">
                                                {{product_count}}
                                            </h4>
                                        </div>
                                    </div>
                                    <div class="widgets-icons-2 rounded-circle bg-gradient-purple text-white ms-auto">
                                        <i class="fas fa-box fs-3"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                        <div class="col me-5">
                            <button type="button" (click)="onsubmitinventory()" class="primary-button me-4 float-end">
                                <i class="fas fa-check text-white fs-5"></i>
                                &nbsp;&nbsp;&nbsp; Move To CRM Stock
                            </button>&nbsp;&nbsp;
                        </div>
                    <!-- <div class="col me-5">
                        <button type="button"
                            class="primary-button btn-sm text-white me-4 float-end"
                            (click)="onsubmitinventory()">
                            <i class="fas fa-check text-white fs-5"></i>
                            &nbsp;&nbsp;&nbsp; Move To Stock
                        </button>
                       
                    </div> -->
                </div>
                <br>
                <div class="table-responsive">
                    <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
                        <table id="productinventorylist"
                            class="table table-striped table-row-bordered border-bottom gs-7 align-middle ">
                            <thead>
                                <tr class=" fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                                    <th>
                                        <input type="checkbox" id="checkAll" (change)="$event ? masterToggle4() : null"
                                            [checked]="selection4.hasValue() && isAllSelected4()"
                                            [indeterminate]="selection4.hasValue() && !isAllSelected4()" />
                                        All
                                    </th>
                                    <th>Product Type </th>
                                    <th>Product</th>
                                    <th>Available</th>
                                    <!-- <th>On Hand</th> -->
                                    <!-- <th>Product Image</th> -->
                                    <!-- <th>Product Status</th> -->
                                    <th>Vendor</th>
                                    <th>Moved Status</th>
                                    <th class="text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of productinventorylist; let i=index;">
                                    <td><input *ngIf="data.status_flag  === 'Assigned'" disabled type="checkbox"
                                            (click)="$event.stopPropagation()"
                                            (change)="$event ? selection4.toggle(data) : null"
                                            [checked]="selection4.isSelected(data)" hidden />
                                        <input *ngIf="data.status_flag  != 'Assigned'" type="checkbox"
                                            (click)="$event.stopPropagation()"
                                            (change)="$event ? selection4.toggle(data) : null"
                                            [checked]="selection4.isSelected(data)" />
                                    </td>

                                    <td>{{data.product_type}}</td>
                                    <td>{{data.product_name}}</td>
                                    <!-- <td><span *ngIf="data.productuom_name === data.productuomclass_name" >{{data.productuom_name}}</span><span *ngIf="data.productuom_name != data.productuomclass_name" >{{data.productuom_name}} {{data.productuomclass_name}}</span></td> -->
                                    <!-- <td><span
                                            *ngIf="data.product_image === 'no'"></span>
                                        <img *ngIf="data.product_image !='no'"
                                            src={{data.product_image}} alt=""
                                            style="width:69%;height:55px;"><span
                                            *ngIf="!data.product_image"></span>
                                    </td> -->
                                    <!-- <td style="font-weight: bolder;"><span
                                            *ngIf="data.Status  === 'archived'"
                                            style="color: rgb(150, 40, 194);font-weight:bolder;">&nbsp;&nbsp;
                                            Archived &nbsp;&nbsp;&nbsp;</span><span
                                            *ngIf="data.Status  === 'draft'"
                                            style="color: orange;font-weight:bolder;">&nbsp;&nbsp;
                                            Draft &nbsp;&nbsp;&nbsp;</span><span
                                            *ngIf="data.Status  === 'active'"
                                            style="color: rgb(13, 224, 83);font-weight:bolder;">&nbsp;&nbsp;
                                            Active &nbsp;&nbsp; </span><span
                                            *ngIf="data.Status  === 'inactive'"
                                            style="color: red;font-weight:bolder;">&nbsp;&nbsp;
                                            Inactive &nbsp;&nbsp; </span></td> -->

                                    <!-- <td>{{data.Status}}</td> -->
                                    <td>{{data.inventory_quantity}}</td>
                                    <!-- <td>{{data.old_inventory_quantity}}</td> -->
                                    <td>{{data.vendor_name}}</td>
                                    <td style="font-weight: bolder;"><span *ngIf="data.status_flag  === 'Not Assign'"
                                            style="color: orange;font-weight:bolder;"
                                            class="badge bg-danger text-white ">&nbsp;&nbsp;
                                            Not Assign &nbsp;&nbsp;&nbsp;</span><span
                                            *ngIf="data.status_flag  === 'Assigned'"
                                            style="color: rgb(13, 224, 83);font-weight:bolder;"
                                            class="badge bg-success text-white ">&nbsp;&nbsp;
                                            Assigned &nbsp;&nbsp; </span></td>

                                    <td class="text-center text-nowrap">



                                        <!-- <button title="Quantity" (click)="updatequantity(data)" type="button"
                                            class="btn btn-icon btn-sm  me-2"
                                            style="background-color:rgb(24, 144, 243) ;" data-bs-toggle="modal"
                                            data-bs-target="#myModalquantity">
                                            <i class="fa-solid fa-table fs-3"></i>
                                        </button> -->

                                        <div style="cursor: pointer;">
                                            <button class="btn me-2 p-1 " title="Options"
                                                (click)="toggleOptions(data.inventory_item_id)"><span
                                                    class="fa-solid fa-ellipsis-vertical fs-1"
                                                    style="color: #4d4d4d;"></span></button>
                                            <div *ngIf="showOptionsDivId === data.inventory_item_id"
                                                class="pb-0 rounded bg-white cursor-pointer icon_menu" style="right: 85px;">
                                                <div class="d-flex p-3 pb-3 Icon_hover" title="Quantity"
                                                (click)="updatequantity(data)" data-bs-toggle="modal"
                                                data-bs-target="#myModalquantity">
                                                    <span><i class="fa-solid fa-table fs-3 me-3"></i></span>
                                                    <span>Quantity</span>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <form [formGroup]="reactiveFormQuantity" #form="ngForm">
                            <div class="modal" id="myModalquantity" data-bs-backdrop="static" data-bs-keyboard="false">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">


                                        <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                                            <h2 style="margin-top:10px;color:white;font-weight: bold;">
                                                &nbsp;&nbsp;<i class="fas fa-pencil fw-bolder fs-3"></i>
                                                &nbsp;&nbsp;Update Product Quantity</h2>

                                        </div>

                                        <div class="modal-body">

                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                    <input hidden formControlName="shopify_productid" type="" class="
                                                                     form-control form-control-lg form-control-solid
                                                                     custom-input
                                                                     mb-3 mb-lg-0
                                                                     bg-white
                                                                     custom-input
                                                                   " pattern="^(?!\s*$).+" name="shopify_productid"
                                                        required />
                                                    <input hidden formControlName="inventory_item_id" type="" class="
                                                                     form-control form-control-lg form-control-solid
                                                                     custom-input
                                                                     mb-3 mb-lg-0
                                                                     bg-white
                                                                     custom-input
                                                                   " pattern="^(?!\s*$).+" name="inventory_item_id"
                                                        required />
                                                </div>
                                            </div>

                                            <br>
                                            <div class="row"><span class="font-bold"><b>Available
                                                        Quantity</b><span class="ms-1 text-red">*</span></span>
                                                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                                                    <input formControlName="inventory_quantity" type="text" class="
                                            form-control form-control-lg form-control-solid custom-input
                                            mb-3 mb-lg-0  borderc-secondary bg-white custom-input
                                          " pattern="^(?!\s*$).+" name="inventory_quantity" required maxlength="15" />
                                                </div>

                                            </div>

                                            <div
                                                *ngIf="inventory_quantity.invalid && (inventory_quantity.dirty || inventory_quantity.touched)">
                                                <div *ngIf="inventory_quantity.errors?.['required']">
                                                    <span style="color:red;">Price is
                                                        required.</span>
                                                </div>
                                            </div>
                                            <div
                                                *ngIf="inventory_quantity.invalid && (inventory_quantity.dirty || inventory_quantity.touched)">
                                                <div *ngIf="inventory_quantity.errors?.['pattern']">
                                                    <span style="color:red;">Invalid
                                                        Format.</span>
                                                </div>
                                            </div>



                                            <br>


                                            <div class="text-center my-4">
                                                <button (click)="onupdatequantity()"
                                                    [disabled]="reactiveFormQuantity.invalid" [ngClass]="{
                                                                            'primary-button': !reactiveFormQuantity.invalid,
                                                                            'secondary-button': reactiveFormQuantity.invalid
                                                                             }" data-bs-dismiss="modal">
                                                    <i class="fas fa-check text-white fs-5 "></i>
                                                    &nbsp;Update
                                                </button> &nbsp;&nbsp;
                                                <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                                    data-bs-dismiss="modal">
                                                    <i class="fas fa-close text-white"></i>
                                                    &nbsp;Close
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>

            </div>

        </div>
    </div>
</div>
<form [formGroup]="reactiveFormPrice" #form="ngForm">
    <div class="modal" id="myModalUpdatequantity"
        data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">


                <div
                    class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                    <h2
                        style="margin-top:10px;color:white;font-weight: bold;">
                        &nbsp;&nbsp;<i
                            class="fas fa-pencil fw-bolder fs-3"></i>
                        &nbsp;&nbsp;Update Product Price</h2>

                </div>

                <div class="modal-body">

                    <div class="row">
                        <div
                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                            <input hidden
                                formControlName="shopify_productid"
                                type="" class="
                                         form-control form-control-lg form-control-solid
                                         custom-input
                                         mb-3 mb-lg-0
                                         bg-white
                                         custom-input
                                       " pattern="^(?!\s*$).+"
                                name="shopify_productid" required />
                            <input hidden formControlName="variant_id"
                                type="" class="
                                         form-control form-control-lg form-control-solid
                                         custom-input
                                         mb-3 mb-lg-0
                                         bg-white
                                         custom-input
                                       " pattern="^(?!\s*$).+"
                                name="variant_id" required />
                        </div>
                    </div>

                    <div class="row"><span class="font-bold"><b>Product
                                Price</b><span
                                class="ms-1 text-red">*</span></span>
                        <div
                            class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">


                            <input formControlName="price" type="text"
                                class="
                form-control form-control-lg form-control-solid custom-input
                mb-3 mb-lg-0  borderc-secondary bg-white custom-input
              " pattern="^(?!\s*$).+" name="price" required />
                        </div>

                    </div>

                    <div
                        *ngIf="price.invalid && (price.dirty || price.touched)">
                        <div *ngIf="price.errors?.['required']">
                            <span style="color:red;">Price is
                                required.</span>
                        </div>
                    </div>
                    <div
                        *ngIf="price.invalid && (price.dirty || price.touched)">
                        <div *ngIf="price.errors?.['pattern']">
                            <span style="color:red;">Invalid
                                Format.</span>
                        </div>
                    </div>



                    <br>


                    <div class="text-center my-4">
                        <button (click)="onupdateprice()"
                            [disabled]="reactiveFormPrice.invalid"
                            [ngClass]="{
                                                'primary-button': !reactiveFormPrice.invalid,
                                                'secondary-button': reactiveFormPrice.invalid
                                                 }"
                            data-bs-dismiss="modal">
                            <i
                                class="fas fa-check text-white fs-5 "></i>
                            &nbsp;Update
                        </button> &nbsp;&nbsp;
                        <button (click)="onclose()"
                            class="btn-danger btn-sm text-white me-4"
                            data-bs-dismiss="modal">
                            <i class="fas fa-close text-white"></i>
                            &nbsp;Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>