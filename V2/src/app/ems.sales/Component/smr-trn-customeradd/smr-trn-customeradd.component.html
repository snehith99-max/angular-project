<div class="card rounded-top">
  <div class="card-title p-5 pb-6 pt-6 rounded-top bg-primary">
    <h3 class="fw-bolder text-white"><i class="fas fa-plus fw-bolder fs-3"></i> &nbsp;&nbsp;&nbsp; Add Customer
    </h3>
  </div>
  <form [formGroup]="reactiveForm" #form="ngForm">

    <div class="m-4 mt-4 border card">
      <div class="d-flex flex-row m-6 flex-wrap">

        <div class="col-12 col-lg-4 col-md-6 col-sm-12">

          <span class="font-bold">Customer Code</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="customer_id" class="
                             form-control form-control-lg form-control-solid
                             custom-input
                             mb-3 mb-lg-0
                             bg-white
                             custom-input borderc-secondary
                            " placeholder="New Ref. No" name="customer_id" readonly style="height:40px;" />

          </div>
        </div>

        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': customer_name.invalid && customer_name.touched || customer_name.errors?.['pattern'] }">Customer <span class="ms-1 text-red">*</span></span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="customer_name" class="
                             form-control form-control-lg form-control-solid
                             custom-input
                             mb-3 mb-lg-0
                             bg-white
                             custom-input
                            " [ngStyle]="{
                            'border-color':
                            customer_name.invalid && customer_name.touched
                        ? 'red'
                        : 'rgb(209, 209, 209)'
                        }" placeholder="Customer " name="customer_name" required style="height:40px;" />
            <!-- <div *ngIf=" customer_name.invalid &&
                        (customer_name.dirty || customer_name.touched)
                 " class="text-red">
              <div *ngIf="customer_name.errors?.['required']">
                Customer is required.
              </div>
            </div> -->
          </div>
        </div>



        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold"[ngClass]
          ="{'error_input_field': customercontact_name.invalid && customercontact_name.touched || customercontact_name.errors?.['pattern'] }">Contact Person <span class="ms-1 text-red">*</span></span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="customercontact_name" class="
                    form-control form-control-lg form-control-solid
                    custom-input
                    mb-3 mb-lg-0
                    bg-white
                    custom-input
                   " [ngStyle]="{
                   'border-color':
                   customercontact_name.invalid && customercontact_name.touched
                     ? 'red'
                     : 'rgb(209, 209, 209)'
                      }" placeholder="Contact Person " name="customercontact_name" required style="height:40px;" />
            <!-- <div *ngIf=" customercontact_name.invalid &&
                       (customercontact_name.dirty || customercontact_name.touched)
                          " class="text-red">
              <div *ngIf="customercontact_name.errors?.['required']">
                Contact Person is required.
              </div>
            </div> -->
          </div>
        </div>

      </div>

      <div class="d-flex flex-row m-6 flex-wrap">

        <div class="col-12 col-lg-4 col-md-4 col-sm-12">
          <span class="font-bold">Contact Number</span>
          <div class="col-12 mt-2">
            <ngx-intl-tel-input [cssClass]="'form-control custom-width'"
              [preferredCountries]="[CountryISO.UnitedKingdom]" [enableAutoCountrySelect]="true"
              [enablePlaceholder]="true" [searchCountryFlag]="true"
              [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name,SearchCountryField.DialCode]"
              [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true" name="mobiles"
               formControlName="mobiles"
              style="height:40px; width: 10px;"></ngx-intl-tel-input>
          </div>
          <!-- <div *ngIf="
                mobiles.invalid && (mobiles.dirty || mobiles.touched)
                " class="invalid-feedback">
            <div *ngIf="mobiles.errors?.['required']">
              Contact Number is required.
            </div>
          </div> -->
        </div>
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': email.invalid && email.touched || email.errors?.['pattern'] }">Contact Email<span class="ms-1 text-red">*</span></span>
          <div class="col-12 col-lg-11 col-md-6 col-sm-12 mt-2">
            <input formControlName="email" class="
                  form-control form-control-lg form-control-solid
                  custom-input
                  mb-3 mb-lg-0
                  bg-white
                  custom-input
                 " [ngStyle]="{
                 'border-color':
                 email.invalid && email.touched
             ? 'red'
             : 'rgb(209, 209, 209)'
             }" placeholder="Email Address"
        
              required style="height:40px;">
          </div>
          <!-- <div *ngIf="email.invalid && (email.dirty || email.touched)">
            <div *ngIf="email.errors?.['required']">
              <span style="color:red;">Contact Email is required.</span>
            </div>
            <div *ngIf="email.errors?.['pattern']">
              <span style="color:red;">Invalid Pattern</span>
            </div>
          </div> -->
        </div>
        <!-- billing email -->
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">Billing Email</span>
          <div class="col-12 col-lg-11 col-md-6 col-sm-12 mt-2">
            <input formControlName="billemail" class="
                  form-control form-control-lg form-control-solid
                  custom-input
                  mb-3 mb-lg-0
                  bg-white
                  custom-input borderc-secondary
                 "  placeholder="Email Address"
            
               style="height:40px;">
          </div>
          
        </div>

      </div>
      <div class="d-flex flex-row m-6 flex-wrap">
        <!-- tax number -->
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" >Tax Number</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="tax_no" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     borderc-secondary
                     custom-input
                    "  placeholder="Tax.No " name="tax_no"  style="height:40px;" />
            <!-- <div *ngIf=" tax_no.invalid &&
                (tax_no.dirty || tax_no.touched)
         " class="text-red">
              <div *ngIf="tax_no.errors?.['required']">
                Tax Number is required.
              </div>
            </div> -->
          </div>
        </div>
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': taxsegment_name.invalid && taxsegment_name.touched || taxsegment_name.errors?.['pattern'] }">Tax Segment<span class="ms-1 text-red">*</span></span>
          <ng-select formControlName="taxsegment_name"
            [class.is-invalid]="taxsegment_name.invalid && (taxsegment_name.dirty || taxsegment_name.touched)"
            [ngClass]="{'invalid-border': taxsegment_name.invalid && taxsegment_name.touched}" [items]="taxsegment_list"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="taxsegment_name"
            bindValue="taxsegment_gid" placeholder="Select a Tax Segment">
          </ng-select>
          <!-- <div *ngIf="taxsegment_name.invalid && (taxsegment_name.dirty || taxsegment_name.touched)"
            class="invalid-feedback">
            <div *ngIf="taxsegment_name.errors?.['required']">
              Tax Segment is required.
            </div>
          </div> -->
        </div>

        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">Price Segment</span>
          <ng-select formControlName="pricesegment_name"
            [items]="pricesegment_list" class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
            bindLabel="pricesegment_name" bindValue="pricesegment_gid" placeholder="Select a Price Segment">
          </ng-select>
          <!-- <div *ngIf="
          pricesegment_name.invalid && (pricesegment_name.dirty || pricesegment_name.touched)
                " class="invalid-feedback">
            <div *ngIf="pricesegment_name.errors?.['required']">
              Price Segment is required.
            </div>
          </div> -->
        </div>
      </div>

      <div class="d-flex flex-row m-6 flex-wrap">
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': address1.invalid && address1.touched}">Address Line I<span class="ms-1 text-red">*</span></span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="address1" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      address1.invalid && address1.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" placeholder="Address Line I" name="address" required style="height:40px;" />
                    <!-- <textarea type="text"
                    class="form-control mt-4 form-control-lg form-control-solid bg-secondary custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    placeholder="Customer Address"  formControlName="address1" [ngStyle]="{
                      'border-color':
                      address1.invalid && address1.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" class="form-control" rows="5"></textarea> -->
          </div>
        </div>
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">Address Line II</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">

            <input formControlName="address2" type="text" class="
                                      form-control form-control-lg form-control-solid
                                      borderc-secondary
                                      bg-white
                                      custom-input
                                      mb-3 mb-lg-0
                                  " placeholder="Address Line II" name="address2" style="height:40px;" />
                                  <!-- <textarea type="text"
                                  class="form-control mt-4 form-control-lg form-control-solid bg-secondary custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                                  placeholder="Shipping to"  formControlName="address2"  class="form-control" rows="5"></textarea> -->
          </div>
        </div>
    
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">City</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="customer_city" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    " placeholder="Customer city" style="height:40px;" />

          </div>
        </div>
        <!-- <div class="col">
        <div class="col-12 col-lg-12 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': countryname.invalid && countryname.touched || countryname.errors?.['pattern'] }">Country<span class="ms-1 text-red">*</span></span>
          <ng-select formControlName="countryname" [class.is-invalid]="
                countryname.invalid && (countryname.dirty || countryname.touched)
                  " [ngClass]="{'invalid-border': countryname.invalid && countryname.touched}" [items]="country_list"
            class="custom mb-2 col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="country_name"
            bindValue="country_gid" placeholder="Select an Country">
          </ng-select>
        </div>
        <div class="col-12 col-lg-12 col-md-6 col-sm-12">
          <span class="font-bold">Region</span>
          <ng-select formControlName="region_name" [items]="region_list"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="region_name"
            bindValue="region_gid" placeholder="Select an Region"></ng-select>
         
        </div>
      </div> -->
      </div>

      <div class="d-flex flex-row m-6 flex-wrap">
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">Postal code</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">

            <input formControlName="postal_code" type="numeric" class="
                    form-control form-control-lg form-control-solid
                    borderc-secondary
                    bg-white
                    custom-input
                    mb-3 mb-lg-0
                  " placeholder="Postal code"  name="postal_code"
              style="height:40px;" />
          </div>
        </div>
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': countryname.invalid && countryname.touched || countryname.errors?.['pattern'] }">Country<span class="ms-1 text-red">*</span></span>
          <ng-select formControlName="countryname" [class.is-invalid]="
                countryname.invalid && (countryname.dirty || countryname.touched)
                  " [ngClass]="{'invalid-border': countryname.invalid && countryname.touched}" [items]="country_list"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="country_name"
            bindValue="country_gid" placeholder="Select an Country">

          </ng-select>
          
        </div>

        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold">Region</span>
          <ng-select formControlName="region_name" [items]="region_list"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="region_name"
            bindValue="region_gid" placeholder="Select an Region"></ng-select>
         
        </div>
      </div>

      <div class="d-flex flex-row m-6 flex-wrap">
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" >State/County</span>
          <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
            <input type="text" formControlName="customer_state" class="
            form-control form-control-lg form-control-solid
            custom-input
            mb-3 mb-lg-0
            bg-white
            custom-input borderc-secondary"  placeholder="Customer State" style="height:40px;" />

          </div>
        </div>
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': sales_person.invalid && sales_person.touched || sales_person.errors?.['pattern'] }">Sales Person<span class="ms-1 text-red">*</span></span>
          <ng-select formControlName="sales_person" [class.is-invalid]="
          sales_person.invalid && (sales_person.dirty || sales_person.touched)
                  " [ngClass]="{'invalid-border': sales_person.invalid && sales_person.touched}"
            [items]="salesperson_list" class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
            bindLabel="salesperson_name" bindValue="salesperson_gid" placeholder="Select Sales Person"></ng-select>
          <!-- <div *ngIf="
          sales_person.invalid && (sales_person.dirty || sales_person.touched)
                  " class="invalid-feedback">
            <div *ngIf="sales_person.errors?.['required']">
              Sales Person is required.
            </div>
          </div> -->
        </div>
        <div class="col-12 col-lg-2 col-md-6 col-sm-12">
          <span class="font-bold" [ngClass]
          ="{'error_input_field': currency.invalid && currency.touched || currency.errors?.['pattern'] }">Currency<span class="ms-1 text-red">*</span></span>
          <ng-select formControlName="currency" [class.is-invalid]="
          currency.invalid && (currency.dirty || currency.touched)
                  " [ngClass]="{'invalid-border': currency.invalid && currency.touched}" [items]="currency_list"
            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="currency_name"
            bindValue="currency_gid" placeholder="Select Currency"></ng-select>         
        </div>

       <div class="col-12 col-lg-2 col-md-4 col-sm-12"><span class="font-bold">Credit Days</span>
          <div class="col-lg-6 mt-2">
            <div style="display: flex; flex-direction: column;">
              <input type="text" formControlName="credit_days"
                class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary mt-2SmrMstCustomerEdit"
                placeholder="Days" style="height:35px; width: 65px;" />
              <span  style="margin-left: 65px; margin-top: -21px; font-weight: bold; align-items: center;">Days</span>
            </div>
          </div>
        </div>

      </div>

    </div>

    <div class="text-center my-4">
      <button class=" btn-success btn-sm text-white me-2" (click)="validate()">
        <i class="fas fa-check text-white fs-5"></i> &nbsp; Submit
      </button>

      <button class="btn-primary btn-sm text-white me-4" (click)="onclose()">
        <i class="fas fa-arrow-left"></i> &nbsp; Back
      </button>
    </div>


  </form>
</div>