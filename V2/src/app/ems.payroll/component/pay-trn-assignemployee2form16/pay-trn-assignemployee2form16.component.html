<div class="card">
    <div class="row ms-3 mt-3 d-flex align-items-center">
        <div class="col">
            <h3 class="card-title">Assessment Year</h3>
        </div>
    </div>

    <form [formGroup]="assignempForm" #form="ngForm">
        <div class="text-center" *ngFor="let m of assessmentsummarylist">
            <h3>{{m.duration}}</h3>
        </div>       

        <div class="table-responsive">
            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded mt-2">
                <table id="assignemp" class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>
                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>
                                <input type="checkbox" id="checkAll" class="mt-2" (change)="$event ? masterToggle() : null"
                                    [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()" />
                                <span class="ms-2">Check All</span>
                            </th>
                            <th>S.No</th>
                            <th>Branch</th>
                            <th>Employee Code</th>
                            <th>Employee Name</th>
                            <th>Department</th>
                            <th>Designation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="align-middle" *ngFor="let data of assignempsummarylist; let i=index;">
                            <td>
                                <input type="checkbox" (click)="$event.stopPropagation()"
                                    (change)="$event ? selection.toggle(data) : null"
                                    [checked]="selection.isSelected(data)" />
                            </td>
                            <td title="S.No">{{i+1}}</td>
                            <td title="Branch">{{data.branch_name}}</td>
                            <td title="Employee Code">{{data.user_code}}</td>
                            <td title="Employee Name">{{data.employee_name}}</td>
                            <td title="Department">{{data.department_name}}</td>
                            <td title="Designation">{{data.designation_name}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    
        <div class="text-center my-4">
            <button type="submit" class="me-4 btn-success" (click)="onSubmit()"
                [disabled]="assignempForm.invalid">
                <i class="fas fa-check text-white fs-5"></i>
                <span class="ms-3">Submit</span>
            </button>
    
            <button type="back" class="btn-primary btn-sm text-white me-2" (click)="back()">
                <i class="fas fa-arrow-left fs-5 me-2"></i>
                <span class="ms-3">Back</span>
            </button>
        </div>
    </form>    
</div>