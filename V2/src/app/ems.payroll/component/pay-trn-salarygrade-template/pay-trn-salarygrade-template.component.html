<div class="card">

  <div class="row ms-3 mt-3 d-flex align-items-center">
    <div class="col">
      <h3 class="card-title">Salary Grade Template</h3>
    </div>

    <div class="col me-5">
      <button title="Add Salary Grade Template" class="btn-primary btn-sm text-white me-4 mb-2 mt-2 float-end"
        routerLink="/payroll/PayTrnAddSalaryGradeTemplate">
        Add Salary Grade Template
      </button>
    </div>
  </div>


  <div class="table-responsive">
    <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded mt-2">
      <table id="salarygradetemplate_list"
        class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
        <thead>
          <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
            <th>S.No</th>
            <th>Created Date</th>
            <th>Salary Grade Template Name</th>
            <th style="text-align: right;">Basic Salary</th>
            <th>Additional Component</th>
            <th style="text-align: right;">Gross Salary</th>
            <th>Deduction Component</th>
            <th>Other Component</th>
            <th style="text-align: right;">Net Salary</th>
            <th class="text-center bg-lightblue ">Action</th> 
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of salarygradetemplate_list; let i=index;" class="align-middle">
            <td>{{i+1}}</td>
            <td>{{data.created_date}}</td>
            <td>{{data.salarygradetemplate_name}}</td>
            <td style="text-align: right;">{{data.basic_salary}}</td>
            <td class="text-center text-nowrap">

              <button title="Additional Component" type="button" (click)="openDetails(data)" data-bs-toggle="modal"
                data-bs-target="#myadditional" class="btn btn-icon btn-sm bg-primary me-2"><span
                  class="fa fa-question-circle fs-6"></span></button>

            </td>
            <td style="text-align: right;">{{data.gross_salary}}</td>
            <td class="text-center text-nowrap">

              <button title="Deduction Component" type="button" (click)="openDetailsDeduc(data)" data-bs-toggle="modal"
                data-bs-target="#myadditional" class="btn btn-icon btn-sm bg-primary me-2"><span
                  class="fa fa-question-circle fs-6"></span></button>

            </td>
            <td class="text-center text-nowrap">

              <button title="Other Component" type="button" (click)="openDetailsOther(data)" data-bs-toggle="modal"
                data-bs-target="#myadditional" class="btn btn-icon btn-sm bg-primary me-2"><span
                  class="fa fa-question-circle fs-6"></span></button>

            </td>
            <td style="text-align: right;">{{data.net_salary}}</td>
            <td class="text-center text-nowrap">

              <button title="Edit" type="button" class="btn btn-icon btn-sm bg-etdark me-2"
                (click)="onedit(data.salarygradetemplate_gid)">
                <span class="fa-solid fa-pencil fs-6 text-white"></span>
              </button>

              <button title="Delete" type="button" data-bs-toggle="modal" data-bs-target="#myModaldelete"
                class="btn btn-icon btn-sm bg-danger me-2" (click)="openModaldelete(data.salarygradetemplate_gid)">
                <i class="fa-solid fa-trash text-white fs-6"></i>
              </button>

              <!-- <button title="Assign"  type="button" class="btn btn-icon btn-sm bg-info me-2"
                (click)="Assign(data.salarygradetemplate_gid)" data-bs-toggle="modal" data-bs-target="#myModalunassignemployee">
                <i class="fa fas fa-user-plus text-white fs-6"></i>
              </button> -->

              <!-- <button title="Unassign"  type="button" class="btn btn-icon btn-sm bg-warning me-2"
                (click)="UnAssign(data.salarygradetemplate_gid)" data-bs-toggle="modal" data-bs-target="#myModalunassignemployee">
                <i class="fa-solid fa-users-slash fs-6"></i>
              </button> -->

            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="modal" id="myadditional" data-bs-backdrop="static" data-bs-keyboard="false" style="margin-top: 150px;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="table-responsive">
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white rounded d-flex">
          <table id="" class="table table-striped table-row-bordered gy-5 gs-7">
            <thead>
              <tr class="fw-bold fs-5 bg-lightblue text-blue">
                <th>S.No</th>
                <th>Component Name</th>
                <th>Employee Contribution</th>
                <th>Employer Contribution</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of componentdetails; let i=index;" class="align-middle">

                <td>{{i+1}}</td>
                <td>{{data.component_name}}</td>
                <td>{{data.employee_contribution}}</td>
                <td>{{data.employer_contribution}}</td>
              </tr>
            </tbody>
          </table>
          <div class="text-center">
            <button class="btn-primary btn-sm text-white me-2" (click)="onback()" data-bs-dismiss="modal">
              <i class="fas fa-arrow-left fs-5 me-2"></i> &nbsp;Back
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


<!-- The Modal Delete -->
<div id="myModaldelete" class="modal fade">
  <div class="modal-dialog modal-confirm del_modal-dialog">
    <div class="modal-content del_modal-content">
      <div class="text-center my-4">
        <h4 class="w-100  fw-bolder fs-1 mt-5">Are you sure ?</h4>
        <p class="fw-bold fs-5 mt-4">Do You Want To Delete The Record ?</p>
        <div class="text-center my-4">

          <div class="modal-footer justify-content-center">
            <button type="button" class="btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn-danger" data-bs-dismiss="modal" (click)="ondelete()">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>