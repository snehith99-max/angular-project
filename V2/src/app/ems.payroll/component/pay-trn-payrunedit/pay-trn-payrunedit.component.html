<form [formGroup]="payruneditform" #form="ngForm">
    <input formControlName="salary_gid" hidden placeholder="Address Line 1" type="text" class="form-control form-control-lg form-control-solid bg-white custom-input mb-3 mb-lg-0 borderc-secondary
           " name="salary_gid" />

    <div class="card rounded-top">
        <div class="card-title p-5 pb-6 pt-6 rounded-top bg-primary">
            <h3 class="fw-bolder text-white">
                <i class="fa-solid fa-pen-to-square fs-2"></i> &nbsp;&nbsp; Edit Payrun
            </h3>
        </div>

        <div class="d-flex flex-row m-6 flex-wrap">

            <div class="col-12 col-lg-2 col-md-2 col-sm-12"><span class="font-bold">Employee Name</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input formControlName="employee_name" type="text" readonly
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white borderc-secondary custom-input" />
                </div>
            </div>
          

            <div class="col-12 col-lg-2 col-md-2 col-sm-12"><span class="font-bold required">Payrun Date</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="date"
                        class="form-control form-control-lg form-control-solid date-picker mb-3 mb-lg-0 bg-white custom-input border-secondary"
                        placeholder="DD-MM-YYYY" formControlName="payrun_date"
                        [ngStyle]="{'border-color': payrun_date.invalid && payrun_date.touched ? 'red' : 'rgb(209, 209, 209)'}" />
                    <div *ngIf="payrun_date.invalid && (payrun_date.dirty || payrun_date.touched)">
                        <div *ngIf="payrun_date.errors?.['required']">
                            <span style="color:red;">Payrun Date is Required</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-2 col-md-2 col-sm-12"*ngIf="getpayrundetails.salary_mode == 'Basic'" ><span class="font-bold">Basic Salary</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input formControlName="basic_salary" type="text" (change)="showTextBox($event)" (ngModelChange)="ongrossSalaryChange()"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white borderc-secondary custom-input" />

                </div>
            </div>
        </div>

        <!-- <div class="card m-3 border heading">
            <div class="card-header bg-lightblue card-height55">
                <div class="card-title m-0">
                    <h4 class="fw-bolder text-blue">Addition Component</h4>
                </div>
            </div>
        </div> -->

        <div class="card shadow-sm mt-4 addition" style="width:800px ;">

            <div class="card-header">
                <h3 class="card-title">Addition Component</h3>
            </div>


        <div class="table-responsive">
            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded mt-2">
                <table id="" class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>

                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>S.No</th>
                            <th>Component Group</th>
                            <th>Component Name</th>
                            <!-- <th colspan="2" style="text-align: center;">Contribution</th> -->
                            <th>Employee Contribution</th>
                            <th>Employer Contribution</th>
                        </tr>

                    </thead>
                    <tbody>
                        <tr *ngFor="let data of addition_list; let i=index;" class="align-middle">
                            <td>{{i+1}}</td>
                            <!-- <td>
                                <input type="text" [(ngModel)]="data.addcomponentgroup_name"  placeholder="0.0" readonly 
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="addcomponentgroup_name_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td> -->
                            <td>{{data.addcomponentgroup_name}}</td>

                            <!-- <td>
                                <input type="text" [(ngModel)]="data.addsalarycomponent_name" placeholder="0.0" readonly
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="addsalarycomponent_name_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td> -->
                            <td>{{data.addsalarycomponent_name}}</td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.addsalarycomponent_amount"   placeholder="0.0"  (ngModelChange)="ongrossSalaryChange()"
                                     class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="addsalarycomponent_amount_{{i}}"
                                style="width: 100px; display: inline-block; text-align: right;"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.addemployer_salarycomponentamount"  (ngModelChange)="ongrossSalaryChange()"
                                    placeholder="0.0" style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                                    style="width: 100px; display: inline-block; text-align: right;"
                                    formControlName="addemployer_salarycomponentamount_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div style="display: flex; justify-content: flex-end; margin-top: 10px;margin-bottom: 10px;">
            <div>
                <span class="font-bold">Gross Salary</span>
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="gross_salary"  
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;" >
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="grand_salary" placeholder="0.00"
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;margin-right: 80px;">
            </div>
        </div>


        <!-- <div class="card m-3 border">
            <div class="card-header bg-lightblue card-height55">
                <div class="card-title m-0">
                    <h4 class="fw-bolder text-blue">Deduction Component</h4>
                </div>
            </div>
        </div> -->

        <div class="card-header">
            <h3 class="card-title">Deduction Component</h3>
        </div>


        <div class="table-responsive">
            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded mt-2">
                <table id="" class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>
                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>S.No</th>
                            <th>Component Group</th>
                            <th>Component Name</th>
                            <th>Employee Contribution</th>
                            <th>Employer Contribution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of deduction_list; let i=index;" class="align-middle">

                            <td>{{i+1}}</td>
                            <!-- <td>
                                <input type="text" [(ngModel)]="data.dedcomponentgroup_name" placeholder="0.0" readonly
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="dedcomponentgroup_name_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td> -->
                            <td>{{data.dedcomponentgroup_name}}</td>

                            <!-- <td>
                                <input type="text" [(ngModel)]="data.dedsalarycomponent_name" placeholder="0.0" readonly
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="dedsalarycomponent_name_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td> -->
                            <td>{{data.dedsalarycomponent_name}}</td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.dedsalarycomponent_amount" placeholder="0.0" (ngModelChange)="ongrossSalaryChange()"
                                     class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="dedsalarycomponent_amount_{{i}}"
                                style="width: 100px; display: inline-block; text-align: right;"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.dedemployer_salarycomponentamount" (ngModelChange)="ongrossSalaryChange()"
                                    placeholder="0.0" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                                style="width: 100px; display: inline-block; text-align: right;"
                                    formControlName="dedemployer_salarycomponentamount_{{i}}"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>


        <!-- <div class="card m-3 border">
            <div class="card-header bg-lightblue card-height55">
                <div class="card-title m-0">
                    <h4 class="fw-bolder text-blue">Others Component</h4>
                </div>
            </div>
        </div> -->

        <div class="card-header">
            <h3 class="card-title">Others Component</h3>
        </div>


        <div class="table-responsive">
            <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded mt-2">
                <table id="" class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>
                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>S.No</th>
                            <th>Component Group</th>
                            <th>Component Name</th>
                            <th>Employee Contribution</th>
                            <th>Employer Contribution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of others_list; let i=index;" class="align-middle">
                            <td>{{i+1}}</td>
                            <!-- <td>
                                <input type="text" [(ngModel)]="data.otherscomponentgroup_name" placeholder="0.0" readonly 
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="otherscomponentgroup_name_{{i}}"

                                    (keypress)="onKeyPress($event)" />
                            </td> -->
                            <td>{{data.otherscomponentgroup_name}}</td>

                            <!-- <td>
                                <input type="text" [(ngModel)]="data.otherssalarycomponent_name" placeholder="0.0" readonly
                                    style="width:100px;" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="otherssalarycomponent_name_{{i}}"
                                    (keypress)="onKeyPress($event)" />

                            </td> -->
                            <td>{{data.otherssalarycomponent_name}}</td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.otherssalarycomponent_amount" placeholder="0.0" (ngModelChange)="ongrossSalaryChange()"
                                     class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary" formControlName="otherssalarycomponent_amount_{{i}}"
                                style="width: 100px; display: inline-block; text-align: right;"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                            <td style="text-align: center;">
                                <input type="text" [(ngModel)]="data.othersemployer_salarycomponentamount" (ngModelChange)="ongrossSalaryChange()"
                                    placeholder="0.0"  class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white 
                                custom-input borderc-secondary"
                                    formControlName="othersemployer_salarycomponentamount_{{i}}"
                                    style="width: 100px; display: inline-block; text-align: right;"
                                    (keypress)="onKeyPress($event)" />
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        </div>


        <!-- <div style="display: flex; justify-content: flex-end; margin-top: 10px;margin-bottom: 10px;">
            <div>
                <span><span class="font-bold">Net Salary</span></span>
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="net_salary" placeholder="0.00"
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;">
            </div>

            <div>
                <span style="margin-left: 20px;"><span class="font-bold">CTC</span></span>
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="ctc" placeholder="0.00"
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;">
            </div>
        </div> -->

        <div style="display: flex; justify-content: flex-end; margin-top: 10px;margin-bottom: 10px;">
            <div>
                <span><span class="font-bold">Net Salary</span></span>
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="net_salary" placeholder="0.00"
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;" readonly>
            </div>
        </div>

        <div style="display: flex; justify-content: flex-end; margin-top: 10px;margin-bottom: 10px;">
            <div>
                <span style=" margin-left: 20px;"><span class="font-bold">CTC</span></span>
                <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 border-secondary bg-white custom-input"
                    formControlName="ctc" placeholder="0.00"
                    style="width: 100px; display: inline-block; text-align: right; margin-left: 10px;" readonly>
            </div>
        </div>



        <div class="text-center my-4">
            <button class="btn-success text-white" (click)="update()">
                <i class="fas fa-check text-white fs-5"></i> &nbsp; Update
            </button>
            <button style="margin-left: 10px;" class="btn-primary btn-sm text-white me-4"
                (click)="close()">
                <i class="fas fa-arrow-left"></i> &nbsp; Back
            </button>
        </div>
    </div>
</form>