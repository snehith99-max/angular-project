<div></div>
<div class="card card-borderedrounded">
    <!-- <marquee direction="right" class="mt-2" scrollamount="4">
       <label class="fw-bolder fs-5 titletask">Task Management System</label>
    
    </marquee> -->
    <div class="text-center mt-2">
        <label class="fw-bolder fs-5 titletask">Task Management System</label>

    </div>

    <div class="d-flex flex-row p-4 me-5 flex-wrap ps-1 pb-2">
        <div class="col-12 col-lg-3 col-md-2 col-sm-12 p-2 pt-0 pb-0 mb-2">
            <div class="card3">
                <div class="card-heading">
                    <h4 class="fw-bolder">Show Stopper</h4>
                </div>
                <div class="card-body12">
                    <div class="d-flex align-items-center ms-20">
                        <div class="mt-3">
                            <i class="fa-solid fa-triangle-exclamation is1 ms-20"></i>
                        </div>
                        <div class="badge badge-outline badge-show text-center fw-bold mt-3 fs-5 ms-4">
                            {{show_stopper}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-3 col-md-2 col-sm-12 p-2 pt-0 pb-0 mb-2">
            <div class="card4">
                <div class="card-heading">
                    <h4 class="fw-bolder">Critical Mandatory</h4>
                </div>
                <div class="card-body12">
                    <div class="d-flex align-items-center ms-20">
                        <div class="mt-3">
                            <i class="fa-solid fa-star-of-life is2 ms-20"></i>
                        </div>
                        <div class="badge badge-outline badge-man text-center fw-bold mt-3 fs-5 ms-4">
                            {{mandatory}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-3 col-md-2 col-sm-12 p-2 pt-0 pb-0 mb-2">
            <div class="card5">
                <div class="card-heading">
                    <h4 class="fw-bolder">Critical Non-Mandatory</h4>
                </div>
                <div class="card-body12">
                    <div class="d-flex align-items-center ms-20">
                        <div class="mt-3">
                            <i class="fa-solid fa-list is ms-20"></i>
                        </div>
                        <div class="badge badge-outline badge-info text-center fw-bold mt-3 fs-5 ms-4">
                            {{non_mandatory}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-3 col-md-2 col-sm-12 p-2 pt-0 pb-0 mb-2">
            <div class="card6">
                <div class="card-heading">
                    <h4 class="fw-bolder">Nice To Have</h4>
                </div>
                <div class="card-body12">
                    <div class="d-flex align-items-center ms-20">
                        <div class="mt-3">
                            <i class="fa-regular fa-face-smile is3 ms-20"></i>
                        </div>
                        <div class="badge badge-outline badge-nice text-center fw-bold mt-3 fs-5 ms-4">
                            {{nice_to_count}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex flex-row flex-wrap m-6 mt mb-2-0 ms-0 mt-0">
        <div class="col-12 col-lg-4 col-md-5 col-sm-12 p-3">

            <div class="card8">
                <div class="card-heading">
                    <h4 class="fw-bolder text-black">Assigned Employee's</h4>
                </div>
                <div class="">
                    <div class="d-flex flex-row flex-wrap row align-items-center">
                        <div class="col-12 col-lg-12 col-md-12 col-sm-12">
                            <div class="table-responsive scroll1"
                                style="height: 254px; overflow: auto; scrollbar-color: #d0d2ea #ffffff">
                                <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded table-responsive">
                                    <table class="table table-row-bordered gy-5 gs-7">
                                        <tbody>
                                            <tr class="selectable-name" *ngFor="let data of member_list; let i = index"
                                                style="white-space: nowrap">
                                                <td>{{ i + 1 }}</td>
                                                <td (mouseover)="showMemberDetails($event, data.assigned_member_gid)"
                                                    (mouseleave)="hideMemberDetails()" style="cursor: pointer">
                                                    {{ data.assigned_member }}
                                                    <!-- Hover List -->
                                                    <div *ngIf="currentHoveredMember === data.assigned_member_gid"
                                                        class="hover-list" [ngStyle]="hoverPositionStyle">
                                                        <div *ngIf="allMemberList.length > 0; else noTasks">
                                                            <div *ngFor="let module of allMemberList"
                                                                class="d-flex module-info" style="margin-bottom: 5px">
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span>Module :
                                                                    </strong>
                                                                    {{ module.module_name }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span>Total Task :
                                                                    </strong>
                                                                    {{ module.task_count }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span> New :
                                                                    </strong>
                                                                    {{ module.new_count }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span> Progress :
                                                                    </strong>
                                                                    {{ module.progress_count }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span> Hold :
                                                                    </strong>
                                                                    {{ module.hold_count }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span> Testing :
                                                                    </strong>
                                                                    {{ module.testing_count }}
                                                                </div>
                                                                <div class="mx-2">
                                                                    <strong class="me-1">
                                                                        <span class="indicator new"></span> Live :
                                                                    </strong>
                                                                    {{ module.live_count }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <ng-template #noTasks>
                                                            <div class="no-tasks">No tasks assigned</div>
                                                            <!-- Display this when there are no tasks -->
                                                        </ng-template>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- <div class="table-responsive scroll1" style="height: 254px;overflow: auto; scrollbar-color: #d0d2ea #ffffff;">
                                <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded table-responsive">
                                    <table  class="table table-row-bordered gy-5 gs-7">
                                        <tbody>
                                            <tr  class="selectable-name" *ngFor="let data of member_list; let i=index;" style="white-space: nowrap;">
                                                <td>{{i+1}}</td>
                                                <td (mouseover)="showMemberDetails($event,data.assigned_member_gid)"  (mouseleave)="hideMemberDetails()">{{data.assigned_member}}
                                                    <div *ngIf="currentHoveredMember === data.assigned_member_gid" class="hover-list">
                                                        <div *ngIf="allMemberList.length > 0; else noTasks">
                                                        <div *ngFor="let module of allMemberList" class="d-flex module-info" style="margin-bottom: 5px;">
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span>Module :</strong> {{ module.module_name }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span>Total Task :</strong> {{ module.task_count }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span> New :</strong> {{ module.new_count }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span> Progress :</strong> {{ module.progress_count }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span> Hold :</strong> {{ module.hold_count }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span> Testing :</strong> {{ module.testing_count }}</div>
                                                            <div class="mx-2"><strong class="me-1"><span class="indicator new"></span> Live :</strong> {{ module.live_count }}</div>
                                                        </div>
                                                        </div>
                                                        <ng-template #noTasks>
                                                            <div class="no-tasks">No tasks assigned</div>
                                                        </ng-template>
                                                    </div>
                                                    
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 p-3">
            <div class="col-12 col-lg-12 col-md-6 col-sm-12">
                <div class="card7">
                    <div class="d-flex flex-row flex-wrap p-2 Task">
                        <div class="col-lg-10">
                            <h4 class="fw-bolder ms-3 mt-3">Task Statistics</h4>

                        </div>
                        <div class="col-lg-2 " style="padding: 1px;">
                            <select class="me-3 form-control form-control-sm border-secondary border-rounded"
                                id="yearSelect" name="Year" (change)="linechart()" [(ngModel)]="selectedYear">
                                <option *ngFor="let year of years" [value]="year">{{ year }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="">
                        <ng-container>
                            <div class="d-flex flex-column mixed-widget-2-chart card-rounded-bottom">
                                <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart"
                                    [dataLabels]="chartOptions.dataLabels" [plotOptions]="chartOptions.plotOptions"
                                    [yaxis]="chartOptions.yaxis" [legend]="chartOptions.legend"
                                    [fill]="chartOptions.fill" [stroke]="chartOptions.stroke"
                                    [colors]="chartOptions.colors" [tooltip]="chartOptions.tooltip"
                                    [xaxis]="chartOptions.xaxis">
                                </apx-chart>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
            <!-- <div class="card7">
                    <div class="card-heading">
                        <h4 class="fw-bolder heading_left">Resource Statistics</h4>
                    </div>
                    <div class="card-body">
                        <div id="chart">
                            <apx-chart
                            [series]="chartOptions.series"
                            [chart]="chartOptions.chart"
                            [dataLabels]="chartOptions.dataLabels"
                            [plotOptions]="chartOptions.plotOptions"
                            [yaxis]="chartOptions.yaxis"
                            [legend]="chartOptions.legend"
                            [fill]="chartOptions.fill"
                            [stroke]="chartOptions.stroke"
                            [colors]="chartOptions.colors"
                            [tooltip]="chartOptions.tooltip"
                            [xaxis]="chartOptions.xaxis"
                          ></apx-chart>
                          </div>

                    </div>
              
                </div> -->

        </div>
    </div>
    <div class="row m-6 mt-0 ms-0 wrap">
        <div class="col-lg-12 p-3 pt-0">
            <div class="card7">
                <div class="d-flex flex-row flex-wrap p-2 Task">
                    <div class="col-lg-10">
                        <h4 class="fw-bolder ms-3 mt-3">Live Report</h4>

                    </div>
                    <div class="col-lg-2 " style="padding: 1px;">
                        <ng-select (change)="graphchart()" [(ngModel)]="Module_name" [items]="Team_list"
                            bindLabel="team_name" bindValue="team_gid"
                            class="custom col-lg-12 col-12 col-md-11 col-sm-11 fv-row bg-secondary"
                            placeholder="Select an option"></ng-select>
                    </div>
                </div>
                <div class="d-flex flex-column m-3">
                    <apx-chart [series]="chartOptions1.series" [chart]="chartOptions1.chart"
                        [xaxis]="chartOptions1.xaxis" [stroke]="chartOptions1.stroke" [tooltip]="chartOptions1.tooltip"
                        [dataLabels]="chartOptions1.dataLabels" [colors]="chartOptions1.colors"></apx-chart>
                </div>
            </div>

        </div>

    </div>
</div>