<div class="row" style="margin-top: 10px;">

    <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/ITS/ItsMstTaskCreation">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Show Stopper </h5>
                        <div class="mt-2">
                            <span class="badge-blue  badge-outline-blue fs-5 mt-2">{{show_stopper}}</span>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-triangle-exclamation"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/ITS/ItsMstMandatorysummary">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue"
            style="background-color: rgb(206, 251, 253);">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Mandatory </h5>
                        <div class="mt-2">
                            <span class="badge-blue  badge-outline-blue fs-5 mt-2">{{mandatory}}</span>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-star-of-life"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/ITS/ItsMstNonMandatorysummary">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Non-Mandatory </h5>
                        <div class="mt-2">
                            <span class="badge-blue  badge-outline-blue fs-5 mt-2">{{non_mandatory}}</span>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-list"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/ITS/ItsMstNicetohaveSummary">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">Nice to have </h5>
                        <div class="mt-2">
                            <span class="badge-blue  badge-outline-blue fs-5 mt-2">{{nice_to_count}}</span>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-list"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2" routerLink="/ITS/ItsMstCompleted">
        <div class="cardHead radius-10 border-start border-0 border-3 border-darkblue">
            <div class="card-body12">
                <div class="d-flex align-items-center">
                    <div>
                        <h5 class="mb-0 text-secondary">In Live</h5>
                        <div class="mt-2">
                            <span class="badge-blue  badge-outline-blue fs-5 mt-2">{{completed}}</span>
                        </div>
                    </div>
                    <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i
                            class="fa-solid fa-check"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-2 col-md-4 col-sm-4">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="cardHeadtime radius-10 border-start border-0 border-3 border-darkblue" style="background-color:#F5F5F5; position: relative; overflow: hidden;z-index: 0;">
                <div class="card-body12" style="position: relative; z-index: 1;">
                    <div class="d-flex align-items-center">
                        <div class="ms-1">
                            <h5 style="color:#56b6ad;">{{toDate}} &nbsp; {{currentDayName}}</h5>
                            <h3> {{ rxTime | date: 'hh:mm:ss a' }} </h3>
                        </div>
                        <div class="widgets-icons-2 rounded-circle bg-gradient-darkblue text-white ms-auto"><i class="fa-solid fa-clock fa-beat fs-4"></i></div>
                    </div>
                </div>
                <!-- 3D Background Design -->
                <div class="card-background"></div>
            </div>
        </div>
    </div>
</div>
<div class="card ">
    <div class="row ms-3 mt-3 d-flex align-items-center">
        <div class="col">
            <h3 class="card-title">Task Creation</h3>
        </div>
        <div class="col me-5">
            <button title="Add Task" class="btn-primary btn-sm text-white me-4 mb-2 mt-0 float-end"
                routerLink="/ITS/ItsMstTaskAdd">
                <i class="fas fa-plus"></i>
                &nbsp;Add Task</button>
        </div>
    </div>
    <div class="table-responsive">
        <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
            <table id="mandatory" class="table table-striped table-row-bordered gy-5 gs-7 align-middle border-bottom">
                <thead>
                    <tr class=" text-white fw-bold fs-5 text-nowrap bg-lightblue text-blue align-middle">
                        <th>S.No</th>
                        <th>Module</th>
                        <th >Task Title</th>
                        <th>Task Type</th>
                        <th>Client Count</th>
                        <th>Created By</th>
                        <th>Created Date</th>
                        <th>Status</th>
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of mandatory_list;let i = index">
                        <td>{{i+1}}</td>
                        <td>{{data.module_name}}</td>
                        <!-- <td>{{data.client_name}}</td> -->
                        <td style="width: 100px;">{{data.task_name}}</td>
                        <td >{{data.task_typename}}</td>
                        <td>
                            <a (click)="Edit(data.task_gid)" title="Module View"  data-bs-toggle="modal" data-bs-target="#managerpopup"
                            class="ms-7 count">{{data.client_count}}</a>
                            <!-- <a
                            class="ms-7 count3">{{data.client_count}}</a> -->
                        </td>
                        <td>{{data.created_by}}</td>
                        <td>{{data.created_date}}</td>
                        <td [ngSwitch]="data.employee_status">
                            <label *ngSwitchCase="'Pending'" class="badge badge-pill badge-primary text-white fs-6">New</label>
                            <label *ngSwitchCase="'In Progress'" class="badge badge-pill badge-primary text-white fs-6">In Progress</label>
                            <label *ngSwitchCase="'Hold'" class="badge badge-pill badge-warning text-white fs-6">Hold</label>
                            <label *ngSwitchCase="'In Testing'" class="badge badge-pill badge-success text-white fs-6">Testing</label>
                        </td>
                        <td class="text-center text-nowrap">
                            <button title="360 View" type="button" class="btn btn-icon btn-sm bg-primary me-2"
                                (click)="view(data.task_gid)"><span
                                    class="fa-solid fa-arrows-spin fa-spin  text-white  fs-6"></span></button>
                            <button type="button" title="Tag Client" (click)="tags(data)" data-bs-toggle="modal"
                                data-bs-target="#tagapproval" class="btn btn-icon btn-sm bg-success me-2"><span
                                    class="fa-solid fa-tag text-white  fs-6"></span></button>
                            <button title="Delete" type="button" class="btn btn-icon btn-sm bg-danger me-2"
                                (click)="delete(data.task_gid)" data-bs-target="#Deferraldelete"
                                data-bs-toggle="modal"><span class="fa-solid fa-trash text-white  fs-6"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
<div id="Deferraldelete" class="modal fade">
    <div class="modal-dialog modal-confirm">
        <div class="modal-content">
            <div class="modal-body text-center">
                <h4 class="w-100  fw-bolder fs-1 mt-5">Are you sure?</h4>
                <p class="fw-bold fs-5 mt-4">Do You Want To Delete The Record ?</p>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn-danger" data-bs-dismiss="modal" (click)="ondelete()">Delete</button>
            </div>
        </div>
    </div>
</div>


<div class="modal top fade" id="tagapproval" data-bs-backdrop='static' tabindex="-1" aria-hidden="true"
    data-mdb-backdrop="static" data-mdb-keyboard="true">
    <div class="modal-dialog modal-lg modal-dialog-centered ">
        <div class="modal-content">
            <div class=" bg-primary rounded-top">
                <h3 class="p-4 pt-5 text-white "> <i class="fas fa-user fs-5 ms-3"></i>&nbsp;&nbsp;Assign Client
                </h3>
            </div>

            <div class="">
                <div class=" col-lg-12 col-md-12 col-sm-12  ms-4 text-center mt-2">
                    <label class=" fs-4 fw-bold">Module:</label>
                    <label class="text-red fw-bold fs-4">&nbsp;{{module_name}}</label>
                </div>
                <div class="row mt-2 d-flex justify-content-center">

                    <div class=" col-lg-5">
                        <div class="card  shadow-sm p-3 m-2" style="border-top:2px solid #009ef7;height: 255px;">
                            <!-- <h3 class="p-3">Unassigned Member</h3> -->
                            <div class="row mt-3 d-flex align-items-center">
                                <div class="col-lg-6">
                                    <h5 class="card-title mb-4">Unassigned Client</h5>
                                </div>
                                <div class="col me-5">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control form-control-sm" placeholder="Search "
                                            name="search" [(ngModel)]="searchText">
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive" style="max-height: 200px;" id="scroll-bar-table">
                                <div class="p-3 pt-0 pb-0 bg-white rounded">
                                    <table id="summary"
                                        class="table table-striped table-row-bordered border-bottom gs-7 align-middle"
                                        class="table table-bordered ">

                                        <!-- class="table table-striped table-row-bordered border-bottom gs-7 align-middle"> -->
                                        <thead>
                                            <tr
                                                class="fw-bolder fs-5 text-nowrap bg-tableheaderblue text-blue align-middle">
                                                <th><input title="CheckAll" type="checkbox" id="checkAll"
                                                        (change)="$event ? masterToggle() : null"
                                                        [checked]="selection.hasValue() && isAllSelected()"
                                                        [indeterminate]="selection.hasValue() && !isAllSelected()" />&nbsp;
                                                </th>
                                                <th style="width: 70%;">Name</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="selectable-name"
                                                *ngFor="let data of GetUnassignedlist; let i=index;"
                                                [hidden]="!matchesSearch(data)"
                                                [class.selected-row]="selection.isSelected(data)">
                                                <td (click)="$event.preventDefault(); selection.toggle(data)"><input
                                                        type="checkbox" (click)="$event.stopPropagation()"
                                                        (change)="$event ? selection.toggle(data) : null"
                                                        [checked]="selection.isSelected(data)" />
                                                </td>
                                                <td class="text-start"
                                                    (click)="$event.preventDefault(); selection.toggle(data)">
                                                    {{data.project_name}}
                                                </td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </div>

                            </div>

                        </div>


                    </div>
                    <div class="col-lg-1 mt-20  text-center">
                        <button title="Assign" [disabled]="!selection.hasValue()"
                            class="btn btn-icon bg-primary text-white btn-sm mt-15" (click)="tag()">
                            <i class="fa-solid fa-arrow-right fs-5"></i>&nbsp;
                        </button> &nbsp;
                        <button title="UnAssign" [disabled]="!selection2.hasValue()"
                            class="btn btn-icon bg-primary  btn-sm mt-2" (click)="untag()">
                            <i class="fa-solid fa-arrow-left   fs-5"></i>&nbsp;
                        </button> &nbsp;
                    </div>
                    <div class="col-lg-5">
                        <div class="card  shadow-sm p-3 m-2 rounded"
                            style="border-top:2px solid #009ef7;height: 255px;">
                            <!-- <h3 class="p-3">Assigned Member</h3> -->
                            <div class="row mt-3 d-flex align-items-center">
                                <div class="col-lg-6">
                                    <h5 class="card-title mb-4">Assigned Client</h5>
                                </div>
                                <div class="col me-5">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control form-control-sm" placeholder="Search "
                                            name="search" [(ngModel)]="searchText1">
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive" style="max-height: 200px;" id="scroll-bar-table">
                                <div class="p-3 pt-0 pb-0 bg-white rounded">
                                    <table id="summary"
                                        class="table table-striped table-row-bordered border-bottom gs-7 align-middle"
                                        class="table table-bordered ">
                                        <thead>
                                            <tr
                                                class="fw-bolder fs-5 text-nowrap bg-tableheaderblue text-blue align-middle">
                                                <th>
                                                    <input title="CheckAll" type="checkbox" id="checkAll2"
                                                        (change)="$event ? masterToggle2() : null"
                                                        [checked]="selection2.hasValue() && isSelected2()"
                                                        [indeterminate]="selection2.hasValue() && !isSelected2()" />&nbsp;
                                                </th>
                                                <th style="width: 70%;">Name</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="selectable-name"
                                                *ngFor="let data of GetAssignedlist; let i=index;"
                                                [hidden]="!matchesSearchs(data)"
                                                [class.selected-row]="selection2.isSelected(data)">
                                                <td (click)="$event.preventDefault(); selection2.toggle(data)">
                                                    <input type="checkbox" (click)="$event.stopPropagation()"
                                                        (change)="$event ? selection2.toggle(data) : null"
                                                        [checked]="selection2.isSelected(data)" />
                                                </td>
                                                <td (click)="$event.preventDefault(); selection2.toggle(data)">
                                                    {{data.project_name}}
                                                </td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center my-5">
                    <button type="submit" class="btn-success text-white" [disabled]="GetAssignedlist.length === 0"
                        (click)="submitassign()" data-bs-dismiss="modal">
                        <i class="fas fa-check text-white fs-5"></i>&nbsp;
                        Submit
                    </button> &nbsp;
                    <button type="button" class="btn-danger " data-bs-dismiss="modal" (click)="resetTaggedValues()">
                        <i class="fa fa-close fs-5 text-center"></i>&nbsp;
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="managerpopup" tabindex="-1" data-bs-backdrop='static' aria-labelledby="editamlcategoryLabel"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered ">
    <div class="modal-content ">
        <div class="modal-header bg-primary mb-5">
            <h3 class="modal-title text-white"><i class="fa-solid fa-eye fs-3"></i> &nbsp; Client</h3>
        </div>
        <div *ngIf="clientview && clientview.length > 0" class="mt-1 mb-3 ms-3"><b>Client:</b> &nbsp;<span
                class="view_count">{{clientview.length}}</span></div>

        <div style="max-height: 160px;" class="overflow-auto " id="scroll-bar-table">
            <table class="table table-striped table-bordered table-hover table-sm table-responsive mt-4">
                <tbody>
                    <tr *ngFor="let data of clientview; let i=index;">
                        <td class="px-0 text-center">{{i+1}}</td>
                        <td>{{data.project_name}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center mb-3 mt-2">
            <button type="button" class="btn-danger text-white" data-bs-dismiss="modal">
                <i class="fa fa-close fs-5 text-center"></i>
                Close
            </button>
        </div>
    </div>
</div>
</div>