<form [formGroup]="purchaseorderaddform">
<div class="card mt-4">
    <div class="row ms-3 mt-3 d-flex align-items-center">
        <div class="col">
            <h3 class="card-title fw-bold">SELECT PURCHASE INDENT</h3>
        </div>
    
        
        <div style="color: black !important;" class="btn btn-icon btn-sm bg-secondary cursor-pointer me-5 float-end"
          (click)="back()" style="margin-right: 10px;">
          <i class="fa-solid fa-arrow-left text-blue mb-1"></i>
        </div>
    </div>
    <div class="d-flex flex-row m-6  flex-wrap row">
        
        <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Branch<span class="ms-1 text-red" >*</span></span>
             <ng-select [items]="branch_list"  class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
             [class.is-invalid]="
             branch_name.invalid && (branch_name.dirty || branch_name.touched)"
                          [ngClass]="{'invalid-border': branch_name.invalid && branch_name.touched}"
             bindLabel="branch_name"  (change)="GetOnChangeLocation()" 
             [(ngModel)]="mdlBranchName"
             formControlName="branch_name"
             placeholder="Select an option"></ng-select>
             <div *ngIf="branch_name.invalid && (branch_name.dirty || branch_name.touched)">
              <div *ngIf="branch_name.errors?.['required']">
                          <span style="color:red;">  Branch is Required </span>
              </div>
            </div>
            </div>


    </div>


    
    <!-- <div class="table-responsive">
        <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
            <input type="hidden" formControlName="purchaseorder_gid">
            <table id="purchaseorder_list" class="table table-striped table-row-bordered gy-5 gs-7">
                <thead>
                    <tr class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                        <th>S.No</th>
                        <th>Date</th>
                        <th>PO Ref.No</th>
                        <th>Cost Center Name</th>
                        <th>PR Raised By</th>
                        <th>MI Raised By</th>
                        <th>Details</th>
                        <th>PR Reference</th>
                        <th>Status</th>
                        <th>PR Remarks	</th>
                        <th>PR Approved Date</th>                
                        <th class="text-center">Action</th>
                    </tr>   
                </thead>
                <tbody>
                    <tr *ngFor="let data of purchaseorder_list;let i = index;">
                        <td>{{i+1}}</td>
                        <td style="width: 10%;">{{data.purchaserequisition_date}}</td>
                        <td>{{data.purchaserequisition_gid}}</td>
                        <td>{{data.costcenter_name}}</td>
                        <td>{{data.pr_raisedby}}</td>
                        <td style="width: 20%;">{{data.mr_raisedby}}</td>
                        <td style="width: 20%;"></td>
                        <td >{{data.purchaserequisition_referencenumber}}</td> 
                        <td >{{data.overall_status}}</td> 
                        <td>{{data.purchaserequisition_remarks}}</td>
                        <td class="text-end" >{{data.approved_date}}</td>
                       
                     
                        <td class="text-center text-nowrap">
                          

                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div> -->

    <div class="table-responsive">
        <div class="mx-3 p-3 pt-0 pb-0 bg-white rounded">
            <input type="hidden" formControlName="purchaseorder_gid">
            <table id="purchaseorder_list" class="table table-striped table-row-bordered gy-5 gs-7">
                <thead>
                    <tr class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                        <!-- <th>
                            <input type="checkbox" (change)="selectAll($event)">
                        </th> -->
                        <th>S.No</th>
                        <th>Date</th>
                        <th>PO Ref.No</th>
                        <!-- <th>Cost Center Name</th> -->
                        <th>Raised By</th>
                        <!-- <th>MI Raised By</th> -->
                        <!-- <th>Details</th> -->
                        <th>Reference</th>
                        <th>Status</th>
                        <th>Remarks</th>
                        <!-- <th>PR Approved Date</th> -->
                        <th class="text-center bg-lightblue ">Action</th> 
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of purchaseorder_list; let i = index;">
                        <!-- <td>
                            <input type="checkbox" [(ngModel)]="data.selected" (change)="onRowSelect(data)">
                        </td> -->
                        <td>{{i + 1}}</td>
                        <td style="width: 10%;">{{data.purchaserequisition_date}}</td>
                        <td>{{data.purchaserequisition_gid}}</td>
                        <!-- <td>{{data.costcenter_name}}</td> -->
                        <td>{{data.pr_raisedby}}</td>
                        <!-- <td>{{data.mr_raisedby}}</td> -->
                        <!-- <td></td> -->
                        <td>{{data.purchaserequisition_referencenumber}}</td>
                        <td>{{data.overall_status}}</td>
                        <td>{{data.purchaserequisition_remarks}}</td>
                        <!-- <td class="text-end">{{data.approved_date}}</td> -->
                        <td class="align-items-center text-nowrap">
                            <div>
                                <button title="Select" type="button" class="btn-lg btn-primary" 
                                        (click)="addPurchaseOrder(data.purchaserequisition_gid)"
                                        style="height: 20px; display: flex; align-items: center; justify-content: center;">
                                    Select
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <!-- <div class="col me-5">
        <button type="button" class="btn-primary btn-sm text-white me-4 float-end" data-bs-toggle="modal"
        data-bs-target="#myModaladd" (click)="addPurchaseOrder()">
        &nbsp;&nbsp;Proceed
    </button>
    </div> -->

    <div class="text-center my-4">
        <!-- <button class="btn-sm text-white me-2" [ngClass]="{'primary-button': !purchaseorderaddform.invalid, 'secondary-button': purchaseorderaddform.invalid }" (click)="addPurchaseOrder()">
            <i class="fas fa-check text-white fs-5"></i> &nbsp; Proceed
        </button> &nbsp;&nbsp; -->
        <button class="btn-primary btn-sm text-white me-4 mt-3"  routerLink="/pmr/PmrTrnPurchaseorderSummary" data-bs-dismiss="modal">
            <i class="fas fa-arrow-left text-white"></i> &nbsp;Back
        </button>
    </div>

    </div>
    </form>