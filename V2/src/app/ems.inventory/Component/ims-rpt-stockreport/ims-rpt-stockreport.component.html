<div class="card card-bordered bg-white">
  <form [formGroup]="reactiveform">
  <div class="card-header   d-flex justify-content-center mb-3" Style="background: rgb(81,183,204);
    background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);">
    <h1 class="card-title fw-bolder fs-3 text-black">Stock Report </h1>
  </div>
  <div class="row justify-content-center">
     
    <div class="col-md-2 mt-5">
      <label for="Sales_person"><b>Branch:</b></label>
      <ng-select formControlName="branch_name" [items]="branch_list"
      class="col-lg-12
      col-12 fv-row" 
      bindLabel="branch_name"
      bindValue="branch_gid" placeholder="Select an option" 
      [(ngModel)]="mdlBranchName" (clear)="onclearbranch()" required>
    </ng-select>
    </div>
    <div class="col-md-1 mt-10 mb-1 row">
      <button title="search" class="btn btn-icon btn-sm bg-success me-1" (click)="onSearchClick()"><i class="fa-solid fa-magnifying-glass text-white"></i></button>
      <button title="refresh" class="btn btn-icon btn-sm bg-warning me-1" (click)="onrefreshclick()"><i class="fa-solid fa-rotate-right text-white"></i></button>
    </div>
  
  </div>
  <div class="table-responsive">
    <div class="card card-body m-3 p-3 mb-5 bg-white rounded table-responsive">
      <table id="stockreport_list" [(ngModel)]="stockreport_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
        <thead>
          <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue  align-middle">
            <th style="width: 2%;">S.No </th>
            <th style="width: 5%;">Branch</th>
            <th style="width: 5%;">Product Group</th> 
            <th style="width: 15%;">Product</th>
            <th style="width: 20%;">Description </th>
            <th style="width: 10%;">Stock Balance</th>
            <th style="width: 10%;">Product Price</th>
            <th style="width: 10%;">Stock Value</th>               
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of stockreport_list; let i=index;">
            <td>{{i+1}}</td>
            <td>{{data.branch_prefix}}</td>
            <td>{{data.productgroup_name}}</td>
            <td>{{data.product_code}}/{{data.product_name}}</td> 
            <td class="ellipsis">{{data.display_field}}</td>        
            <td>{{data.stock_balance}}  {{data.productuom_name}}</td>
            <td class="text-end">{{data.product_price}}</td>
            <td class="text-end">{{data.stock_value }}</td>
          </tr>
        </tbody>
        <tfoot *ngIf="stockreport_list && stockreport_list.length > 0">
          <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle me-4">
              <td colspan="6" class="text-end">Total</td>
              <td class="text-end">{{ productprice }}</td>
              <td class="text-end">{{ stockvalue }}</td>
          </tr>
      </tfoot>
      </table>
    </div>
  </div>
</form>
</div>