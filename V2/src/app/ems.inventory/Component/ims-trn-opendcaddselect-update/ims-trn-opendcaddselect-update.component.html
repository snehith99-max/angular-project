<div class="card m-5">
    <div class="card-title p-2 rounded-top bg-primary d-flex justify-content-between align-items-center">
      <h1 class="fw-bolder ms-3 text-white"><i class="fa fa-plus fs-2" aria-hidden="true"></i>&nbsp;&nbsp;
        Raise Open DC</h1>
        <button style="color: black !important;" class="btn btn-icon btn-sm bg-secondary cursor-pointer " title="back"
          routerLink="/ims/ImsTrnOpendcAddselect"><i class="fa-solid fa-arrow-left-long fs-1 fw-bold"></i></button>
    </div>
    <div class="card mt-1 m-3 mb-0">
        <div class="card-header d-flex align-items-center mb-3 cursor-pointer" style="background-color: #def0ff;">
          <p class="card-title fw-bold fs-3 " style="color: #2599ff;">
            <i class="fa-solid fa-clipboard fs-1"></i> &nbsp;DC Details
          </p>
        </div>
        <form [formGroup]="combinedFormData">
            <div class="card p-4 border ms-5 me-5 mb-4">
                <div class="d-flex flex-row m-2 flex-wrap mt-1">
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold">DO Ref No</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid 
                        mb-3 mb-lg-0  borderc-secondary bg-white custom-input" readonly formControlName="directorder_refno"
                         placeholder="DO Ref No" style="height:40px;" />
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold">DO Date</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="date" pattern="^(?!\s*$).+"  formControlName="directorder_date" class="form-control form-control-lg form-control-solid
                        mb-3 mb-lg-0  borderc-secondary bg-white custom-input date-picker " placeholder="DD-MM-YYYY" style="height: 40px;" />
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold">SO Ref No</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid
                                  mb-3 mb-lg-0  borderc-secondary bg-white custom-input" readonly formControlName="salesorder_gid"
                          placeholder="SO Ref No" style="height:40px;" />
                      </div>
                    </div>
                </div>
                <div class="d-flex flex-row m-2 flex-wrap">
                    <div class="col-12 col-lg-4 col-md-3 col-sm-12">
                      <span class="font-bold">Customer Name</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid 
                                  mb-3 mb-lg-0  borderc-secondary bg-white custom-input" readonly formControlName="customer_name"
                          placeholder="Customer Name" style="height:40px;" />
                      </div>
                      <div class="col-11 fv-row mt-2 ">
                        <textarea type="text"
                          class="form-control mt-4 form-control-lg form-control-solid  custom-input mb-1 mb-lg-2 border-secondary bg-white custom-input"
                          readonly placeholder="Customer Details" class="form-control"
                          formControlName="customer_details" rows="4"></textarea>
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-3 col-sm-12">
                      <span class="font-bold">Address</span>
                      <div class="col-11 fv-row mt-2">
                        <textarea type="text" readonly
                          class="form-control mt-4 form-control-lg form-control-solid bg-secondary custom-input mb-1 mb-lg-2 border-secondary bg-white custom-input"
                          placeholder="Customer Address" formControlName="customer_address_so" class="form-control"
                          rows="6"></textarea>
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-3 col-sm-12">
                      <span class="font-bold" >Shipping To</span>
                      <div class="col-11 fv-row mt-2">
                        <textarea type="text" 
                        class="form-control mt-4 form-control-lg form-control-solid bg-secondary custom-input mb-1 mb-lg-2 border-secondary bg-white custom-input"
                        placeholder="Shipping To" formControlName="shipping_to" class="form-control"
                        rows="6"></textarea>
                      </div>
                    </div>
                </div>
                <div class="d-flex flex-row m-2 flex-wrap mt-1">
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold required" [ngClass]="{'error_input_field': dc_no.invalid && dc_no.touched}">DC No</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid  mb-3 mb-lg-0  borderc-secondary bg-white custom-input" [ngStyle]="{'border-color':dc_no.invalid && dc_no.touched? 'red': 'rgb(209, 209, 209)'}"
                        formControlName="dc_no" placeholder="DC No" style="height:40px;" />
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold">Mode Of Despatch</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid
                                  mb-3 mb-lg-0  borderc-secondary bg-white custom-input"  formControlName="Mode"
                          placeholder="Mode Of Despatch" style="height:40px;" />
                      </div>
                    </div>
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                      <span class="font-bold">Tracker ID</span>
                      <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text" class="form-control form-control-lg form-control-solid
                                  mb-3 mb-lg-0  borderc-secondary bg-white custom-input"  formControlName="tracker_id"
                          placeholder="Tracker ID" style="height:40px;" />
                      </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <div class="card card-body m-0 p-3 mb-5 bg-white rounded table-responsive">
                  <table id="addgrn_lists" class="table table-striped table-bordered text-blue border-bottom gs-7 align-middle">
                    <thead class="table_head">
                      <tr class="fw-bold fs-6 text-nowrap bg-lightblue text-blue align-middle">
                        <th class="text-blue text-center" style="width: 5%;"> S.No</th>
                        <th class="text-blue text-center" style="width: 10%;">Product Group</th>
                        <th class="text-blue text-center" style="width: 15%;">Product</th>
                        <th class="text-blue text-center" style="width: 20%;">Description</th>
                        <th class="text-blue text-center" style="width: 10%;">Ordered Qty</th>
                        <th class="text-blue text-center" style="width: 10%;">Delivered Qty</th>
                        <th class="text-blue text-center" style="width: 10%;">Despatch Qty</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let data of opendcaddselprod_list; let i=index;" class="align-middle">
                        <td>{{i+1}}</td>   
                        <td>{{data.productgroup_name}}</td>   
                        <td>{{data.product_code}}/{{data.product_name}}</td>
                        <td>{{data.product_desc}}</td>
                        <td>{{data.qty_quoted}} {{data.uom_name}}</td>
                        <td>{{data.product_delivered}} {{data.uom_name}}</td>
                        <td><input type="number" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                            formControlName="despatch_quantity" placeholder="0"  style="text-align: right;" />
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="card-header bg-lightblue card-height55" style="border-radius: 0px;">
                <div class="card-title m-0">
                    <h3 class="fw-bolder text-blue" style="color: #2599ff;">Terms and Conditions</h3>
                </div>
                <div>
                    <div class="col-6 center-container">
                        <ng-select [items]="terms_list" class="custom mt-7 me-2 mb-2" formControlName="template_name"
                            [(ngModel)]="mdlTerms" bindLabel="template_name" bindValue="template_gid"
                            placeholder="Select an option" style="width: 340px; height: 40px;"
                            (change)="GetOnChangeTerms()"></ng-select>
                    </div>
                </div>
            </div>
            <div class="m-3">
                <angular-editor [config]="config" formControlName="termsandconditions"></angular-editor>
            </div>
            <div class="text-center my-4">
                <button class="btn-success btn-sm text-white me-2" 
                [ngClass]="{'primary-button': !combinedFormData.invalid,'secondary-button': combinedFormData.invalid}" (click)="OnDelDcSubmit()">
                    <i class="fas fa-check text-white fs-5"></i> &nbsp; Submit
                </button> &nbsp;&nbsp;
                     <button class="btn-primary btn-sm text-white me-4" (click)="redirecttolist()">
                    <i class="fa-solid fa-arrow-left text-white">
                        <i class="path1"></i>
                        <i class="path2"></i>
                    </i>&nbsp;Back</button>
            </div>
        </form>
    </div>
</div>