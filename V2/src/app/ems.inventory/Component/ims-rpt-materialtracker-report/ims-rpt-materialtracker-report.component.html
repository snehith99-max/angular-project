<div class="card shadow-sm">
    <div class="row ms-3 mt-3 d-flex align-items-center">
        <div class="col">
            <h3 class="card-title fw-bold">Material Tracker</h3>
        </div>
    </div>
    <div class="col me-5 ">
        <div class="d-flex flex-row m-6 flex-wrap mt-4">
            <div class="col-12 col-lg-2 col-md-6 col-sm-10"> <span class=" font-bold required">Branch </span>
                <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <ng-select formControlName="branch_name" [items]="branch_list"
                        class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" bindLabel="branch_name"
                        bindValue="branch_gid" placeholder="Select an option" [(ngModel)]="mdlBranchName"
                        (change)="OnChangeBranch($event)" (clear)="onclearbranch()">
                    </ng-select>

                </div>
            </div>
        </div>
    </div>

    <ul class="nav nav-tabs nav-line-tabs nav-line-tabs-20x mb-3 fs-6 ">
        <li class="nav-item ms-5">
            <a class="nav-link active  btn btn-flex btn-active-light-primary fs-5" data-bs-toggle="tab"
                href="#kt_tab_pane_2"><i class="bi bi-boxes fs-5"></i>&nbsp;MR to PI</a>
        </li>
        <li class="nav-item ms-5">
            <a class="nav-link   btn btn-flex btn-active-light-primary fs-5" data-bs-toggle="tab"
                href="#kt_tab_pane_3"><i class="bi bi-boxes fs-5"></i>&nbsp;PI to Payment</a>
        </li>
    </ul>

    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active " id="kt_tab_pane_2" role="tabpanel">

            <div class="border rounded table-responsive m-5 mt-2    ">
                <table id="stockreport_list" class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>
                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>S.No</th>
                            <th>MR Date</th>
                            <th>MR Ref.No</th>
                            <th>Product</th>
                            <!-- <th>Issue Date</th>
                            <th>Issue Ref.No</th> -->
                            <th>MR Status</th>
                            <th>PI Date</th>
                            <th>PI Ref.No</th>
                            <th class="text-center">Qty Requested</th>
                            <!-- <th>Qty Raised</th> -->
                            <th class="text-center">Qty Issued</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of stockreport_list; let i=index;" class="align-middle">
                            <td style="width: 5%;">{{i+1}}</td>
                            <td style="width: 10%;">{{data.materialrequisition_date}}</td>
                            <td>{{data.materialrequisition_gid}}</td>
                            <td style="width: 25%;">{{data.product_code}}/
                             {{data.product_name}}</td>
                            <!-- <td></td>
                            <td></td> -->
                            <td>{{data.materialrequisition_status}}</td>
                            <td style="width: 10%;">{{data.purchaserequisition_date}}</td>
                            <td>{{data.purchaserequisition_gid}}</td>
                            <td class="text-center">{{data.qty_requested}}</td>
                            <!-- <td></td> -->
                            <td class="text-center">{{data.qty_issued}}</td>
                        
                        </tr>
                    </tbody>
                    <tfoot *ngIf="stockreport_list && stockreport_list.length > 0">
                        <tr class="fw-bolder fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <td colspan="7" class="text-end">Total</td>
                            <td class="text-center">{{ requestqty }}</td>
                            <td class="text-center">{{ issueqty }}</td>
                            
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade  " id="kt_tab_pane_3" role="tabpanel">

            <div class="border rounded table-responsive m-5 mt-2    ">
                <table id="stockreport_list1"class="table table-striped table-row-bordered border-bottom gs-7 align-middle">
                    <thead>
                        <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue align-middle">
                            <th>S.No</th>
                            <th>PI Ref.No</th>
                            <th>PO Ref.No</th>
                            <th>GRN Ref.No</th>
                            <th>Invoice Ref.No</th>
                            <th>Payment Ref.No</th>
                            <th>Overall Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of stockreport_list1; let i=index;" class="align-middle">
                            <td>{{i+1}}</td>
                            <td>{{data.purchaserequisition_gid}}</td>
                            <td>{{data.purchaseorder_gid}}</td>
                            <td>{{data.grn_gid}}</td>
                            <td>{{data.invoice_gid}}</td>
                            <td>{{data.payment_gid}}</td>
                            <td>{{data.overall_status}}</td> 
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

</div>