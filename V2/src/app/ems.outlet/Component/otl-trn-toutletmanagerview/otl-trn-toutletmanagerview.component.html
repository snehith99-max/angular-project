<div class="m-12" >
    <div class="card shadow-lg rounded-top">
        <div class="card-title p-5 pb-6 pt-6 rounded-top bg-primary">
            <h3 class="fw-bolder" style="color: #ffffff;"><i class="fas fa-eye fw-bolder fs-3"></i>
                Outlet Daytracker View  
            </h3>
        </div>
        <div class="card shadow-sm m-3 border mt-0 mb-5"> 
            <div class="card-header bg-lightblue card-height55">
            <div class="card-title m-0 ">
              <h4 class="fw-bolder text-blue">Outlet Tracker Details</h4>
            </div>
          </div>
          <div *ngFor="let m of daytracker_list" class="m-4">
            <div class="d-flex flex-row m-4 p-3 pt-0 mb-0 flex-wrap">
              <div class="col-12 col-lg-3 col-md-6 col-sm-12" ><span class="fw-bold">Outlet Name</span>
                  <p class="mt-3">{{m.campaign_name}}</p>
              </div>
              <div class="col-12 col-lg-2 col-md-6 col-sm-12"><span class="fw-bold">Entered Date</span>
                  <p class="mt-3">{{m.created_date}}</p>
              </div>
              <div class="col-12 col-lg-2 col-md-6 col-sm-12"><span class="fw-bold">Sales Date</span>
                  <p class="mt-3">{{m.trade_date}}</p>
              </div>
              <div class="col-12 col-lg-2 col-md-6 col-sm-12"><span class="fw-bold">Total Revenue</span>
                  <p class="mt-3">{{m.revenue_amount}}</p>
              </div>
              <div class="col-12 col-lg-2 col-md-6 col-sm-12"><span class="fw-bold">Total Expense</span>
                  <p class="mt-3">{{m.expense_amount}}</p>
              </div>
          </div>
          
          </div>
          <div class="m-5 me-1 d-flex flex-wrap mb-0 mt-0 ">
            <div class="col-12 col-lg-12 row ">
              <div class="col-12 col-lg-6 pe-0">
                <div class="card shadow-sm m-3 border mt-0 mb-5"> 
                    <div class="card-header bg-lightblue card-height55">
                    <div class="card-title m-0 ">
                      <h4 class="fw-bolder text-blue">Revenue Details</h4>
                    </div>
                  </div>
                  <div class="table-responsive p-5">
                    <table class="table table-striped table-row-bordered gy-5 gs-7">
                      <thead>
                        <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                          <th style="text-align: center;">S.No</th>
                          <th>Name</th>
                          <th>Amount</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of revenue_list ; let i=index;" class="align-middle">
                          <td style="text-align: center;">{{ i + 1 }}</td>
                          <td>{{ data.revenue_name }}</td>
                          <td style="text-align: right; width: 10px;">
                            <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.revenue_amount}}</div>
                        </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div *ngFor="let m of daytracker_list" style="text-align: end;" class="pe-15">
                    <div>
                      <span class="fw-bold">Total Revenue</span>
                    </div>
                    <div>
                      <p class="mt-3">{{m.revenue_amount}}</p>
                    </div>
                  </div>
                </div>
               </div>
               <div class="col-12 col-lg-6 pe-0">
                <div class="card shadow-sm m-3 border mt-0 mb-5"> 
                    <div class="card-header bg-lightblue card-height55">
                    <div class="card-title m-0 ">
                      <h4 class="fw-bolder text-blue">Expense Details</h4>
                    </div>
                  </div>
                  <div class="table-responsive p-5">
                    <table class="table table-striped table-row-bordered gy-5 gs-7">
                      <thead>
                        <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                          <th style="text-align: center;">S.No</th>
                          <th>Name</th>
                          <th>Amount</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let data of expense_list ; let i=index;" class="align-middle">
                          <td style="text-align: center;">{{ i + 1 }}</td>
                          <td>{{ data.expense_name }}</td>
                          <td style="text-align: right; width: 10px;">
                            <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.expense_amount}}</div>
                        </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                    <div *ngFor="let m of daytracker_list" style="text-align: end;" class="pe-15">
                      <div>
                        <span class="fw-bold">Total Expense</span>
                      </div>
                      <div>
                        <p class="mt-3">{{m.expense_amount}}</p>
                      </div>
                    </div>
                </div>
            </div>
        </div>
       </div>
       <div class="card shadow-sm m-3 border mt-0 mb-5"> 
        <div class="card-header bg-lightblue card-height55">
        <div class="card-title m-0 ">
          <h4 class="fw-bolder text-blue">Edit History</h4>
        </div>
      </div>
      <div class="table-responsive p-5">
        <table class="table table-striped table-row-bordered gy-5 gs-7">
          <thead>
            <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
              <th style="text-align: center;">S.No</th>
              <th>Date</th>
              <th>Reason</th>
              <th>Status</th>
              <th>Edited By</th>
              <th>Current Revenue</th>
              <th>Current Expense</th>
              <th>Previous Revenue</th>
              <th>Previous Expense</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of edittracker_list ; let i=index;" class="align-middle">
              <td style="text-align: center;">{{ i + 1 }}</td>
              <td>{{ data.created_date }}</td>
              <td>{{ data.edit_reason }}</td>
              <td>{{ data.edit_status }}</td>
              <td>{{ data.created_by }}</td>
                  <td style="text-align: right; width: 10px;">
                    <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.revenue_amount}}</div>
                </td>
                <td style="text-align: right; width: 10px;">
                  <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.expense_amount}}</div>
              </td>
              <td style="text-align: right; width: 10px;">
                <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.pre_revenue}}</div>
            </td>
            <td style="text-align: right; width: 10px;">
              <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.pre_expense}}</div>
          </td>
          <td class="text-center text-nowrap">
            <button *ngIf="data.edit_status === 'Completed'" title="Expand" (click)="Viewedittracker(data.trackerhis_gid)" data-bs-toggle="modal"
            data-bs-target="#myModalexpand" type="button" class="btn btn-icon btn-sm bg-edit me-2 "
            style="background-color:rgb(19, 103, 172);"><span
              class="fa-solid fa-up-right-and-down-left-from-center text-white fs-6"></span>
          </button>
          <button title="View" type="button" class="btn btn-icon btn-sm bg-primary me-2"
          (click)="Approvaltracker(data.daytracker_gid)" data-bs-target="#myModalview" data-bs-toggle="modal"><span
            class="fa-solid fa-eye text-white fs-6"></span></button>
          </td>
            </tr>
          </tbody>
        </table>
      </div>
      </div>
      <div class="text-center my-4 align-middle">
        <button class="btn-primary btn-sm text-white me-4" routerLink="/outlet/otltrnoutletmanager">
          <i class="fas fa-arrow-left"></i> 
          <span class="ms-3">Back</span>
        </button>
      </div>
        </div>
    </div>
</div>

<div class="modal fade" id="myModalexpand" tabindex="-1" data-bs-backdrop='static'
  aria-labelledby="editamlcategoryLabel" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content d-flex justify-content-center">
      <div class="card-header p-1 pb-1 pt-1 rounded-top bg-primary"
        style="display: flex; align-items: center; height: 40px;">
        <h3 style="margin-top: 10px; color: white; font-weight: bold">
          &nbsp;&nbsp; Details
        </h3>
      </div>
      <div class="modal-body d-flex justify-content-between"> 
        <div class="card shadow-sm m-3 border mt-0 mb-5 flex-fill"> 
          <div class="card-header bg-lightblue card-height55">
            <div class="card-title m-0">
              <h4 class="fw-bolder text-blue">Revenue Details</h4>
            </div>
          </div>
          <div class="table-responsive">
            <div class="mx-3 p-3 bg-white rounded">
              <table class="table table-striped table-row-bordered gy-5 gs-7">
                <thead>
                  <tr class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                    <th>S.No</th>
                    <th>Revenue Name</th>
                    <th>Current Amount</th>
                    <th>Previous Amount</th>
                  </tr>
                </thead>
                <tbody>
                      <tr *ngFor="let data of edittrackerrevenue_list; let i=index;" style="white-space: nowrap;">
                        <td>{{i+1}}</td>
                        <td>{{data.revenue_name}}</td>
                        <td  style="text-align: right; width: 10px;">
                          <div [ngClass]="{'highlight-text': data.revenue_amount !== data.amount}" style="display: inline-block; text-align: right; padding-right: 30px;">
                            {{data.revenue_amount}}
                          </div>
                        </td>
                        <td style="text-align: right; width: 10px;">
                          <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.amount}}</div>
                        </td>
                      </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="card shadow-sm m-3 border mt-0 mb-5 flex-fill"> 
          <div class="card-header bg-lightblue card-height55">
            <div class="card-title m-0 ">
              <h4 class="fw-bolder text-blue">Expense Details</h4>
            </div>
          </div>
          <div class="table-responsive">
            <div class="mx-3 p-3 bg-white rounded">
              <table class="table table-striped table-row-bordered gy-5 gs-7">
                <thead>
                  <tr class="fw-bold fs-7 text-nowrap bg-lightblue text-blue align-middle">
                    <th>S.No</th>
                    <th>Expense Name</th>
                    <th>Current Amount</th>
                    <th>Previous Amount</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of edittrackerexpence_list; let i=index;" style="white-space: nowrap;">
                    <td>{{i+1}}</td>
                    <td>{{data.expense_name}}</td>
                    <td style="text-align: right; width: 10px;">
                    <div [ngClass]="{'highlight-text': data.expense_amount !== data.amount}" style="display: inline-block; text-align: right; padding-right: 30px;">
                      {{data.expense_amount}}
                    </div>
                  </td>
                    <td style="text-align: right; width: 10px;">
                      <div style="display: inline-block; text-align: right;padding-right: 30px;">{{data.amount}}</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center my-4">
        <!-- <button class="btn-success btn-sm text-white me-2" style="background-color: green;" onclick="approveFunction()">
            <i class="fas fa-check text-white"></i> &nbsp;Approve
        </button>&nbsp; -->

        <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal" style="background-color: red;" >
          <i class="fas fa-arrow-left text-white"></i> &nbsp;Back
        </button>&nbsp;
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="myModalview" tabindex="-1" data-bs-backdrop='static'
  aria-labelledby="editamlcategoryLabel" aria-hidden="true" data-bs-keyboard="false">
  <div class="modal-dialog 
  modal-dialog-centered">
    <div class="modal-content d-flex justify-content-center">
      <div class="card-header p-1 pb-1 pt-1 rounded-top bg-primary"
        style="display: flex; align-items: center; height: 40px;">
        <h3 style="margin-top: 10px; color: white; font-weight: bold">
          &nbsp;&nbsp; Edit Approval Details
        </h3>
      </div>
      <div *ngFor="let m of otpverification_list" class="m-4">
        <div class="d-flex flex-row m-3 mt-6 flex-wrap border-bottom" >
            <div class="col-12 col-lg-4 col-md-6 col-sm-12 "><span class="fw-bold">Requested Date </span>
             <p class="mt-3">{{m.created_date}}</p>
            </div>
            <div class="col-12 col-lg-4 col-md-6 col-sm-12"><span class="fw-bold">Outlet</span>
             <p class="mt-3">{{m.campaign_title}}</p>
            </div>
            <div class="col-12 col-lg-4 col-md-6 col-sm-12"> <span class="fw-bold">Reason</span>
              <p class="mt-3">{{m.edit_reason}}</p>
              </div> 
        </div>
        <div class="d-flex flex-row m-3 mt-6 flex-wrap border-bottom" >
            <div class="col-12 col-lg-4 col-md-6 col-sm-12 "><span class="fw-bold">Status</span>
             <p class="mt-3">{{m.edit_status}}</p>
            </div>
            <div class="col-12 col-lg-4 col-md-6 col-sm-12"><span class="fw-bold">Requested By</span>
             <p class="mt-3">{{m.rasied_by}}</p>
            </div>
        </div>
        
      <div class="text-center my-4">
        <button *ngIf="m.edit_status === 'Pending'" class="btn-success btn-sm text-white me-2" style="background-color: green;" (click)="Approve(m.daytracker_gid)" data-bs-dismiss="modal">
          <i class="fas fa-check text-white"></i> &nbsp;Approve
      </button>&nbsp;
      <button  *ngIf="m.edit_status === 'Pending'" class="btn-danger btn-sm text-white me-2" style="background-color: green;" (click)="Reject(m.daytracker_gid)" data-bs-dismiss="modal">
        <i class="fas fa-check text-white"></i> &nbsp;Reject
      </button>&nbsp;

        <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal" style="background-color: red;" >
          <i class="fas fa-arrow-left text-white"></i> &nbsp;Back
        </button>&nbsp;
      </div>
      </div>
    </div>
  </div>
</div>