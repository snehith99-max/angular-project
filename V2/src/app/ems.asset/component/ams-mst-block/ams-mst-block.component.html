
<div class="card shadow-sm">
    <div class="card-header">
        <h3 class="card-title">Block Summary</h3> 
    </div>
    <br>
    <div>  &nbsp;  &nbsp; 
        <!-- ADD Function -->
        <button type="button" class="btn-primary btn-sm text-white me-4"  data-bs-toggle="modal" data-bs-target="#myModaladd">
            <i class="fas fa-plus"></i> &nbsp;&nbsp;&nbsp; Add Block
        </button> 
    </div> 
    <div class="table-responsive">
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white rounded">
            <table id="block_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                <thead>
                    <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                        <th>S.No</th>
                        <th>Asset Unit Name </th>
                        <th>Asset Block Prefix</th>
                        <th>Asset Block Name</th>

                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody> 
                    <tr *ngFor="let data of block_list; let i=index;"> 
                        <td >{{i+1}}</td>
                        <td>{{data.locationunit_name}}</td>
                        <td>{{data.block_prefix}}</td>
                        <td>{{data.locationblock_name}}</td>
                        <td class="text-center text-nowrap">

                            <button title="Edit" type="button" class="btn btn-icon btn-sm bg-success me-2"  (click)="openModaledit(data)"  data-bs-toggle="modal" data-bs-target="#myModaledit"  ><span class="fa-solid fa-pencil text-white  fs-6"></span></button>
                            <button title="Delete" type="button" (click)="openModaldelete(data.locationblock_gid)"   data-bs-toggle="modal" data-bs-target="#myModaldelete" class="btn btn-icon btn-sm bg-danger me-2"><span class="fa-solid fa-trash text-white  fs-6"></span></button>   

                        </td>
                    </tr>
                </tbody> 
            </table>
        </div> 
    </div> 
</div>



<form  [formGroup]="reactiveForm" #form="ngForm">
  <div class="modal" id="myModaladd"  data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
  
        
        <div class="card-header p-1 pb-3 pt-2 rounded-top bg-primary">
            <div><h2 class="fw-bolder text-white">&nbsp;&nbsp;<i class="fas fa-plus fw-bolder fs-3"></i> &nbsp;&nbsp;Add Block</h2></div>

        </div>
  
       
        <div class="modal-body">

           <input class="form-control form-control-lg" formControlName="locationunit_name" hidden pattern="^(?!\s*$).+" type="text" placeholder="Enter Block" aria-label=".form-control-lg example" autocomplete="off" required >


 
            <div class="row"><span class="font-bold"><b>Unit Name</b><span class="ms-1 text-red" >*</span></span>
                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

                 
                     <ng-select formControlName="locationunit_name" [items]="block_list" class="
                     custom
                     col-lg-11 col-14 
                     fv-row
                     mt-2
                   " bindLabel="locationunit_name" bindValue="locationunit_gid" placeholder="Select an option" ></ng-select>
                </div>
                 
            </div>
            
           <br>
        <div class="row"><span class="font-bold"><b>Block Prefix</b><span class="ms-1 text-red" >*</span></span>
            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

            
                 <input formControlName="block_prefix" type="text" class="
                 form-control form-control-lg form-control-solid
                 custom-input
                 mb-3 mb-lg-0
                 bg-white
                 custom-input
               "  placeholder="Enter Block prefix"  pattern="^(?!\s*$).+"  name="block_prefix"   />
            </div>
             
        </div>
        <br>
        <div class="row"><span class="font-bold"><b>Block Name</b><span class="ms-1 text-red" >*</span></span>
          <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

          
               <input formControlName="locationblock_name" type="text" class="
               form-control form-control-lg form-control-solid
               custom-input
               mb-3 mb-lg-0
               bg-white
               custom-input
             "  placeholder="Enter Block Name"  pattern="^(?!\s*$).+"  name="locationblock_name"   />
          </div>
           
      </div>
        </div>
  
       
        <div class="text-center my-4">
            <button  (click)="onsubmit()" [disabled]="reactiveForm.invalid" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal">          
                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
            </button> &nbsp;&nbsp;
            <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"   data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
            </button>
        </div>

        </div>
    </div>
</div>
</form> 

<form  [formGroup]="reactiveFormEdit" #form="ngForm">
  <div class="modal" id="myModaledit"  data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
  
        
        <div class="card-header p-1 pb-3 pt-2 rounded-top bg-primary">
          <div><h2 class="fw-bolder text-white">&nbsp;&nbsp;<i class="fas fa-plus fw-bolder fs-3"></i> &nbsp;&nbsp;Edit Attribute Details</h2></div>

      </div>

     
      <div class="modal-body">

         <input class="form-control form-control-lg" formControlName="locationblock_gid" hidden pattern="^(?!\s*$).+" type="text"  aria-label=".form-control-lg example" autocomplete="off" required >



          <div class="row"><span class="font-bold"><b>Unit Name</b><span class="ms-1 text-red" >*</span></span>
              <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

               
                   <ng-select formControlName="locationunit_name" [items]="block_list" class="
                   custom
                   col-lg-11 col-14 
                   fv-row
                   mt-2
                 " bindLabel="locationunit_name" bindValue="locationunit_name" placeholder="Select an option" ></ng-select>
              </div>
               
          </div>
          
         <br>
      <div class="row"><span class="font-bold"><b>Block Prefix</b><span class="ms-1 text-red" >*</span></span>
          <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

          
               <input formControlName="block_prefix" type="text" class="
               form-control form-control-lg form-control-solid
               custom-input
               mb-3 mb-lg-0
               bg-white
               custom-input
             "  placeholder="Enter Block prefix"  pattern="^(?!\s*$).+"  name="block_prefix"   />
          </div>
           
      </div>
      <br>
      <div class="row"><span class="font-bold"><b>Block Name</b><span class="ms-1 text-red" >*</span></span>
        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

        
             <input formControlName="locationblock_name" type="text" class="
             form-control form-control-lg form-control-solid
             custom-input
             mb-3 mb-lg-0
             bg-white
             custom-input
           "  placeholder="Enter Block Name"  pattern="^(?!\s*$).+"  name="locationblock_name"   />
        </div>
         
    </div>
      </div>

 
        
        <div class="text-center my-4">
            <button   (click)="onupdate()" [disabled]="reactiveFormEdit.invalid" [ngClass]="{
                'primary-button': !reactiveFormEdit.invalid,
                'secondary-button': reactiveFormEdit.invalid
              }" data-bs-dismiss="modal">          
                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Update
            </button> &nbsp;&nbsp;
            <button (click)="onclose1()" class="btn-danger btn-sm text-white me-4"  data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
            </button>


             </div>
        </div>

        </div>
    </div>

</form>






<div class="modal" id="myModaldelete" data-bs-backdrop="static" data-bs-keyboard="false">
<div class="modal-dialog">
    <div class="modal-content">
        <div class="text-center my-4">
        <h2><b>Are you sure?</b></h2>
        <br>
        <p style="display: block;">Do You Want To Delete the Record ?</p>
      <div class="text-center my-4">
        <button class="btn-primary btn-sm text-white me-2"  data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
            </button>&nbsp;
        <button class="btn-danger btn-sm text-white me-4"  (click)="ondelete()" >          
            <i class="fas fa-trash text-white fs-5 "></i> &nbsp;Delete
        </button>
       

      </div>
    </div>
    </div>
  </div>
</div>
