
<div class="card shadow-sm">
    <div class="card-header">
        <h3 class="card-title">Unit Summary</h3> 
    </div>
    <br>
    <div>  &nbsp;  &nbsp; 
        <!-- ADD Function -->
        <button type="button" class="btn-primary btn-sm text-white me-4"  data-bs-toggle="modal" data-bs-target="#myModaladd" title="Add">
            &nbsp;&nbsp;Add Unit
        </button> 
    </div> 
    <div class="table-responsive">
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white rounded">
            <table id="unit_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                <thead>
                    <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                        <th>S.No</th>
                        <th>Asset Unit Code </th>
                        <th>Asset Unit Prefix</th>
                        <th>Asset Unit Name</th>
                       <th>Asset Unit Address</th> 
                       
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody> 
                    <tr *ngFor="let data of unit_list; let i=index;"> 
                        <td >{{i+1}}</td>
                        <td>{{data.locationunit_code}}</td>
                        <td>{{data.unit_prefix}}</td>
                        <td>{{data.locationunit_name}}</td>
                        <td>{{data.locationunit_address}}</td>
                       
                        <td class="text-center text-nowrap">

                            <button title="Edit" type="button" class="btn btn-icon btn-sm bg-success me-2"  (click)="openModaledit(data)"  data-bs-toggle="modal" data-bs-target="#myModaledit"  ><span class="fa-solid fa-pencil text-white  fs-6"></span></button>
                            <button title="Delete" type="button" (click)="openModaldelete(data.locationunit_gid)"   data-bs-toggle="modal" data-bs-target="#myModaldelete" class="btn btn-icon btn-sm bg-danger me-2"><span class="fa-solid fa-trash text-white  fs-6"></span></button>   

                        </td>
                    </tr>
                </tbody> 
            </table>
        </div> 
    </div> 
</div>


<!-- The Modal ADD -->
<form  [formGroup]="reactiveForm" #form="ngForm">
<div class="modal" id="myModaladd"  data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->

        <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
            <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;Add Unit</h2>

        </div>
        <!-- Modal body -->
        <div class="modal-body">
            <label for="disabledTextInput" style="margin-left: 1px;font-size: 14px;"><b>Unit Code</b>&nbsp;</label>
            <div class="input-group mb-4" style="margin-left:2px;width:99%;">
          <div class="input-group-prepend">
           </div>
           <input type="text" style="font-size: 16px; color:black;" placeholder="Auto Generated" formControlName="locationunit_code" class="form-control" readonly>
  
        </div>
            <div class="row"><span class="font-bold"><b>Unit Prefix</b><span class="ms-1 text-red" >*</span></span>
                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

                    <!-- <input class="form-control form-control-lg" formControlName="unit_prefix" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="unit_prefix.invalid && (unit_prefix.dirty || unit_prefix.touched)">
                     -->
                     <input formControlName="unit_prefix" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     unit_prefix.invalid && unit_prefix.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="Enter Unit Prefix"  pattern="^(?!\s*$).+"  name="unit_prefix" required  />
                </div>
                 
            </div>
            <div *ngIf="unit_prefix.invalid && (unit_prefix.dirty || unit_prefix.touched)">
                <div *ngIf="unit_prefix.errors?.['required']">
                  <span style="color:red;">Unit Prefix is required.</span>
                </div>
              </div>
            <br>
            <div class="row"><span class="font-bold"><b>Unit Name</b><span class="ms-1 text-red" >*</span></span>
                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

                    <!-- <input class="form-control form-control-lg" formControlName="locationunit_name" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="locationunit_name.invalid && (locationunit_name.dirty || locationunit_name.touched)">
                     -->
                     <input formControlName="locationunit_name" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     locationunit_name.invalid && locationunit_name.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="Enter Unit Name"  pattern="^(?!\s*$).+"  name="locationunit_name" required  />
                </div>
                 
            </div>
            <div *ngIf="locationunit_name.invalid && (locationunit_name.dirty || locationunit_name.touched)">
                <div *ngIf="locationunit_name.errors?.['required']">
                  <span style="color:red;">Unit Name is required.</span>
                </div>
              </div>
            <br>
            <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label"><b>Unit Address</b></label>
                <textarea id="locationunit_address" formControlName="locationunit_address" rows="4" cols="60" placeholder=" Enter Unit Address"></textarea>
                </div>
            </div>
  
        <!-- Modal footer -->
        <div class="text-center my-4">
            <button  (click)="onsubmit()" [disabled]="reactiveForm.invalid" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal">          
                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
            </button> &nbsp;&nbsp;
            <button class="btn-danger btn-sm text-white me-4"  (click)="onclose()" data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
            </button>
        </div>

        </div>
    </div>
</div>
</form>
<!-- The Modal Edit -->
<form  [formGroup]="reactiveFormEdit" #form="ngForm">
    <div class="modal" id="myModaledit"  data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->

            <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i class="fas fa-pencil fw-bolder fs-3"></i> &nbsp;&nbsp;Edit Unit Details</h2>
    
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <input class="form-control form-control-lg" formControlName="locationunit_gid" hidden pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required >
                
                <label for="disabledTextInput" style="margin-left: 1px;font-size: 14px;"><b>Unit Code</b>&nbsp;</label>
                <div class="input-group mb-4" style="margin-left: 2px;width:99%;">
                <div class="input-group-prepend">
               </div>
               
              <input type="text" style="font-size: 16px;color:black;" size="80" placeholder="Auto Generated"
                formControlName="locationunit_code" class="form-control" readonly>
                </div>
                
                <div class="row"><span class="font-bold"><b>Unit Prefix</b><span class="ms-1 text-red" >*</span></span>
                    <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
    
                        <!-- <input class="form-control form-control-lg" formControlName="unitedit_prefix" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group Prefix" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="unitedit_prefix.invalid && (unitedit_prefix.dirty || unitedit_prefix.touched)"> -->
                        <input formControlName="unitedit_prefix" type="text" class="
                        form-control form-control-lg form-control-solid
                        custom-input
                        mb-3 mb-lg-0
                        bg-white
                        custom-input
                      " [ngStyle]="{
                        'border-color':
                        unitedit_prefix.invalid && unitedit_prefix.touched
                            ? 'red'
                            : 'rgb(209, 209, 209)'
                      }" placeholder="Enter Unit Prefix" name="unitedit_prefix" required  /> 
                       
                    </div>
                     
                </div>
                <div *ngIf="unitedit_prefix.invalid && (unitedit_prefix.dirty || unitedit_prefix.touched)">
                    <div *ngIf="unitedit_prefix.errors?.['required']">
                      <span style="color:red;">Product Group Prefix is required.</span>
                    </div>
                  </div>
                <br>
    
                <div class="row"><span class="font-bold"><b>Unit Name</b><span class="ms-1 text-red" >*</span></span>
                    <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
    
                        <!-- <input class="form-control form-control-lg" formControlName="locationunitedit_name" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="locationunitedit_name.invalid && (locationunitedit_name.dirty || locationunitedit_name.touched)"> -->
                        <input formControlName="locationunitedit_name" type="text" class="
                        form-control form-control-lg form-control-solid
                        custom-input
                        mb-3 mb-lg-0
                        bg-white
                        custom-input
                      " [ngStyle]="{
                        'border-color':
                        locationunitedit_name.invalid && locationunitedit_name.touched
                            ? 'red'
                            : 'rgb(209, 209, 209)'
                      }" placeholder="Enter Unit Name" name="locationunitedit_name" required  /> 
                       
                    </div>
                     
                </div>
                <div *ngIf="locationunitedit_name.invalid && (locationunitedit_name.dirty || locationunitedit_name.touched)">
                    <div *ngIf="locationunitedit_name.errors?.['required']">
                      <span style="color:red;">Product Group is required.</span>
                    </div>
                  </div>
                <br>

                <div class="mb-3">
                    <label for="exampleFormControlTextarea1" class="form-label"><b>Unit Address</b><span class="ms-1 text-red" >*</span></label>
                    <textarea id="locationunitedit_address" formControlName="locationunitedit_address" rows="4" cols="60" placeholder=" Enter Unit Address"></textarea>
                    </div>
                    <div *ngIf="locationunitedit_address.invalid && (locationunitedit_address.dirty || locationunitedit_address.touched)">
                        <div *ngIf="locationunitedit_address.errors?.['required']">
                          <span style="color:red;">Unit Address is required.</span>
                        </div>
                      </div>
                    <br>
    

           
      
            <!-- Modal footer -->
            <div class="text-center my-4">
                <button   (click)="onupdate()" [disabled]="reactiveFormEdit.invalid" [ngClass]="{
                    'primary-button': !reactiveFormEdit.invalid,
                    'secondary-button': reactiveFormEdit.invalid
                  }" data-bs-dismiss="modal">          
                    <i class="fas fa-check text-white fs-5 "></i> &nbsp;Update
                </button> &nbsp;&nbsp;
                <button class="btn-danger btn-sm text-white me-4"  (click)="onclose()" data-bs-dismiss="modal">
                <i class="fas fa-close text-white"></i> &nbsp;Close
                </button>
            </div>
    
            </div>
        </div>
    </div>
    </div>
   
    </form>

<!-- The Modal Delete -->
<div class="modal" id="myModaldelete" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="text-center my-4">
            <h2><b>Are you sure?</b></h2>
            <br>
            <p style="display: block;">Do You Want To Delete the Record ?</p>
          <div class="text-center my-4">
            <button class="btn-primary btn-sm text-white me-2"  data-bs-dismiss="modal">
                <i class="fas fa-close text-white"></i> &nbsp;Close
                </button>&nbsp;
            <button class="btn-danger btn-sm text-white me-4"  (click)="ondelete()"  data-bs-dismiss="modal" >          
                <i class="fas fa-trash text-white fs-5 "></i> &nbsp;Delete
            </button>
           
    
          </div>
        </div>
        </div>
      </div>
    </div>

    <br>