
<div class="card shadow-sm">
    <div class="card-header">
        <h3 class="card-title">Product Group Summary</h3> 
    </div>
    <br>
    <div>  &nbsp;  &nbsp; 
        <!-- ADD Function -->
        <button type="button" class="btn-primary btn-sm text-white me-4"  data-bs-toggle="modal" data-bs-target="#myModaladd" title="Add">
             &nbsp;&nbsp;&nbsp; Add Product Group
        </button> 
    </div> 
    <div class="table-responsive">
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white rounded">
            <table id="productgroup_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                <thead>
                    <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                        <th>S.No</th>
                        <th>Product Group Code </th>
                        <th>Product Group Prefix</th>
                        <th>Product Group</th>
                       <th>Product Group Type</th> 
                       
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody> 
                    <tr *ngFor="let data of productgroup_list; let i=index;"> 
                        <td >{{i+1}}</td>
                        <td>{{data.productgroup_code}}</td>
                        <td>{{data.productgroup_prefix}}</td>
                        <td>{{data.productgroup_name}}</td>
                        <td>{{data.product_type}}</td>
                       
                        <td class="text-center text-nowrap">

                            <button title="Edit" type="button" class="btn btn-icon btn-sm bg-success me-2"  (click)="openModaledit(data)"  data-bs-toggle="modal" data-bs-target="#myModaledit"  ><span class="fa-solid fa-pencil text-white  fs-6"></span></button>
                            <button title="Delete" type="button" (click)="openModaldelete(data.productgroup_gid)"   data-bs-toggle="modal" data-bs-target="#myModaldelete" class="btn btn-icon btn-sm bg-danger me-2"><span class="fa-solid fa-trash text-white  fs-6"></span></button>   

                        </td>
                    </tr>
                </tbody> 
            </table>
        </div> 
    </div> 
</div>


<!-- The Modal ADD -->
<form  [formGroup]="reactiveForm" #form="ngForm">
<div class="modal" id="myModaladd"  data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->

        <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
            <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp; &nbsp;&nbsp;Add Product Group</h2>

        </div>
        <!-- Modal body -->
        <div class="modal-body">
            <label for="disabledTextInput" style="margin-left: 1px;font-size: 14px;"><b>Product Group Code</b>&nbsp;</label>
            <div class="input-group mb-4" style="margin-left: 2px;width:99%;">
          <div class="input-group-prepend">
           </div>
           <input type="text" style="font-size: 16px;color:black;" placeholder="Auto Generated" formControlName="productgroup_code" class="form-control" >
  
        </div>
            <div class="row"><span class="font-bold"><b>Product Group Prefix</b><span class="ms-1 text-red" >*</span></span>
                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

                    <!-- <input class="form-control form-control-lg" formControlName="productgroup_prefix" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="Productgroup_prefix.invalid && (Productgroup_prefix.dirty || Productgroup_prefix.touched)">
                     -->
                     <input formControlName="productgroup_prefix" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     productgroup_prefix.invalid && productgroup_prefix.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="Enter Product Group Prefix"  pattern="^(?!\s*$).+"  name="productgroup_prefix" required  />
                </div>
                 
            </div>
            <div *ngIf="productgroup_prefix.invalid && (productgroup_prefix.dirty || productgroup_prefix.touched)">
                <div *ngIf="productgroup_prefix.errors?.['required']">
                  <span style="color:red;">Product Group Prefix is required.</span>
                </div>
              </div>
            <br>
            <div class="row"><span class="font-bold"><b>Product Group</b><span class="ms-1 text-red" >*</span></span>
                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">

                    <!-- <input class="form-control form-control-lg" formControlName="productgroup_name" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="productgroup_name.invalid && (productgroup_name.dirty || productgroup_name.touched)">
                     -->
                     <input formControlName="productgroup_name" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     productgroup_name.invalid && productgroup_name.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="Enter Product Group Name"  pattern="^(?!\s*$).+"  name="productgroup_name" required  />
                </div>
                 
            </div>
            <div *ngIf="productgroup_name.invalid && (productgroup_name.dirty || productgroup_name.touched)">
                <div *ngIf="productgroup_name.errors?.['required']">
                  <span style="color:red;">Product Group Name is required.</span>
                </div>
              </div>
            <br>
            <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label"><b>Product Group Type</b></label>
                <select style="margin-left: 2px;width:100%;color:black;font-size:16px;" formControlName="product_type" class="form-control">
                <option value="">---Select Product Group Type---</option>
                <option>Asset</option>
                <option>IT Asset-Hardware</option>
                <option>IT Asset-Software</option>
                </select>
                </div>
            </div>
  
        <!-- Modal footer -->
       <div class="text-center my-4">
            <button  (click)="onsubmit()" [disabled]="reactiveForm.invalid" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal">          
                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
            </button> &nbsp;&nbsp;
            <button class="btn-danger btn-sm text-white me-4"  (click)="onclose()" data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
            </button>
        </div>

        </div>
    </div>
</div>
</form>
<!-- The Modal Edit -->
<form  [formGroup]="reactiveFormEdit" #form="ngForm">
    <div class="modal" id="myModaledit"  data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->

            <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i class="fas fa-pencil fw-bolder fs-3"></i> &nbsp;&nbsp;Edit Product Group Details</h2>
    
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <input class="form-control form-control-lg" formControlName="productgroup_gid" hidden pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required >
                
                <label for="disabledTextInput" style="margin-left: 1px;font-size: 14px;">Product Group Code&nbsp;</label>
                <div class="input-group mb-4" style="margin-left: 2px;width:99%;">
              <div class="input-group-prepend">
               </div>
               
              <input type="text" style="font-size: 16px;color:black;" placeholder="Auto Generated"
                formControlName="productgroup_code" class="form-control" readonly>
                </div>
                
                <div class="row"><span class="font-bold"><b>Product Group Prefix</b><span class="ms-1 text-red" >*</span></span>
                    <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
    
                        <!-- <input class="form-control form-control-lg" formControlName="productgroupedit_prefix" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group Prefix" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="Productgroupedit_prefix.invalid && (Productgroupedit_prefix.dirty || Productgroupedit_prefix.touched)"> -->
                        <input formControlName="productgroupedit_prefix" type="text" class="
                        form-control form-control-lg form-control-solid
                        custom-input
                        mb-3 mb-lg-0
                        bg-white
                        custom-input
                      " [ngStyle]="{
                        'border-color':
                        productgroupedit_prefix.invalid && productgroupedit_prefix.touched
                            ? 'red'
                            : 'rgb(209, 209, 209)'
                      }" placeholder="Enter Product Group Prefix" name="productgroupedit_prefix" required  /> 
                       
                    </div>
                     
                </div>
                <div *ngIf="productgroupedit_prefix.invalid && (productgroupedit_prefix.dirty || productgroupedit_prefix.touched)">
                    <div *ngIf="productgroupedit_prefix.errors?.['required']">
                      <span style="color:red;">Product Group Prefix is required.</span>
                    </div>
                  </div>
                <br>
    
                <div class="row"><span class="font-bold"><b>Product Group</b><span class="ms-1 text-red" >*</span></span>
                    <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
    
                        <!-- <input class="form-control form-control-lg" formControlName="productgroupedit_name" pattern="^(?!\s*$).+" type="text" placeholder="Enter Product Group" aria-label=".form-control-lg example" autocomplete="off" required  [class.is-invalid]="productgroupedit_name.invalid && (productgroupedit_name.dirty || productgroupedit_name.touched)"> -->
                        <input formControlName="productgroupedit_name" type="text" class="
                        form-control form-control-lg form-control-solid
                        custom-input
                        mb-3 mb-lg-0
                        bg-white
                        custom-input
                      " [ngStyle]="{
                        'border-color':
                        productgroupedit_name.invalid && productgroupedit_name.touched
                            ? 'red'
                            : 'rgb(209, 209, 209)'
                      }" placeholder="Enter Product Group Name" name="productgroupedit_name" required  /> 
                       
                    </div>
                     
                </div>
                <div *ngIf="productgroupedit_name.invalid && (productgroupedit_name.dirty || productgroupedit_name.touched)">
                    <div *ngIf="productgroupedit_name.errors?.['required']">
                      <span style="color:red;">Product Group is required.</span>
                    </div>
                  </div>
                <br>

                <div class="mb-3">
                    <label for="exampleFormControlTextarea1" class="form-label"><b>Product Group Type</b><span class="ms-1 text-red" >*</span></label>
                    <select style="margin-left: 2px;width:100%;color:black;font-size:16px;" formControlName="productedit_type" class="form-control" placeholder="Select Product Type">
                     
                        <option value="">---Select Product Group Type---</option>
                    
                    <option [value]="Asset">Asset</option>
                    <option [value]="ITAssetHardware">IT Asset-Hardware</option>
                    <option  [value]="ITAssetSoftware">IT Asset-Software</option>
                    </select>
                    </div>
    

           
      
            <!-- Modal footer -->
            <div class="text-center my-4">
                <button   (click)="onupdate()" [disabled]="reactiveFormEdit.invalid" [ngClass]="{
                    'primary-button': !reactiveFormEdit.invalid,
                    'secondary-button': reactiveFormEdit.invalid
                  }" data-bs-dismiss="modal">          
                    <i class="fas fa-check text-white fs-5 "></i> &nbsp;Update
                </button> &nbsp;&nbsp;
                <button class="btn-danger btn-sm text-white me-4"  (click)="onclose()" data-bs-dismiss="modal">
                <i class="fas fa-close text-white"></i> &nbsp;Close
                </button>
            </div>
    
            </div>
        </div>
    </div>
    </div>
   
    </form>

<!-- The Modal Delete -->
<div class="modal" id="myModaldelete" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="text-center my-4">
            <h2><b>Are you sure?</b></h2>
            <br>
            <p style="display: block;">Do You Want To Delete the Record ?</p>
          <div class="text-center my-4">
            <button class="btn-primary btn-sm text-white me-2"  data-bs-dismiss="modal">
                <i class="fas fa-close text-white"></i> &nbsp;Close
                </button>&nbsp;
            <button class="btn-danger btn-sm text-white me-4"  (click)="ondelete()"  data-bs-dismiss="modal" >          
                <i class="fas fa-trash text-white fs-5 "></i> &nbsp;Delete
            </button>
           
    
          </div>
        </div>
        </div>
      </div>
    </div>

    <br>