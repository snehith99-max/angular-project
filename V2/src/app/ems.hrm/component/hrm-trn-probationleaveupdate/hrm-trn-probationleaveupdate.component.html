<div class="card m-3">
    <div class="card-header bg-lightblue card-height55">
        <div class="card-title m-0 ">
            <h5 class="fw-bolder text-blue">Leave Update</h5>
        </div>
    </div>

    <form [formGroup]="probationform" #form="ngForm">

        <div class="d-flex flex-row m-6 flex-wrap">
            <div class="col-12 col-lg-4 col-md-6 col-sm-12"><span class="font-bold required">Leave Grade</span>
              <ng-select class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                formControlName="leavegrade_name" (change)="OnGetleavegradeSummary()" bindLabel="leavegrade_name" bindValue="leavegrade_gid"
                [items]="leavegrade_list"
                [class.is-invalid]="probationform.get('leavegrade_name')?.invalid && (probationform.get('leavegrade_name')?.dirty || probationform.get('leavegrade_name')?.touched)"
                [ngClass]="{'invalid-border': probationform.get('leavegrade_name')?.invalid && probationform.get('leavegrade_name')?.touched}"
                placeholder="Select an option" required></ng-select>
              <div
                *ngIf="probationform.get('leavegrade_name')?.hasError('required') && probationform.get('leavegrade_name')?.touched || probationform.get('leavegrade_name')?.hasError('pattern')"
                class="text-red">Leave grade is required.</div>
            </div>

            <div class="col-12 col-lg-4 col-md-6 col-sm-12"><span class="font-bold required">Job Type</span>
                <ng-select class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                  formControlName="jobtype_name" bindLabel="jobtype_name" bindValue="leavegrade_gid"
                  [items]="jobtype_list"
                  [class.is-invalid]="probationform.get('jobtype_name')?.invalid && (probationform.get('jobtype_name')?.dirty || probationform.get('jobtype_name')?.touched)"
                  [ngClass]="{'invalid-border': probationform.get('jobtype_name')?.invalid && probationform.get('jobtype_name')?.touched}"
                  placeholder="Select an option" required></ng-select>
                <div
                  *ngIf="probationform.get('jobtype_name')?.hasError('required') && probationform.get('jobtype_name')?.touched || probationform.get('jobtype_name')?.hasError('pattern')"
                  class="text-red">Job type is required.</div>
              </div>

            <div class="col-12 col-lg-4 col-md-6 col-sm-12"><span class="font-bold">Confirmed Date</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="date"
                        class="form-control form-control-lg form-control-solid date-picker mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        placeholder="DD-MM-YYYY" formControlName="confirmed_date" />
                </div>
            </div>
        </div>


        <div class="table-responsive">
            <table id="leavegrade" class="table table-striped table-row-bordered gy-5 gs-7 ">
                <thead>
                    <tr class=" text-white fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                        <th>Leave Type</th>
                        <th>Leave Opening</th>
                        <th>Total</th>
                        <th>Available</th>

                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let data of leavegradelist; let i=index;">
                        <td>{{data.leavetype_name}}</td>
                        <td>{{data.total_leavecount}}</td>
                        <td>{{data.available_leavecount}}</td>
                        <td>{{data.leave_limit}}</td>

                    </tr>
                </tbody>
            </table>

        </div>
    </form>
    <div class="text-center my-4">

            <button class="btn-success btn-sm text-white me-2" (click)="updated()"
            [disabled]="probationform.invalid">
            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Update
          </button>

        <button class="btn-primary btn-sm text-white me-4" routerLink="/hrm/hrm-trn-probationperiod">
            <i class="fas fa-arrow-left me-3"></i>Back
        </button>
    </div>
</div>